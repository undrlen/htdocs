<?php
 class umiImportRelations extends singleton implements iUmiImportRelations {protected function __construct() {}public static function getInstance($v4a8a08f09d37b73795649038408b5f33 = null) {return parent::getInstance(__CLASS__);}public function getSourceId($vaf721e88e6c0a612be51c329cb2bc12a) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$vaf721e88e6c0a612be51c329cb2bc12a = $v4717d53ebfdfea8477f780ec66151dcb->escape($vaf721e88e6c0a612be51c329cb2bc12a);$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT id FROM cms3_import_sources WHERE source_name = '{$vaf721e88e6c0a612be51c329cb2bc12a}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function addNewSource($vaf721e88e6c0a612be51c329cb2bc12a) {if ($v0afd9202ba86aa11ce63ad7007e7990b = $this->getSourceId($vaf721e88e6c0a612be51c329cb2bc12a)) {return $v0afd9202ba86aa11ce63ad7007e7990b;}$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$vaf721e88e6c0a612be51c329cb2bc12a = $v4717d53ebfdfea8477f780ec66151dcb->escape($vaf721e88e6c0a612be51c329cb2bc12a);$vac5c74b64b4b8352ef2f181affb5ac2a = "INSERT INTO cms3_import_sources (source_name) VALUES('{$vaf721e88e6c0a612be51c329cb2bc12a}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);return $v4717d53ebfdfea8477f780ec66151dcb->insertId();}public function setIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $v61ce6a78cb3c8547fed20990c92edfe3, $ve1ecb99e7d44ff958e8773995f930c0c) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v61ce6a78cb3c8547fed20990c92edfe3 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v61ce6a78cb3c8547fed20990c92edfe3);$ve1ecb99e7d44ff958e8773995f930c0c = $v4717d53ebfdfea8477f780ec66151dcb->escape($ve1ecb99e7d44ff958e8773995f930c0c);if (!$ve1ecb99e7d44ff958e8773995f930c0c) {return false;}$vac5c74b64b4b8352ef2f181affb5ac2a =    "DELETE FROM cms3_import_relations WHERE source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}' AND (new_id = '{$ve1ecb99e7d44ff958e8773995f930c0c}' OR old_id = '{$v61ce6a78cb3c8547fed20990c92edfe3}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);$vac5c74b64b4b8352ef2f181affb5ac2a =    "INSERT INTO cms3_import_relations (source_id, old_id, new_id) VALUES('{$v0afd9202ba86aa11ce63ad7007e7990b}', '{$v61ce6a78cb3c8547fed20990c92edfe3}', '{$ve1ecb99e7d44ff958e8773995f930c0c}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);return true;}public function getNewIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $v61ce6a78cb3c8547fed20990c92edfe3) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v61ce6a78cb3c8547fed20990c92edfe3 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v61ce6a78cb3c8547fed20990c92edfe3);$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT new_id FROM cms3_import_relations WHERE old_id = '{$v61ce6a78cb3c8547fed20990c92edfe3}' AND source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function getOldIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $ve1ecb99e7d44ff958e8773995f930c0c) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$ve1ecb99e7d44ff958e8773995f930c0c = $v4717d53ebfdfea8477f780ec66151dcb->escape($ve1ecb99e7d44ff958e8773995f930c0c);$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT old_id FROM cms3_import_relations WHERE new_id = '{$ve1ecb99e7d44ff958e8773995f930c0c}' AND source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function setTypeIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $v61ce6a78cb3c8547fed20990c92edfe3, $ve1ecb99e7d44ff958e8773995f930c0c) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v61ce6a78cb3c8547fed20990c92edfe3 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v61ce6a78cb3c8547fed20990c92edfe3);$ve1ecb99e7d44ff958e8773995f930c0c = $v4717d53ebfdfea8477f780ec66151dcb->escape($ve1ecb99e7d44ff958e8773995f930c0c);$vac5c74b64b4b8352ef2f181affb5ac2a =    "DELETE FROM cms3_import_types WHERE source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}' AND (new_id = '{$ve1ecb99e7d44ff958e8773995f930c0c}' OR old_id = '{$v61ce6a78cb3c8547fed20990c92edfe3}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);$vac5c74b64b4b8352ef2f181affb5ac2a =    "INSERT INTO cms3_import_types (source_id, old_id, new_id) VALUES('{$v0afd9202ba86aa11ce63ad7007e7990b}', '{$v61ce6a78cb3c8547fed20990c92edfe3}', '{$ve1ecb99e7d44ff958e8773995f930c0c}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);return true;}public function getNewTypeIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $v61ce6a78cb3c8547fed20990c92edfe3) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v61ce6a78cb3c8547fed20990c92edfe3 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v61ce6a78cb3c8547fed20990c92edfe3);$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT new_id FROM cms3_import_types WHERE old_id = '{$v61ce6a78cb3c8547fed20990c92edfe3}' AND source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function getOldTypeIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $ve1ecb99e7d44ff958e8773995f930c0c) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$ve1ecb99e7d44ff958e8773995f930c0c = $v4717d53ebfdfea8477f780ec66151dcb->escape($ve1ecb99e7d44ff958e8773995f930c0c);$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT old_id FROM cms3_import_types WHERE new_id = '{$ve1ecb99e7d44ff958e8773995f930c0c}' AND source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function setFieldIdRelation($v0afd9202ba86aa11ce63ad7007e7990b, $v94757cae63fd3e398c0811a976dd6bbe, $v6adb6b0ad1941d569b23e089910c5e74, $v32efe3ba69eb769cff89b115a9760c26) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v94757cae63fd3e398c0811a976dd6bbe = $v4717d53ebfdfea8477f780ec66151dcb->escape($v94757cae63fd3e398c0811a976dd6bbe);$v6adb6b0ad1941d569b23e089910c5e74 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v6adb6b0ad1941d569b23e089910c5e74);$v32efe3ba69eb769cff89b115a9760c26 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v32efe3ba69eb769cff89b115a9760c26);$v59e71cf632cfb0b5a93f3ecf820a05ad = umiFieldsCollection::getInstance();if (!$v59e71cf632cfb0b5a93f3ecf820a05ad->isExists($v32efe3ba69eb769cff89b115a9760c26)) {throw new publicAdminException(__METHOD__ . ': cant set relation for non-existing field with id = ' .     $v32efe3ba69eb769cff89b115a9760c26);}$vac5c74b64b4b8352ef2f181affb5ac2a =    "DELETE FROM cms3_import_fields WHERE source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}' AND type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND (field_name = '{$v6adb6b0ad1941d569b23e089910c5e74}' OR new_id = '{$v32efe3ba69eb769cff89b115a9760c26}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);$vac5c74b64b4b8352ef2f181affb5ac2a =    "INSERT INTO cms3_import_fields (source_id, type_id, field_name, new_id) VALUES('{$v0afd9202ba86aa11ce63ad7007e7990b}', '{$v94757cae63fd3e398c0811a976dd6bbe}', '{$v6adb6b0ad1941d569b23e089910c5e74}', '{$v32efe3ba69eb769cff89b115a9760c26}')";$v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);return (string) $v32efe3ba69eb769cff89b115a9760c26;}public function getNewFieldId($v0afd9202ba86aa11ce63ad7007e7990b, $v94757cae63fd3e398c0811a976dd6bbe, $v6adb6b0ad1941d569b23e089910c5e74) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v94757cae63fd3e398c0811a976dd6bbe = $v4717d53ebfdfea8477f780ec66151dcb->escape($v94757cae63fd3e398c0811a976dd6bbe);$v6adb6b0ad1941d569b23e089910c5e74 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v6adb6b0ad1941d569b23e089910c5e74);$vac5c74b64b4b8352ef2f181affb5ac2a =    "SELECT new_id FROM cms3_import_fields WHERE source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}' AND type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND field_name = '{$v6adb6b0ad1941d569b23e089910c5e74}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}public function getOldFieldName($v0afd9202ba86aa11ce63ad7007e7990b, $v94757cae63fd3e398c0811a976dd6bbe, $v32efe3ba69eb769cff89b115a9760c26) {$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$v0afd9202ba86aa11ce63ad7007e7990b = $v4717d53ebfdfea8477f780ec66151dcb->escape($v0afd9202ba86aa11ce63ad7007e7990b);$v94757cae63fd3e398c0811a976dd6bbe = $v4717d53ebfdfea8477f780ec66151dcb->escape($v94757cae63fd3e398c0811a976dd6bbe);$v32efe3ba69eb769cff89b115a9760c26 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v32efe3ba69eb769cff89b115a9760c26);$vac5c74b64b4b8352ef2f181affb5ac2a =    "SELECT field_name FROM cms3_import_fields WHERE source_id = '{$v0afd9202ba86aa11ce63ad7007e7990b}' AND type_id = '{$v94757cae63fd3e398c0811a976dd6bbe}' AND new_id = '{$v32efe3ba69eb769cff89b115a9760c26}'";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ROW);if ($result->length() == 0) {return false;}$v54851b009c5c647ca3e77cc517b8c76c = $result->fetch();return (string) array_shift($v54851b009c5c647ca3e77cc517b8c76c);}};?>
