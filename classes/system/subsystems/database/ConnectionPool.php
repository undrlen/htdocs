<?php
 class ConnectionPool implements iSingleton {private static $instance;private $pool = ['core' => null];private $connectionClassName = 'mysqlConnection';public static function getInstance($v6f66e878c62db60568a3487869695820 = null) {if (self::$instance === null) {self::$instance = new ConnectionPool();}return self::$instance;}public function init() {foreach ($this->pool as $v4717d53ebfdfea8477f780ec66151dcb) {if ($v4717d53ebfdfea8477f780ec66151dcb instanceof IConnection) {$v4717d53ebfdfea8477f780ec66151dcb->open();}}}public function setConnectionObjectClass($v6f66e878c62db60568a3487869695820 = 'mysqlConnection') {if (class_exists($v6f66e878c62db60568a3487869695820) && in_array('IConnection', class_implements($v6f66e878c62db60568a3487869695820))) {$this->connectionClassName = $v6f66e878c62db60568a3487869695820;}}public function getConnectionClasses() {return array_keys($this->pool);}public function addConnectionClass($v6f66e878c62db60568a3487869695820) {if (!array_key_exists($v6f66e878c62db60568a3487869695820, $this->pool)) {$this->pool[$v6f66e878c62db60568a3487869695820] = null;}return true;}public function delConnectionClass($v6f66e878c62db60568a3487869695820) {if ($v6f66e878c62db60568a3487869695820 == 'core') {return false;}if (isset($this->pool[$v6f66e878c62db60568a3487869695820])) {$v4717d53ebfdfea8477f780ec66151dcb = $this->pool[$v6f66e878c62db60568a3487869695820];if ($v4717d53ebfdfea8477f780ec66151dcb instanceof IConnection) {$v4717d53ebfdfea8477f780ec66151dcb->close();}unset($this->pool[$v6f66e878c62db60568a3487869695820]);return true;}return false;}public function addConnection(   $v6f66e878c62db60568a3487869695820,   $v67b3dba8bc6778101892eb77249db32e,   $vd56b699830e77ba53855679cb1d252da,   $v5f4dcc3b5aa765d61d8327deb882cf99,   $ve44cd6dd02c2edf46ddd6cceb4cbcd2e,   $v901555fb06e346cb065ceb9808dcfc25 = false,   $v23c6323bfb57bb630b8a2ecf703d6bb0 = false  ) {$v4176792ad5323d74f2338590ad9db4e4 = $this->connectionClassName;$v4717d53ebfdfea8477f780ec66151dcb = new $v4176792ad5323d74f2338590ad9db4e4($v67b3dba8bc6778101892eb77249db32e, $vd56b699830e77ba53855679cb1d252da, $v5f4dcc3b5aa765d61d8327deb882cf99, $ve44cd6dd02c2edf46ddd6cceb4cbcd2e, $v901555fb06e346cb065ceb9808dcfc25, $v23c6323bfb57bb630b8a2ecf703d6bb0);if (isset($this->pool[$v6f66e878c62db60568a3487869695820])) {$v277aa742a52ca3bba47b22a828e6aa62 = $this->pool[$v6f66e878c62db60568a3487869695820];if ($v277aa742a52ca3bba47b22a828e6aa62 instanceof IConnection) {$v277aa742a52ca3bba47b22a828e6aa62->close();}}$this->pool[$v6f66e878c62db60568a3487869695820] = $v4717d53ebfdfea8477f780ec66151dcb;return true;}public function delConnection($v6f66e878c62db60568a3487869695820) {if (isset($this->pool[$v6f66e878c62db60568a3487869695820])) {$v4717d53ebfdfea8477f780ec66151dcb = $this->pool[$v6f66e878c62db60568a3487869695820];if ($v4717d53ebfdfea8477f780ec66151dcb instanceof IConnection) {$v4717d53ebfdfea8477f780ec66151dcb->close();}$this->pool[$v6f66e878c62db60568a3487869695820] = null;return true;}return false;}public function getConnection($v6f66e878c62db60568a3487869695820 = 'core') {if (!isset($this->pool[$v6f66e878c62db60568a3487869695820])) {$v6f66e878c62db60568a3487869695820 = 'core';}$v4717d53ebfdfea8477f780ec66151dcb = $this->pool[$v6f66e878c62db60568a3487869695820];if (!$v4717d53ebfdfea8477f780ec66151dcb instanceof IConnection) {throw new databaseException('No suitable connection found');}return $v4717d53ebfdfea8477f780ec66151dcb;}public function closeConnection($v6f66e878c62db60568a3487869695820) {if (isset($this->pool[$v6f66e878c62db60568a3487869695820])) {$v4717d53ebfdfea8477f780ec66151dcb = $this->pool[$v6f66e878c62db60568a3487869695820];if ($v4717d53ebfdfea8477f780ec66151dcb instanceof IConnection) {$v4717d53ebfdfea8477f780ec66151dcb->close();}return true;}return false;}private function __construct() {}private function __clone() {}}