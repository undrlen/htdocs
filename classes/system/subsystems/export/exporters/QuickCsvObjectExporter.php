<?php
 class QuickCsvObjectExporter extends csvExporter {private $fieldNameWhiteList = [];public function setFieldNameWhiteList(array $v4ccfaf724b7a75442e150dca4bb7b758) {$this->fieldNameWhiteList = $v4ccfaf724b7a75442e150dca4bb7b758;return $this;}protected function initializeExporter() {$this->exporter = $this->createXmlExporter($this->sourceName, $this->getLimit());$this->exporter->ignoreRelationsExcept('options');$v9602dd5efeb5e02a7e5f213e91c017a7 = $this->entityIdList;if (!$this->shouldFlushToBuffer) {$v9602dd5efeb5e02a7e5f213e91c017a7 = array_slice($v9602dd5efeb5e02a7e5f213e91c017a7, 0, $this->getLimit() + 1);}$this->exporter->addObjects($v9602dd5efeb5e02a7e5f213e91c017a7);$this->exporter->setSerializeOption('field-name-white-list', $this->getFieldNameWhiteList());}protected function loadEntityIdList($v6f017b01ac7b836b216574ebb3f5d73c, $vd1051e3a7d64c17a9cba77188937d2cd) {$this->entityIdList = [];if (file_exists($this->entityIdListFilePath)) {$this->entityIdList = unserialize(file_get_contents($this->entityIdListFilePath));return;}$v9602dd5efeb5e02a7e5f213e91c017a7 = $this->getObjectIdList($v6f017b01ac7b836b216574ebb3f5d73c);foreach ($v9602dd5efeb5e02a7e5f213e91c017a7 as $vb80bb7740288fda1f201890375a60c8f) {$this->entityIdList[$vb80bb7740288fda1f201890375a60c8f] = $vb80bb7740288fda1f201890375a60c8f;}}protected function getPropertyList(DOMDocument $vfdc3bdefb79cec8eb8211d2499e04704) {$vbe984f2e4678f6bf5b6380c762d0f489 = [];$v3d788fa62d7c185a1bee4c9147ee1091 = new DOMXPath($vfdc3bdefb79cec8eb8211d2499e04704);$vf734e07300ef77aa940623b4895f07bd = $v3d788fa62d7c185a1bee4c9147ee1091->query('/umidump/objects/object');foreach ($vf734e07300ef77aa940623b4895f07bd as $v36c4536996ca5615dcf9911f068786dc) {$vbe984f2e4678f6bf5b6380c762d0f489[] = $this->getEntityPropertyList($v36c4536996ca5615dcf9911f068786dc);}return $vbe984f2e4678f6bf5b6380c762d0f489;}protected function getSystemProperties(DOMElement $va8cfde6331bd59eb2ac96f8911c4b666) {$vb80bb7740288fda1f201890375a60c8f = $va8cfde6331bd59eb2ac96f8911c4b666->getAttribute('id');$vb068931cc450442b63f5b3d276ea4297 = $va8cfde6331bd59eb2ac96f8911c4b666->getAttribute('name');$v5f694956811487225d15e973ca38fbab = $va8cfde6331bd59eb2ac96f8911c4b666->getAttribute('type-id');return [    $vb80bb7740288fda1f201890375a60c8f,    $vb068931cc450442b63f5b3d276ea4297,    $v5f694956811487225d15e973ca38fbab   ];}protected function loadSystemHeaders() {$this->nameList = [    'id',    'name',    'type-id'   ];$this->titleList = [    getLabel('csv-property-id', 'exchange'),    getLabel('csv-property-name', 'exchange'),    getLabel('csv-property-type-id', 'exchange')   ];$this->typeList = [    'native',    'native',    'native'   ];}protected function updateEntityIdList() {$v855e2b43183f91a24468d65b2ff88ab4 = array_keys($this->exporter->getExportedObject());$this->entityIdList = array_diff($this->entityIdList, $v855e2b43183f91a24468d65b2ff88ab4);if (!$this->shouldFlushToBuffer) {$this->saveEntityIdList();}}private function getObjectIdList($vc6f70cea476c1b694a66053ac81262f9) {$vfa5a883455df69e98c0f154ad0e5d47b = umiObjectsCollection::getInstance();$v9602dd5efeb5e02a7e5f213e91c017a7 = [];foreach ($vc6f70cea476c1b694a66053ac81262f9 as $v9603a224b40d7b67210b78f2e390d00f) {if (!$v9603a224b40d7b67210b78f2e390d00f instanceof iUmiObject) {$v9603a224b40d7b67210b78f2e390d00f = $vfa5a883455df69e98c0f154ad0e5d47b->getObject($v9603a224b40d7b67210b78f2e390d00f);}if (!$v9603a224b40d7b67210b78f2e390d00f instanceof iUmiObject) {continue;}$v9602dd5efeb5e02a7e5f213e91c017a7[] = $v9603a224b40d7b67210b78f2e390d00f->getId();}return $v9602dd5efeb5e02a7e5f213e91c017a7;}private function getFieldNameWhiteList() {return $this->fieldNameWhiteList;}}