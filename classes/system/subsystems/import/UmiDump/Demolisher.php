<?php
 namespace UmiCms\System\Import\UmiDump;use UmiCms\System\Import\tSourceIdBinderInjector;abstract class Demolisher implements iDemolisher {use tSourceIdBinderInjector;private $parser;private $log = [];private $sourceId;public function run(\DOMXPath $v3643b86326b2ffcc0a085b4dd3a4309b) {$this->setParser($v3643b86326b2ffcc0a085b4dd3a4309b);$this->execute();$vdc1d71bbb5c4d2a5e936db79ef10c19f = $this->getLog();$this->clearLog();return $vdc1d71bbb5c4d2a5e936db79ef10c19f;}public function setSourceId($vb80bb7740288fda1f201890375a60c8f) {$this->sourceId = (int) $vb80bb7740288fda1f201890375a60c8f;return $this;}abstract protected function execute();protected function getSourceId() {return $this->sourceId;}protected function getOriginalSourceName() {$v3643b86326b2ffcc0a085b4dd3a4309b = $this->getParser();if (!$v3643b86326b2ffcc0a085b4dd3a4309b instanceof \DOMXPath) {return null;}$v5e10018cae2143828501bb261ac1884d = $v3643b86326b2ffcc0a085b4dd3a4309b->query('/umidump/meta/source-name');if ($v5e10018cae2143828501bb261ac1884d->length === 0) {return null;}return $v5e10018cae2143828501bb261ac1884d->item(0)->nodeValue;}protected function getSourceName() {return $this->getSourceIdBinder()    ->getSourceName($this->getSourceId());}protected function setParser(\DOMXPath $v3643b86326b2ffcc0a085b4dd3a4309b) {$this->parser = $v3643b86326b2ffcc0a085b4dd3a4309b;return $this;}protected function parse($v3d788fa62d7c185a1bee4c9147ee1091, $v5c18ef72771564b7f43c497dc507aeab = null) {return $this->getParser()    ->evaluate($v3d788fa62d7c185a1bee4c9147ee1091, $v5c18ef72771564b7f43c497dc507aeab);}protected function getParser() {return $this->parser;}protected function getNodeValueList($v3d788fa62d7c185a1bee4c9147ee1091, $v5c18ef72771564b7f43c497dc507aeab = null) {$result = [];foreach ($this->parse($v3d788fa62d7c185a1bee4c9147ee1091, $v5c18ef72771564b7f43c497dc507aeab) as $vd2eb444e35c0a71f0a85df8194acb5b6) {$result[] = (string) $vd2eb444e35c0a71f0a85df8194acb5b6->nodeValue;}return $result;}protected function getNodeValueTree(array $result, $vff96eacc5e5dda4f64c1578f75b68874, $vaec2ea5e2278c7c470c41b1efb442218, $vb841d6891c6aa660bcee4ec1999b23a6) {foreach ($this->parse($vff96eacc5e5dda4f64c1578f75b68874) as $vd0e45878043844ffc41aac437e86b602) {$vbfa030fe63bacd523dd70a76cfaed98a = $vd0e45878043844ffc41aac437e86b602->getAttribute($vaec2ea5e2278c7c470c41b1efb442218);if (!$vbfa030fe63bacd523dd70a76cfaed98a) {continue;}$v66f214d327de6bfb97fdddad16993c96 = $this->getNodeValueList($vb841d6891c6aa660bcee4ec1999b23a6, $vd0e45878043844ffc41aac437e86b602);if (!isset($result[$vbfa030fe63bacd523dd70a76cfaed98a])) {$result[$vbfa030fe63bacd523dd70a76cfaed98a] = $v66f214d327de6bfb97fdddad16993c96;continue;}foreach ($v66f214d327de6bfb97fdddad16993c96 as $vfe2fa9929f168cd5b7e35d2ebab57b24) {if (!in_array($vfe2fa9929f168cd5b7e35d2ebab57b24, $result[$vbfa030fe63bacd523dd70a76cfaed98a])) {$result[$vbfa030fe63bacd523dd70a76cfaed98a][] = $vfe2fa9929f168cd5b7e35d2ebab57b24;}}}return $result;}protected function pushLog($v78e731027d8fd50ed642340b7c9a63b3) {$this->log[] = $v78e731027d8fd50ed642340b7c9a63b3;return $this;}private function clearLog() {$this->log = [];return $this;}private function getLog() {return $this->log;}}