<?php
 namespace UmiCms\System\Import\UmiDump\Demolisher\Type;use UmiCms\System\Import\UmiDump\Demolisher;class FieldGroup extends Demolisher {private $objectTypeCollection;public function __construct(\iUmiObjectTypesCollection $v8d51528cb018f443ee726b3b85da495b) {$this->objectTypeCollection = $v8d51528cb018f443ee726b3b85da495b;}protected function execute() {$vb508148712cb53958c7e3d25ec86d72a = $this->getSourceIdBinder();$v52195dae0174459c5f066fa0df053c26 = $this->getSourceId();$v8d51528cb018f443ee726b3b85da495b = $this->getObjectTypeCollection();foreach ($this->getFieldGroupExtNameTree() as $v7d0aaac5858d436af103d1ee61ef558d => $v9b3024763645e64fd71fb385af4c9e86) {$v5f694956811487225d15e973ca38fbab = $vb508148712cb53958c7e3d25ec86d72a->getNewTypeIdRelation($v52195dae0174459c5f066fa0df053c26, $v7d0aaac5858d436af103d1ee61ef558d);$v599dcce2998a6b40b1e38e8c6006cb0a = $v8d51528cb018f443ee726b3b85da495b->getType($v5f694956811487225d15e973ca38fbab);if (!$v599dcce2998a6b40b1e38e8c6006cb0a instanceof \iUmiObjectType) {$this->pushLog(sprintf('Field group of type "%s" was ignored', $v7d0aaac5858d436af103d1ee61ef558d));continue;}foreach ($v9b3024763645e64fd71fb385af4c9e86 as $v65106b4843fe2b97bf39c46cd832cbdb) {$v47db2588331bbe530c80dd001fc60aed = $vb508148712cb53958c7e3d25ec86d72a->getNewGroupId($v52195dae0174459c5f066fa0df053c26, $v5f694956811487225d15e973ca38fbab, $v65106b4843fe2b97bf39c46cd832cbdb);if ($v47db2588331bbe530c80dd001fc60aed === false || $vb508148712cb53958c7e3d25ec86d72a->isGroupRelatedToAnotherSource($v52195dae0174459c5f066fa0df053c26, $v47db2588331bbe530c80dd001fc60aed)) {$this->pushLog(sprintf('Field group "%s" was ignored', $v65106b4843fe2b97bf39c46cd832cbdb));continue;}$v599dcce2998a6b40b1e38e8c6006cb0a->delFieldsGroup($v47db2588331bbe530c80dd001fc60aed);$this->pushLog(sprintf('Field group "%s" was deleted', $v47db2588331bbe530c80dd001fc60aed));}}}private function getFieldGroupExtNameTree() {$result = [];$result = $this->getNodeValueTree(    $result,    '/umidump/types/type',    'id',    'fieldgroups/group/@name'   );$result = $this->getNodeValueTree(    $result,    '/umidump/pages/page',    'type-id',    'properties/group/@name'   );$result = $this->getNodeValueTree(    $result,    '/umidump/objects/object',    'type-id',    'properties/group/@name'   );return $result;}private function getObjectTypeCollection() {return $this->objectTypeCollection;}}