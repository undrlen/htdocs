<?php
 use UmiCms\System\Hierarchy\Domain\iDetector as DomainDetector;use UmiCms\System\Hierarchy\Language\iDetector as LanguageDetector;use UmiCms\System\MailNotification\iCollection;class MailNotificationsCollection implements  iUmiDataBaseInjector,  iUmiService,  iUmiConstantMapInjector,  iClassConfigManager,  iUmiLanguagesInjector,  iUmiDomainsInjector,  iCollection {use tUmiDataBaseInjector;use tUmiService;use tCommonCollection;use tUmiConstantMapInjector;use tClassConfigManager;use tUmiLanguagesInjector;use tUmiDomainsInjector;private $collectionItemClass = 'MailNotification';private $domainDetector;private $languageDetector;private static $classConfig = [   'service' => 'MailNotifications',   'fields' => [    [     'name' => 'ID_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',     'used-in-creation' => false    ],    [     'name' => 'LANG_ID_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',    ],    [     'name' => 'DOMAIN_ID_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',    ],    [     'name' => 'NAME_FIELD_NAME',     'type' => 'STRING_FIELD_TYPE',     'required' => true,    ],    [     'name' => 'MODULE_FIELD_NAME',     'type' => 'STRING_FIELD_TYPE',     'required' => true,    ]   ]  ];public function getTableName() {return $this->getMap()->get('TABLE_NAME');}public function getCollectionItemClass() {return $this->collectionItemClass;}public function getById($vb80bb7740288fda1f201890375a60c8f) {return $this->getBy($this->getMap()->get('ID_FIELD_NAME'), $vb80bb7740288fda1f201890375a60c8f);}public function getByName($vb068931cc450442b63f5b3d276ea4297) {return $this->getBy($this->getMap()->get('NAME_FIELD_NAME'), $vb068931cc450442b63f5b3d276ea4297);}public function getByModule($v22884db148f0ffb0d830ba431102b0b5) {return $this->getBy($this->getMap()->get('MODULE_FIELD_NAME'), $v22884db148f0ffb0d830ba431102b0b5);}public function getCurrentByName($vb068931cc450442b63f5b3d276ea4297) {$result = $this->get([    $this->getMap()->get('LANG_ID_FIELD_NAME') => $this->getLanguageDetector()->detectId(),    $this->getMap()->get('DOMAIN_ID_FIELD_NAME') => $this->getDomainDetector()->detectId(),    $this->getMap()->get('NAME_FIELD_NAME') => $vb068931cc450442b63f5b3d276ea4297   ]);if (umiCount($result) > 0) {return array_shift($result);}return $this->getDefaultByName($vb068931cc450442b63f5b3d276ea4297);}public function setDomainDetector(DomainDetector $v21aed3df2077b5d91ce46bf123446731) {$this->domainDetector = $v21aed3df2077b5d91ce46bf123446731;return $this;}public function setLanguageDetector(LanguageDetector $v21aed3df2077b5d91ce46bf123446731) {$this->languageDetector = $v21aed3df2077b5d91ce46bf123446731;return $this;}protected function getDefaultByName($vb068931cc450442b63f5b3d276ea4297) {$v3dfc504080246659af41d36f9366d52c = $this->getLanguageCollection()->getDefaultLang();$v9d6e24ec78d309695833f4c9f8310d7a = $this->getDomainCollection()->getDefaultDomain();$result = $this->get([    $this->getMap()->get('LANG_ID_FIELD_NAME') => $v3dfc504080246659af41d36f9366d52c->getId(),    $this->getMap()->get('DOMAIN_ID_FIELD_NAME') => $v9d6e24ec78d309695833f4c9f8310d7a->getId(),    $this->getMap()->get('NAME_FIELD_NAME') => $vb068931cc450442b63f5b3d276ea4297,   ]);if (umiCount($result) > 0) {return array_shift($result);}return null;}private function getDomainDetector() {return $this->domainDetector;}private function getLanguageDetector() {return $this->languageDetector;}}