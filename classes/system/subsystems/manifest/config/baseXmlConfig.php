<?php
 class baseXmlConfig implements iBaseXmlConfig {protected $configFileName;protected $dom;protected $xpath;public function __construct($v4d327509eb542a0a5ada5b1dd436102e) {$this->configFileName = (string) $v4d327509eb542a0a5ada5b1dd436102e;$this->dom = $this->loadDOM($this->configFileName);$this->xpath = new DOMXPath($this->dom);}public function getName() {return getPathInfo($this->configFileName, 'filename');}public function getValue($v3d788fa62d7c185a1bee4c9147ee1091) {$vca15fd43dfaeb80eb8c125735e0479b0 = $this->executeXPath($v3d788fa62d7c185a1bee4c9147ee1091);switch ($vca15fd43dfaeb80eb8c125735e0479b0->length) {case 0 : {return null;}case 1: {$v36c4536996ca5615dcf9911f068786dc = $vca15fd43dfaeb80eb8c125735e0479b0->item(0);return (string) $v36c4536996ca5615dcf9911f068786dc->nodeValue;}default: {$v1ddcb92ade31c8fbd370001f9b29a7d9 = 'Parsing getValue "%s" xpath failed. More than 1 result in "%s".';$v78e731027d8fd50ed642340b7c9a63b3 = sprintf($v1ddcb92ade31c8fbd370001f9b29a7d9, $v3d788fa62d7c185a1bee4c9147ee1091, $this->configFileName);throw new Exception($v78e731027d8fd50ed642340b7c9a63b3);}}}public function getList($v3d788fa62d7c185a1bee4c9147ee1091, array $v736b91750e516139acc13c5eb6564f92 = []) {$vca15fd43dfaeb80eb8c125735e0479b0 = $this->executeXPath($v3d788fa62d7c185a1bee4c9147ee1091);if ($vca15fd43dfaeb80eb8c125735e0479b0->length === 0) {return [];}$result = [];$vf90c96fe5bf8146dad5beb35d256c0ff = !empty($v736b91750e516139acc13c5eb6564f92);for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $vca15fd43dfaeb80eb8c125735e0479b0->length;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$v36c4536996ca5615dcf9911f068786dc = $vca15fd43dfaeb80eb8c125735e0479b0->item($v865c0c0b4ab0e063e5caa3387c1a8741);if (!$vf90c96fe5bf8146dad5beb35d256c0ff) {$result[$v865c0c0b4ab0e063e5caa3387c1a8741] = $v36c4536996ca5615dcf9911f068786dc->nodeValue;continue;}$result[$v865c0c0b4ab0e063e5caa3387c1a8741] = $this->getNodeProperties($v36c4536996ca5615dcf9911f068786dc, $v736b91750e516139acc13c5eb6564f92);}return $result;}protected function getNodeProperties(DOMElement $v36c4536996ca5615dcf9911f068786dc, array $v736b91750e516139acc13c5eb6564f92) {$v06971801e0933a9851dbceec099d3a5c = [];foreach ($v736b91750e516139acc13c5eb6564f92 as $vb068931cc450442b63f5b3d276ea4297 => $ve6f6362248805a36c61d205dbc6f4076) {switch (true) {case ($ve6f6362248805a36c61d205dbc6f4076 === '+params') : {$va0157e792caaa3a3702d1d77b7bf9ebd = $this->extractParams($v36c4536996ca5615dcf9911f068786dc);break;}case ($ve6f6362248805a36c61d205dbc6f4076 === '.') : {$va0157e792caaa3a3702d1d77b7bf9ebd = $v36c4536996ca5615dcf9911f068786dc->nodeValue;break;}case (startsWith($ve6f6362248805a36c61d205dbc6f4076, '/')) : {$ve64117a9f1110ec04e3b760173af56fb = $this->xpath->evaluate(mb_substr($ve6f6362248805a36c61d205dbc6f4076, 1), $v36c4536996ca5615dcf9911f068786dc);$va0157e792caaa3a3702d1d77b7bf9ebd = ($ve64117a9f1110ec04e3b760173af56fb->length == 0) ? null : $ve64117a9f1110ec04e3b760173af56fb->item(0)->nodeValue;break;}case (startsWith($ve6f6362248805a36c61d205dbc6f4076, '@')) : {$v3c6e0b8a9c15224a8228b9a98ca1531d = mb_substr($ve6f6362248805a36c61d205dbc6f4076, 1);$va0157e792caaa3a3702d1d77b7bf9ebd = $v36c4536996ca5615dcf9911f068786dc->hasAttribute($v3c6e0b8a9c15224a8228b9a98ca1531d) ? (string) $v36c4536996ca5615dcf9911f068786dc->getAttribute($v3c6e0b8a9c15224a8228b9a98ca1531d) : null;break;}default : {$va0157e792caaa3a3702d1d77b7bf9ebd = null;}}$v06971801e0933a9851dbceec099d3a5c[$vb068931cc450442b63f5b3d276ea4297] = $va0157e792caaa3a3702d1d77b7bf9ebd;}return $v06971801e0933a9851dbceec099d3a5c;}protected function loadDOM($v4d327509eb542a0a5ada5b1dd436102e) {if (!file_exists($v4d327509eb542a0a5ada5b1dd436102e)) {throw new Exception("Can't find config file \"{$v4d327509eb542a0a5ada5b1dd436102e}\"");}if (!secure_load_dom_document(file_get_contents($v4d327509eb542a0a5ada5b1dd436102e), $vdd988cfd769c9f7fbd795a0f5da8e751)) {throw new Exception("Can't parse xml config \"{$v4d327509eb542a0a5ada5b1dd436102e}\"");}return $vdd988cfd769c9f7fbd795a0f5da8e751;}protected function executeXPath($v3d788fa62d7c185a1bee4c9147ee1091) {return $this->xpath->query((string) $v3d788fa62d7c185a1bee4c9147ee1091);}protected function extractParams(DOMElement $v36c4536996ca5615dcf9911f068786dc) {$result = [];$v1ff556291a63eeae7fc1d58f3312f025 = $this->xpath->query('param', $v36c4536996ca5615dcf9911f068786dc);foreach ($v1ff556291a63eeae7fc1d58f3312f025 as $vf35a79ec893a4a17a9adb7c6615589c0) {$vb068931cc450442b63f5b3d276ea4297 = (string) $vf35a79ec893a4a17a9adb7c6615589c0->getAttribute('name');$v2063c1608d6e0baf80249c42e2be5804 = (string) $vf35a79ec893a4a17a9adb7c6615589c0->getAttribute('value');$vba76c5741c2bfcf0ef345ca5e4cff4fa = $this->xpath->query('param', $vf35a79ec893a4a17a9adb7c6615589c0);if ($vba76c5741c2bfcf0ef345ca5e4cff4fa->length > 0) {$v2063c1608d6e0baf80249c42e2be5804 = $this->extractParams($vf35a79ec893a4a17a9adb7c6615589c0);}$result[$vb068931cc450442b63f5b3d276ea4297] = $v2063c1608d6e0baf80249c42e2be5804;}return $result;}}