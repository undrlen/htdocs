<?php
 namespace UmiCms\System\Orm\Entity;use UmiCms\System\Orm\iEntity;use UmiCms\System\Orm\Entity\Mapper\tInjector as tMapperInjector;abstract class Accessor implements iAccessor {use tMapperInjector;public function __construct(iMapper $v4b9f83e1257a95912768124924dfb143) {$this->setMapper($v4b9f83e1257a95912768124924dfb143);}public function accessOne(iEntity $vf5e638cc78dd325906c1298a0c21fb6b, $vb068931cc450442b63f5b3d276ea4297) {$vc9550d5fad73447fc24ba47f95d1c6b7 = $this->getSchema($vb068931cc450442b63f5b3d276ea4297);return $this->accessBySchema($vf5e638cc78dd325906c1298a0c21fb6b, $vc9550d5fad73447fc24ba47f95d1c6b7);}public function accessMany(array $v8e4a156539e5e358472044b3e46a1fa1, $vb068931cc450442b63f5b3d276ea4297) {$result = [];foreach ($v8e4a156539e5e358472044b3e46a1fa1 as $vf5e638cc78dd325906c1298a0c21fb6b) {$result[] = $this->accessOne($vf5e638cc78dd325906c1298a0c21fb6b, $vb068931cc450442b63f5b3d276ea4297);}return $result;}public function accessCollection(iCollection $vdb6d9b451b818ccc9a449383f2f0c450, $vb068931cc450442b63f5b3d276ea4297) {return $this->accessMany($vdb6d9b451b818ccc9a449383f2f0c450->getList(), $vb068931cc450442b63f5b3d276ea4297);}public function accessOneToMany(iEntity $vf5e638cc78dd325906c1298a0c21fb6b, array $vb586e09ccdd309a0a18b5e0d5c2bfd02) {$result = [];foreach ($vb586e09ccdd309a0a18b5e0d5c2bfd02 as $vb068931cc450442b63f5b3d276ea4297) {$result[$vb068931cc450442b63f5b3d276ea4297] = $this->accessOne($vf5e638cc78dd325906c1298a0c21fb6b, $vb068931cc450442b63f5b3d276ea4297);}return $result;}public function accessManyToMany(array $v8e4a156539e5e358472044b3e46a1fa1, array $vb586e09ccdd309a0a18b5e0d5c2bfd02) {$result = [];foreach ($v8e4a156539e5e358472044b3e46a1fa1 as $vf5e638cc78dd325906c1298a0c21fb6b) {$result[] = $this->accessOneToMany($vf5e638cc78dd325906c1298a0c21fb6b, $vb586e09ccdd309a0a18b5e0d5c2bfd02);}return $result;}public function accessCollectionToMany(iCollection $vdb6d9b451b818ccc9a449383f2f0c450, array $vb586e09ccdd309a0a18b5e0d5c2bfd02) {return $this->accessManyToMany($vdb6d9b451b818ccc9a449383f2f0c450->getList(), $vb586e09ccdd309a0a18b5e0d5c2bfd02);}public function accessOneToAll(iEntity $vf5e638cc78dd325906c1298a0c21fb6b) {$result = [];foreach ($this->getSchemaList() as $vb068931cc450442b63f5b3d276ea4297 => $vc9550d5fad73447fc24ba47f95d1c6b7) {$result[$vb068931cc450442b63f5b3d276ea4297] = $this->accessBySchema($vf5e638cc78dd325906c1298a0c21fb6b, $vc9550d5fad73447fc24ba47f95d1c6b7);}return $result;}public function accessManyToAll(array $v8e4a156539e5e358472044b3e46a1fa1) {$result = [];foreach ($v8e4a156539e5e358472044b3e46a1fa1 as $vf5e638cc78dd325906c1298a0c21fb6b) {$result[] = $this->accessOneToAll($vf5e638cc78dd325906c1298a0c21fb6b);}return $result;}public function accessCollectionToAll(iCollection $vdb6d9b451b818ccc9a449383f2f0c450) {return $this->accessManyToAll($vdb6d9b451b818ccc9a449383f2f0c450->getList());}public function getPropertyList() {return array_keys($this->getSchemaList());}abstract protected function getSchema($vb068931cc450442b63f5b3d276ea4297);abstract protected function getSchemaList();abstract protected function accessBySchema(iEntity $vf5e638cc78dd325906c1298a0c21fb6b, array $vc9550d5fad73447fc24ba47f95d1c6b7);}