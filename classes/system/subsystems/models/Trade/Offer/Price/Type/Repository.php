<?php
 namespace UmiCms\System\Trade\Offer\Price\Type;use UmiCms\System\Orm\iEntity;use UmiCms\System\Trade\Offer\Price\iType;use UmiCms\System\Orm\Entity\Repository as AbstractRepository;class Repository extends AbstractRepository implements iRepository {protected function isValidEntity($vf5e638cc78dd325906c1298a0c21fb6b) {return $vf5e638cc78dd325906c1298a0c21fb6b instanceof iType;}public function save(iEntity $vf5e638cc78dd325906c1298a0c21fb6b) {if (!$this->isValidEntity($vf5e638cc78dd325906c1298a0c21fb6b)) {throw new \ErrorException('Incorrect entity given');}try {if ($vf5e638cc78dd325906c1298a0c21fb6b->hasId()) {$vf5e638cc78dd325906c1298a0c21fb6b = $this->update($vf5e638cc78dd325906c1298a0c21fb6b);}else {$vf5e638cc78dd325906c1298a0c21fb6b = $this->create($vf5e638cc78dd325906c1298a0c21fb6b);}}catch (\databaseException $v42552b1f133f9f8eb406d4f306ea9fd1) {$v04f29af6be672477786ec54d2ed37653 = contains($v42552b1f133f9f8eb406d4f306ea9fd1->getMessage(), iMapper::NAME);if ($this->getConnection()->isDuplicateKey($v42552b1f133f9f8eb406d4f306ea9fd1) && $v04f29af6be672477786ec54d2ed37653) {throw new \databaseException(getLabel('label-error-duplicate-price-type-name'));}throw $v42552b1f133f9f8eb406d4f306ea9fd1;}return $vf5e638cc78dd325906c1298a0c21fb6b->setUpdated(false);}}