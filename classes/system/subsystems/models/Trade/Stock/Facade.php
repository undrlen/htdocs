<?php
 namespace UmiCms\System\Trade\Stock;use UmiCms\System\Trade\iStock;use \iUmiObject as iDataObject;use \iUmiObjectsCollection as iDataObjectCollection;use \iUmiObjectTypesCollection as iDataObjectTypeCollection;class Facade implements iFacade {private $factory;private $objectCollection;private $objectTypeCollection;public function __construct(iFactory $v9549dd6065d019211460c59a86dd6536, iDataObjectCollection $vfa5a883455df69e98c0f154ad0e5d47b, iDataObjectTypeCollection $v545d7f16f17a5ddcfa8b52e72077b5bd) {$this->setFactory($v9549dd6065d019211460c59a86dd6536)    ->setObjectCollection($vfa5a883455df69e98c0f154ad0e5d47b)    ->setObjectTypeCollection($v545d7f16f17a5ddcfa8b52e72077b5bd);}public function get($vb80bb7740288fda1f201890375a60c8f) {$v7beebf4251f2ace3d8e03527fe1bf86e = $this->getObjectCollection()    ->getById($vb80bb7740288fda1f201890375a60c8f);if (!$v7beebf4251f2ace3d8e03527fe1bf86e instanceof iDataObject) {return null;}return $this->getFactory()    ->create($v7beebf4251f2ace3d8e03527fe1bf86e);}public function getList() {$ve2a33428b4befcaf3936850b2bbf7ac5 = [];$v5f694956811487225d15e973ca38fbab = $this->getTypeId();$v9549dd6065d019211460c59a86dd6536 = $this->getFactory();foreach ($this->getObjectCollection()->getListByType($v5f694956811487225d15e973ca38fbab) as $v7beebf4251f2ace3d8e03527fe1bf86e) {$ve2a33428b4befcaf3936850b2bbf7ac5[] = $v9549dd6065d019211460c59a86dd6536->create($v7beebf4251f2ace3d8e03527fe1bf86e);}return $ve2a33428b4befcaf3936850b2bbf7ac5;}public function create($vb068931cc450442b63f5b3d276ea4297) {if (!is_string($vb068931cc450442b63f5b3d276ea4297) || isEmptyString($vb068931cc450442b63f5b3d276ea4297)) {throw new \ErrorException('Incorrect stock name given');}$vfa5a883455df69e98c0f154ad0e5d47b = $this->getObjectCollection();$vb2c04db85918decc35f06e43e5db8ca7 = $vfa5a883455df69e98c0f154ad0e5d47b->addObject($vb068931cc450442b63f5b3d276ea4297, $this->getTypeId());$v7beebf4251f2ace3d8e03527fe1bf86e = $vfa5a883455df69e98c0f154ad0e5d47b->getById($vb2c04db85918decc35f06e43e5db8ca7);if (!$v7beebf4251f2ace3d8e03527fe1bf86e instanceof iDataObject) {throw new \ErrorException('Cannot get create stock data object');}$v7beebf4251f2ace3d8e03527fe1bf86e->setGUID(sprintf('trade_stock_data_object_%d', $v7beebf4251f2ace3d8e03527fe1bf86e->getId()));$v7beebf4251f2ace3d8e03527fe1bf86e->commit();return $this->getFactory()    ->create($v7beebf4251f2ace3d8e03527fe1bf86e);}public function save(iStock $v908880209a64ea539ae8dc5fdb7e0a91) {$v908880209a64ea539ae8dc5fdb7e0a91->getDataObject()    ->commit();return $this;}public function delete($vb80bb7740288fda1f201890375a60c8f) {$vdb6d9b451b818ccc9a449383f2f0c450 = $this->getObjectCollection();$va8cfde6331bd59eb2ac96f8911c4b666 = $vdb6d9b451b818ccc9a449383f2f0c450->getById($vb80bb7740288fda1f201890375a60c8f);if (!$va8cfde6331bd59eb2ac96f8911c4b666 instanceof iDataObject) {return $this;}$v908880209a64ea539ae8dc5fdb7e0a91 = $this->getFactory()    ->create($va8cfde6331bd59eb2ac96f8911c4b666);$vdb6d9b451b818ccc9a449383f2f0c450->delObject($v908880209a64ea539ae8dc5fdb7e0a91->getDataObject()->getId());return $this;}private function getTypeId() {$vb80bb7740288fda1f201890375a60c8f = $this->getObjectTypeCollection()    ->getTypeIdByGUID(iFactory::TYPE_GUID);if (!is_numeric($vb80bb7740288fda1f201890375a60c8f)) {throw new \ErrorException('Cannot get stock data object type');}return $vb80bb7740288fda1f201890375a60c8f;}private function setFactory(iFactory $v9549dd6065d019211460c59a86dd6536) {$this->factory = $v9549dd6065d019211460c59a86dd6536;return $this;}private function getFactory() {return $this->factory;}private function setObjectCollection(iDataObjectCollection $vdb6d9b451b818ccc9a449383f2f0c450) {$this->objectCollection = $vdb6d9b451b818ccc9a449383f2f0c450;return $this;}private function getObjectCollection() {return $this->objectCollection;}private function setObjectTypeCollection(iDataObjectTypeCollection $vdb6d9b451b818ccc9a449383f2f0c450) {$this->objectTypeCollection = $vdb6d9b451b818ccc9a449383f2f0c450;return $this;}private function getObjectTypeCollection() {return $this->objectTypeCollection;}}