<?php
 namespace UmiCms\System\Data\Field\Type;class Migration implements iMigration {private $typeCollection;private $fieldCollection;private $fieldTypeCollection;public function __construct(   \iUmiObjectTypesCollection $v545d7f16f17a5ddcfa8b52e72077b5bd,   \iUmiFieldsCollection $vc08b50415eb1a67928fe59c937252cde,   \iUmiFieldTypesCollection $v55ee9fc92cb8889429478e746ff320e2  ) {$this->typeCollection = $v545d7f16f17a5ddcfa8b52e72077b5bd;$this->fieldCollection = $vc08b50415eb1a67928fe59c937252cde;$this->fieldTypeCollection = $v55ee9fc92cb8889429478e746ff320e2;}public function migrate(array $v42aefbae01d2dfd981f7da7d823d689e) {return $this->process($v42aefbae01d2dfd981f7da7d823d689e, 'to');}public function rollback(array $v42aefbae01d2dfd981f7da7d823d689e) {return $this->process($v42aefbae01d2dfd981f7da7d823d689e, 'from');}private function process(array $v42aefbae01d2dfd981f7da7d823d689e, $v6a992d5529f459a44fee58c733255e86) {if (!isset($v42aefbae01d2dfd981f7da7d823d689e['type-guid'], $v42aefbae01d2dfd981f7da7d823d689e['field'], $v42aefbae01d2dfd981f7da7d823d689e['to'], $v42aefbae01d2dfd981f7da7d823d689e['from'])) {throw new \RuntimeException('Incorrect target given: ' . var_export($v42aefbae01d2dfd981f7da7d823d689e, true));}$v599dcce2998a6b40b1e38e8c6006cb0a = $this->getTypeCollection()    ->getTypeByGUID($v42aefbae01d2dfd981f7da7d823d689e['type-guid']);if (!$v599dcce2998a6b40b1e38e8c6006cb0a instanceof \iUmiObjectType) {throw new \RuntimeException('Incorrect type guid given: ' . var_export($v42aefbae01d2dfd981f7da7d823d689e['type-guid'], true));}$v945100186b119048837b9859c2c46410 = $v599dcce2998a6b40b1e38e8c6006cb0a->getFieldId($v42aefbae01d2dfd981f7da7d823d689e['field']);$v06e3d36fa30cea095545139854ad1fb9 = $this->getFieldCollection()    ->getField($v945100186b119048837b9859c2c46410);if (!$v06e3d36fa30cea095545139854ad1fb9 instanceof \iUmiField) {throw new \RuntimeException('Incorrect field name given: ' . var_export($v42aefbae01d2dfd981f7da7d823d689e['field'], true));}$v025d9eb1d9cad76e538a222ba12f3e27 = $this->getFieldTypeCollection()    ->getFieldTypeByDataType($v42aefbae01d2dfd981f7da7d823d689e[$v6a992d5529f459a44fee58c733255e86]);if (!$v025d9eb1d9cad76e538a222ba12f3e27 instanceof \iUmiFieldType) {throw new \RuntimeException('Incorrect field data type given: ' . var_export($v42aefbae01d2dfd981f7da7d823d689e[$v6a992d5529f459a44fee58c733255e86], true));}$v06e3d36fa30cea095545139854ad1fb9->setFieldTypeId($v025d9eb1d9cad76e538a222ba12f3e27->getId());$v06e3d36fa30cea095545139854ad1fb9->removeRestriction();$v06e3d36fa30cea095545139854ad1fb9->commit();return $this;}private function getTypeCollection() {return $this->typeCollection;}private function getFieldCollection() {return $this->fieldCollection;}private function getFieldTypeCollection() {return $this->fieldTypeCollection;}}