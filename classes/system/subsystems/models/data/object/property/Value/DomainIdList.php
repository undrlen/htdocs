<?php
 namespace UmiCms\System\Data\Object\Property\Value;class DomainIdList extends \umiObjectProperty {protected function loadValue() {$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
SELECT `obj_id`, `field_id`, `domain_id` FROM `$v80071f37861c360a27b7327e132c911a` 
WHERE `obj_id` = $v16b2b26000987faccb260b9d39df1269 AND `field_id` = $v945100186b119048837b9859c2c46410
SQL;   $result = $this->getConnection()    ->queryResult($v1b1cc7f086b3f074da452bc3129981eb);$result->setFetchType(\IQueryResult::FETCH_ASSOC);if ($result->length() == 0) {return [];}$v5a2576254d428ddc22a03fac145c8749 = [];foreach ($result as $vf1965a857bc285d26fe22023aa5ab50d) {$v5a2576254d428ddc22a03fac145c8749[] = (int) $vf1965a857bc285d26fe22023aa5ab50d['domain_id'];}return $v5a2576254d428ddc22a03fac145c8749;}protected function saveValue() {$this->deleteCurrentRows();$vad5658491d1cbf0909b631e0cc6d938d = (array) $this->value;$vad5658491d1cbf0909b631e0cc6d938d = $this->filterDomainIdList($vad5658491d1cbf0909b631e0cc6d938d);if (isEmptyArray($vad5658491d1cbf0909b631e0cc6d938d)) {return true;}$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
INSERT INTO `$v80071f37861c360a27b7327e132c911a` (`obj_id`, `field_id`, `domain_id`) VALUES
SQL;   $v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();foreach ($vad5658491d1cbf0909b631e0cc6d938d as $v72ee76c5c29383b7c9f9225c1fa4d10b) {$v72ee76c5c29383b7c9f9225c1fa4d10b = (int) $v72ee76c5c29383b7c9f9225c1fa4d10b;$v1b1cc7f086b3f074da452bc3129981eb .= sprintf("(%d, %d, %d),", $v16b2b26000987faccb260b9d39df1269, $v945100186b119048837b9859c2c46410, $v72ee76c5c29383b7c9f9225c1fa4d10b);}$v1b1cc7f086b3f074da452bc3129981eb = rtrim($v1b1cc7f086b3f074da452bc3129981eb, ',') . ';';$this->getConnection()->query($v1b1cc7f086b3f074da452bc3129981eb);return true;}protected function isNeedToSave(array $v7f7cfde5ec586119b48911a2c75851e5) {$v388896722d35b885a7a2ff3a82042e2a = $v7f7cfde5ec586119b48911a2c75851e5;$v388896722d35b885a7a2ff3a82042e2a = $this->filterDomainIdList($v388896722d35b885a7a2ff3a82042e2a);$v029c4b8d758c52167878da5059146c45 = (array) $this->value;$v029c4b8d758c52167878da5059146c45 = $this->filterDomainIdList($v029c4b8d758c52167878da5059146c45);if (count($v388896722d35b885a7a2ff3a82042e2a) !== count($v029c4b8d758c52167878da5059146c45)) {return true;}foreach ($v388896722d35b885a7a2ff3a82042e2a as $v994b8828ab7fd91312a3c2f04b767eef) {if (!in_array($v994b8828ab7fd91312a3c2f04b767eef, $v029c4b8d758c52167878da5059146c45)) {return true;}}return false;}private function filterDomainIdList(array $vad5658491d1cbf0909b631e0cc6d938d) {return array_filter($vad5658491d1cbf0909b631e0cc6d938d, function ($v72ee76c5c29383b7c9f9225c1fa4d10b) {return is_numeric($v72ee76c5c29383b7c9f9225c1fa4d10b);});}}