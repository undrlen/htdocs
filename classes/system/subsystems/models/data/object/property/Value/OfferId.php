<?php
 namespace UmiCms\System\Data\Object\Property\Value;class OfferId extends \umiObjectProperty {private $valueId;protected function loadValue() {$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
SELECT `id`, `obj_id`, `field_id`, `offer_id` FROM `$v80071f37861c360a27b7327e132c911a` 
WHERE `obj_id` = $v16b2b26000987faccb260b9d39df1269 AND `field_id` = $v945100186b119048837b9859c2c46410 LIMIT 0, 1
SQL;   $result = $this->getConnection()    ->queryResult($v1b1cc7f086b3f074da452bc3129981eb)    ->setFetchAssoc();if ($result->length() == 0) {return [];}$vf1965a857bc285d26fe22023aa5ab50d = $result->fetch();$this->setValueId($vf1965a857bc285d26fe22023aa5ab50d['id']);return [    (int) $vf1965a857bc285d26fe22023aa5ab50d['offer_id']   ];}protected function saveValue() {$vc3af03f3eff5beac337398bca2d5b52d = getFirstValue($this->value);$vc3af03f3eff5beac337398bca2d5b52d = is_numeric($vc3af03f3eff5beac337398bca2d5b52d) ? (int) $vc3af03f3eff5beac337398bca2d5b52d : null;if ($this->getValueId() === null) {$this->insertRow($vc3af03f3eff5beac337398bca2d5b52d);}else {$this->updateRow($vc3af03f3eff5beac337398bca2d5b52d);}return true;}protected function isNeedToSave(array $v7f7cfde5ec586119b48911a2c75851e5) {$v44883e37f5db14b007f3c48a40cbd7e3 = (int) getFirstValue($v7f7cfde5ec586119b48911a2c75851e5);$v6c5045f0451e9de0015d7bf9dbf015bf = (int) getFirstValue($this->value);return $v6c5045f0451e9de0015d7bf9dbf015bf !== $v44883e37f5db14b007f3c48a40cbd7e3;}private function insertRow($vc3af03f3eff5beac337398bca2d5b52d) {if ($vc3af03f3eff5beac337398bca2d5b52d === null) {return $this->deleteCurrentRows();}$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$vc3af03f3eff5beac337398bca2d5b52d = (int) $vc3af03f3eff5beac337398bca2d5b52d;$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
INSERT INTO `$v80071f37861c360a27b7327e132c911a` (`obj_id`, `field_id`, `offer_id`) 
VALUES ($v16b2b26000987faccb260b9d39df1269, $v945100186b119048837b9859c2c46410, $vc3af03f3eff5beac337398bca2d5b52d)
SQL;   $v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v4717d53ebfdfea8477f780ec66151dcb->query($v1b1cc7f086b3f074da452bc3129981eb);$this->setValueId($v4717d53ebfdfea8477f780ec66151dcb->insertId());}private function updateRow($vc3af03f3eff5beac337398bca2d5b52d) {if ($vc3af03f3eff5beac337398bca2d5b52d === null) {return $this->deleteCurrentRows();}$v80071f37861c360a27b7327e132c911a = $this->getTableName();$vc3af03f3eff5beac337398bca2d5b52d = (int) $vc3af03f3eff5beac337398bca2d5b52d;$vdfc5e241a5663b574a0859fe0e4ebe90 = (int) $this->getValueId();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
UPDATE `$v80071f37861c360a27b7327e132c911a` SET `offer_id` = $vc3af03f3eff5beac337398bca2d5b52d WHERE `id` = $vdfc5e241a5663b574a0859fe0e4ebe90
SQL;   $this->getConnection()    ->query($v1b1cc7f086b3f074da452bc3129981eb);}private function setValueId($vb80bb7740288fda1f201890375a60c8f) {$this->valueId = (int) $vb80bb7740288fda1f201890375a60c8f;return $this;}private function getValueId() {return $this->valueId;}}