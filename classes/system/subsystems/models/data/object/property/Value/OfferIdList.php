<?php
 namespace UmiCms\System\Data\Object\Property\Value;class OfferIdList extends \umiObjectProperty {protected function loadValue() {$v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
SELECT `offer_id` FROM `$v80071f37861c360a27b7327e132c911a` 
WHERE `obj_id` = $v16b2b26000987faccb260b9d39df1269 AND `field_id` = $v945100186b119048837b9859c2c46410
SQL;   $result = $this->getConnection()    ->queryResult($v1b1cc7f086b3f074da452bc3129981eb)    ->setFetchAssoc();if ($result->length() == 0) {return [];}$v5a2576254d428ddc22a03fac145c8749 = [];foreach ($result as $vf1965a857bc285d26fe22023aa5ab50d) {$v5a2576254d428ddc22a03fac145c8749[] = (int) $vf1965a857bc285d26fe22023aa5ab50d['offer_id'];}return $v5a2576254d428ddc22a03fac145c8749;}protected function saveValue() {$v664c671118d4f048dc023baf0d285c54 = (array) $this->value;$v664c671118d4f048dc023baf0d285c54 = $this->filterOfferIdList($v664c671118d4f048dc023baf0d285c54);$this->deleteCurrentRows();if (isEmptyArray($v664c671118d4f048dc023baf0d285c54)) {return $this;}$v80071f37861c360a27b7327e132c911a = $this->getTableName();$v1b1cc7f086b3f074da452bc3129981eb = <<<SQL
INSERT INTO `$v80071f37861c360a27b7327e132c911a` (`obj_id`, `field_id`, `offer_id`) VALUES
SQL;   $v16b2b26000987faccb260b9d39df1269 = (int) $this->getObjectId();$v945100186b119048837b9859c2c46410 = (int) $this->getFieldId();foreach ($v664c671118d4f048dc023baf0d285c54 as $vc3af03f3eff5beac337398bca2d5b52d) {$vc3af03f3eff5beac337398bca2d5b52d = (int) $vc3af03f3eff5beac337398bca2d5b52d;$v1b1cc7f086b3f074da452bc3129981eb .= sprintf('(%d, %d, %d),', $v16b2b26000987faccb260b9d39df1269, $v945100186b119048837b9859c2c46410, $vc3af03f3eff5beac337398bca2d5b52d);}$v1b1cc7f086b3f074da452bc3129981eb = rtrim($v1b1cc7f086b3f074da452bc3129981eb, ',') . ';';$this->getConnection()    ->query($v1b1cc7f086b3f074da452bc3129981eb);return $this;}protected function isNeedToSave(array $v7f7cfde5ec586119b48911a2c75851e5) {$v0e1cba6b6e431217e0513dc5a73b72ff = $v7f7cfde5ec586119b48911a2c75851e5;$v0e1cba6b6e431217e0513dc5a73b72ff = $this->filterOfferIdList($v0e1cba6b6e431217e0513dc5a73b72ff);$v719544a46a8a68231311a7f1a913605a = (array) $this->value;$v719544a46a8a68231311a7f1a913605a = $this->filterOfferIdList($v719544a46a8a68231311a7f1a913605a);if (count($v0e1cba6b6e431217e0513dc5a73b72ff) !== count($v719544a46a8a68231311a7f1a913605a)) {return true;}foreach ($v0e1cba6b6e431217e0513dc5a73b72ff as $v44883e37f5db14b007f3c48a40cbd7e3) {if (!in_array($v44883e37f5db14b007f3c48a40cbd7e3, $v719544a46a8a68231311a7f1a913605a)) {return true;}}return false;}private function filterOfferIdList(array $v664c671118d4f048dc023baf0d285c54) {return array_filter($v664c671118d4f048dc023baf0d285c54, function ($vc3af03f3eff5beac337398bca2d5b52d) {return is_numeric($vc3af03f3eff5beac337398bca2d5b52d);});}}