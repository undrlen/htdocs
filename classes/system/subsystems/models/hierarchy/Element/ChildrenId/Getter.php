<?php
 namespace UmiCms\System\Hierarchy\Element\ChildrenId;class Getter implements iGetter {private $connection;public function __construct(\IConnection $v4717d53ebfdfea8477f780ec66151dcb) {$this->connection = $v4717d53ebfdfea8477f780ec66151dcb;}public function get($vbfa030fe63bacd523dd70a76cfaed98a, $vaa9f73eea60a006820d0f8768bc8a3fc = self::DEFAULT_PART_LIMIT) {$v1b1cc7f086b3f074da452bc3129981eb = $this->glueQuery(    $this->getSelection(),    $this->getRelationFilter($vbfa030fe63bacd523dd70a76cfaed98a),    $this->getDeletedFilter(false),    $this->getLimit($vaa9f73eea60a006820d0f8768bc8a3fc)   );return $this->getResult($v1b1cc7f086b3f074da452bc3129981eb);}public function getDeleted($vbfa030fe63bacd523dd70a76cfaed98a, $vaa9f73eea60a006820d0f8768bc8a3fc = self::DEFAULT_PART_LIMIT) {$v1b1cc7f086b3f074da452bc3129981eb = $this->glueQuery(    $this->getSelection(),    $this->getRelationFilter($vbfa030fe63bacd523dd70a76cfaed98a),    $this->getDeletedFilter(true),    $this->getLimit($vaa9f73eea60a006820d0f8768bc8a3fc)   );return $this->getResult($v1b1cc7f086b3f074da452bc3129981eb);}public function getActive($vbfa030fe63bacd523dd70a76cfaed98a, $vaa9f73eea60a006820d0f8768bc8a3fc = self::DEFAULT_PART_LIMIT) {$v1b1cc7f086b3f074da452bc3129981eb = $this->glueQuery(    $this->getSelection(),    $this->getRelationFilter($vbfa030fe63bacd523dd70a76cfaed98a),    $this->getDeletedFilter(false),    $this->getActiveFilter(true),    $this->getLimit($vaa9f73eea60a006820d0f8768bc8a3fc)   );return $this->getResult($v1b1cc7f086b3f074da452bc3129981eb);}public function getInactive($vbfa030fe63bacd523dd70a76cfaed98a, $vaa9f73eea60a006820d0f8768bc8a3fc = self::DEFAULT_PART_LIMIT) {$v1b1cc7f086b3f074da452bc3129981eb = $this->glueQuery(    $this->getSelection(),    $this->getRelationFilter($vbfa030fe63bacd523dd70a76cfaed98a),    $this->getDeletedFilter(false),    $this->getActiveFilter(false),    $this->getLimit($vaa9f73eea60a006820d0f8768bc8a3fc)   );return $this->getResult($v1b1cc7f086b3f074da452bc3129981eb);}private function glueQuery(...$v78f0805fa8ffadabda721fdaf85b3ca9) {return implode(' ', $v78f0805fa8ffadabda721fdaf85b3ca9);}private function getSelection() {return <<<SQL
SELECT `child_id` 
FROM `cms3_hierarchy_relations` 
LEFT JOIN `cms3_hierarchy` ON `cms3_hierarchy`.`id` = `cms3_hierarchy_relations`.`child_id`
SQL;  }private function getRelationFilter($vbfa030fe63bacd523dd70a76cfaed98a) {$vbfa030fe63bacd523dd70a76cfaed98a = (int) $vbfa030fe63bacd523dd70a76cfaed98a;$v3f9178c25b78ed8bed19091bcb62e266 = ($vbfa030fe63bacd523dd70a76cfaed98a === 0) ? ' IS NULL' : " = $vbfa030fe63bacd523dd70a76cfaed98a";return "WHERE `rel_id` $v3f9178c25b78ed8bed19091bcb62e266";}private function getDeletedFilter($va18b1057c4327b9cc46abc9fcf952bd8) {$va18b1057c4327b9cc46abc9fcf952bd8 = (int) $va18b1057c4327b9cc46abc9fcf952bd8;return "AND `cms3_hierarchy`.`is_deleted` = $va18b1057c4327b9cc46abc9fcf952bd8";}private function getActiveFilter($v367e854225a0810977297b3bedb2f309) {$v367e854225a0810977297b3bedb2f309 = (int) $v367e854225a0810977297b3bedb2f309;return "AND `cms3_hierarchy`.`is_active` = $v367e854225a0810977297b3bedb2f309";}private function getLimit($vaa9f73eea60a006820d0f8768bc8a3fc) {$vaa9f73eea60a006820d0f8768bc8a3fc = (int) $vaa9f73eea60a006820d0f8768bc8a3fc;return "LIMIT 0, $vaa9f73eea60a006820d0f8768bc8a3fc";}private function getResult($v1b1cc7f086b3f074da452bc3129981eb) {try {$v26d59e24afcb9c11f03ffe8392b68734 = $this->connection     ->queryResult($v1b1cc7f086b3f074da452bc3129981eb)     ->setFetchAssoc();}catch (\databaseException $v42552b1f133f9f8eb406d4f306ea9fd1) {\umiExceptionHandler::report($v42552b1f133f9f8eb406d4f306ea9fd1);return [];}$v5a2576254d428ddc22a03fac145c8749 = [];foreach ($v26d59e24afcb9c11f03ffe8392b68734 as $vf1965a857bc285d26fe22023aa5ab50d) {$v5a2576254d428ddc22a03fac145c8749[] = (int) $vf1965a857bc285d26fe22023aa5ab50d['child_id'];}return $v5a2576254d428ddc22a03fac145c8749;}}