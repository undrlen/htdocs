<?php
 define('SEARCHD_COMMAND_SEARCH', 0);define('SEARCHD_COMMAND_EXCERPT', 1);define('SEARCHD_COMMAND_UPDATE', 2);define('SEARCHD_COMMAND_KEYWORDS', 3);define('SEARCHD_COMMAND_PERSIST', 4);define('SEARCHD_COMMAND_STATUS', 5);define('SEARCHD_COMMAND_QUERY', 6);define('SEARCHD_COMMAND_FLUSHATTRS', 7);define('VER_COMMAND_SEARCH', 0x117);define('VER_COMMAND_EXCERPT', 0x100);define('VER_COMMAND_UPDATE', 0x102);define('VER_COMMAND_KEYWORDS', 0x100);define('VER_COMMAND_STATUS', 0x100);define('VER_COMMAND_QUERY', 0x100);define('VER_COMMAND_FLUSHATTRS', 0x100);define('SEARCHD_OK', 0);define('SEARCHD_ERROR', 1);define('SEARCHD_RETRY', 2);define('SEARCHD_WARNING', 3);define('SPH_MATCH_ALL', 0);define('SPH_MATCH_ANY', 1);define('SPH_MATCH_PHRASE', 2);define('SPH_MATCH_BOOLEAN', 3);define('SPH_MATCH_EXTENDED', 4);define('SPH_MATCH_FULLSCAN', 5);define('SPH_MATCH_EXTENDED2', 6);define('SPH_RANK_PROXIMITY_BM25', 0);define('SPH_RANK_BM25', 1);define('SPH_RANK_NONE', 2);define('SPH_RANK_WORDCOUNT', 3);define('SPH_RANK_PROXIMITY', 4);define('SPH_RANK_MATCHANY', 5);define('SPH_RANK_FIELDMASK', 6);define('SPH_RANK_SPH04', 7);define('SPH_RANK_TOTAL', 8);define('SPH_SORT_RELEVANCE', 0);define('SPH_SORT_ATTR_DESC', 1);define('SPH_SORT_ATTR_ASC', 2);define('SPH_SORT_TIME_SEGMENTS', 3);define('SPH_SORT_EXTENDED', 4);define('SPH_SORT_EXPR', 5);define('SPH_FILTER_VALUES', 0);define('SPH_FILTER_RANGE', 1);define('SPH_FILTER_FLOATRANGE', 2);define('SPH_ATTR_INTEGER', 1);define('SPH_ATTR_TIMESTAMP', 2);define('SPH_ATTR_ORDINAL', 3);define('SPH_ATTR_BOOL', 4);define('SPH_ATTR_FLOAT', 5);define('SPH_ATTR_BIGINT', 6);define('SPH_ATTR_STRING', 7);define('SPH_ATTR_MULTI', 0x40000000);define('SPH_GROUPBY_DAY', 0);define('SPH_GROUPBY_WEEK', 1);define('SPH_GROUPBY_MONTH', 2);define('SPH_GROUPBY_YEAR', 3);define('SPH_GROUPBY_ATTR', 4);define('SPH_GROUPBY_ATTRPAIR', 5);function sphPackI64($v9e3669d19b675bd57058fd4664205d2a) {assert(is_numeric($v9e3669d19b675bd57058fd4664205d2a));if (PHP_INT_SIZE >= 8) {$v9e3669d19b675bd57058fd4664205d2a = (int) $v9e3669d19b675bd57058fd4664205d2a;return pack('NN', $v9e3669d19b675bd57058fd4664205d2a >> 32, $v9e3669d19b675bd57058fd4664205d2a & 0xFFFFFFFF);}if (is_int($v9e3669d19b675bd57058fd4664205d2a)) {return pack('NN', $v9e3669d19b675bd57058fd4664205d2a < 0 ? -1 : 0, $v9e3669d19b675bd57058fd4664205d2a);}if (function_exists('bcmul')) {if (bccomp($v9e3669d19b675bd57058fd4664205d2a, 0) == -1) {$v9e3669d19b675bd57058fd4664205d2a = bcadd('18446744073709551616', $v9e3669d19b675bd57058fd4664205d2a);}$v2510c39011c5be704182423e3a695e91 = bcdiv($v9e3669d19b675bd57058fd4664205d2a, '4294967296', 0);$v2db95e8e1a9267b7a1188556b2013b33 = bcmod($v9e3669d19b675bd57058fd4664205d2a, '4294967296');return pack('NN', (float) $v2510c39011c5be704182423e3a695e91, (float) $v2db95e8e1a9267b7a1188556b2013b33);}$v83878c91171338902e0fe0fb97a8c47a = max(0, strlen($v9e3669d19b675bd57058fd4664205d2a) - 13);$v7ce8636c076f5f42316676f7ca5ccfbe = abs((float) substr($v9e3669d19b675bd57058fd4664205d2a, $v83878c91171338902e0fe0fb97a8c47a));$v49f68a5c8493ec2c0bf489821c21fc3b = abs((float) substr($v9e3669d19b675bd57058fd4664205d2a, 0, $v83878c91171338902e0fe0fb97a8c47a));$v6f8f57715090da2632453988d9a1501b = $v7ce8636c076f5f42316676f7ca5ccfbe + $v49f68a5c8493ec2c0bf489821c21fc3b * 1316134912.0;$v7694f4a66316e53c8cdd9d9954bd611d = floor($v6f8f57715090da2632453988d9a1501b / 4294967296.0);$v2db95e8e1a9267b7a1188556b2013b33 = $v6f8f57715090da2632453988d9a1501b - ($v7694f4a66316e53c8cdd9d9954bd611d * 4294967296.0);$v2510c39011c5be704182423e3a695e91 = $v49f68a5c8493ec2c0bf489821c21fc3b * 2328.0 + $v7694f4a66316e53c8cdd9d9954bd611d;if ($v9e3669d19b675bd57058fd4664205d2a < 0) {if ($v2db95e8e1a9267b7a1188556b2013b33 == 0) {$v2510c39011c5be704182423e3a695e91 = 4294967296.0 - $v2510c39011c5be704182423e3a695e91;}else {$v2510c39011c5be704182423e3a695e91 = 4294967295.0 - $v2510c39011c5be704182423e3a695e91;$v2db95e8e1a9267b7a1188556b2013b33 = 4294967296.0 - $v2db95e8e1a9267b7a1188556b2013b33;}}return pack('NN', $v2510c39011c5be704182423e3a695e91, $v2db95e8e1a9267b7a1188556b2013b33);}function sphPackU64($v9e3669d19b675bd57058fd4664205d2a) {assert(is_numeric($v9e3669d19b675bd57058fd4664205d2a));if (PHP_INT_SIZE >= 8) {assert($v9e3669d19b675bd57058fd4664205d2a >= 0);if (is_int($v9e3669d19b675bd57058fd4664205d2a)) {return pack('NN', $v9e3669d19b675bd57058fd4664205d2a >> 32, $v9e3669d19b675bd57058fd4664205d2a & 0xFFFFFFFF);}if (function_exists('bcmul')) {$v2510c39011c5be704182423e3a695e91 = bcdiv($v9e3669d19b675bd57058fd4664205d2a, 4294967296, 0);$v2db95e8e1a9267b7a1188556b2013b33 = bcmod($v9e3669d19b675bd57058fd4664205d2a, 4294967296);return pack('NN', $v2510c39011c5be704182423e3a695e91, $v2db95e8e1a9267b7a1188556b2013b33);}$v83878c91171338902e0fe0fb97a8c47a = max(0, strlen($v9e3669d19b675bd57058fd4664205d2a) - 13);$v7ce8636c076f5f42316676f7ca5ccfbe = (int) substr($v9e3669d19b675bd57058fd4664205d2a, $v83878c91171338902e0fe0fb97a8c47a);$v49f68a5c8493ec2c0bf489821c21fc3b = (int) substr($v9e3669d19b675bd57058fd4664205d2a, 0, $v83878c91171338902e0fe0fb97a8c47a);$v6f8f57715090da2632453988d9a1501b = $v7ce8636c076f5f42316676f7ca5ccfbe + $v49f68a5c8493ec2c0bf489821c21fc3b * 1316134912;$v2db95e8e1a9267b7a1188556b2013b33 = $v6f8f57715090da2632453988d9a1501b % 4294967296;$v2510c39011c5be704182423e3a695e91 = $v49f68a5c8493ec2c0bf489821c21fc3b * 2328 + (int) ($v6f8f57715090da2632453988d9a1501b / 4294967296);return pack('NN', $v2510c39011c5be704182423e3a695e91, $v2db95e8e1a9267b7a1188556b2013b33);}if (is_int($v9e3669d19b675bd57058fd4664205d2a)) {return pack('NN', 0, $v9e3669d19b675bd57058fd4664205d2a);}if (function_exists('bcmul')) {$v2510c39011c5be704182423e3a695e91 = bcdiv($v9e3669d19b675bd57058fd4664205d2a, '4294967296', 0);$v2db95e8e1a9267b7a1188556b2013b33 = bcmod($v9e3669d19b675bd57058fd4664205d2a, '4294967296');return pack('NN', (float) $v2510c39011c5be704182423e3a695e91, (float) $v2db95e8e1a9267b7a1188556b2013b33);}$v83878c91171338902e0fe0fb97a8c47a = max(0, strlen($v9e3669d19b675bd57058fd4664205d2a) - 13);$v7ce8636c076f5f42316676f7ca5ccfbe = (float) substr($v9e3669d19b675bd57058fd4664205d2a, $v83878c91171338902e0fe0fb97a8c47a);$v49f68a5c8493ec2c0bf489821c21fc3b = (float) substr($v9e3669d19b675bd57058fd4664205d2a, 0, $v83878c91171338902e0fe0fb97a8c47a);$v6f8f57715090da2632453988d9a1501b = $v7ce8636c076f5f42316676f7ca5ccfbe + $v49f68a5c8493ec2c0bf489821c21fc3b * 1316134912.0;$v7694f4a66316e53c8cdd9d9954bd611d = floor($v6f8f57715090da2632453988d9a1501b / 4294967296.0);$v2db95e8e1a9267b7a1188556b2013b33 = $v6f8f57715090da2632453988d9a1501b - ($v7694f4a66316e53c8cdd9d9954bd611d * 4294967296.0);$v2510c39011c5be704182423e3a695e91 = $v49f68a5c8493ec2c0bf489821c21fc3b * 2328.0 + $v7694f4a66316e53c8cdd9d9954bd611d;return pack('NN', $v2510c39011c5be704182423e3a695e91, $v2db95e8e1a9267b7a1188556b2013b33);}function sphUnpackU64($v9e3669d19b675bd57058fd4664205d2a) {list ($v49f68a5c8493ec2c0bf489821c21fc3b, $v7ce8636c076f5f42316676f7ca5ccfbe) = array_values(unpack('N*N*', $v9e3669d19b675bd57058fd4664205d2a));if (PHP_INT_SIZE >= 8) {if ($v49f68a5c8493ec2c0bf489821c21fc3b < 0) {$v49f68a5c8493ec2c0bf489821c21fc3b += (1 << 32);}if ($v7ce8636c076f5f42316676f7ca5ccfbe < 0) {$v7ce8636c076f5f42316676f7ca5ccfbe += (1 << 32);}if ($v49f68a5c8493ec2c0bf489821c21fc3b <= 2147483647) {return ($v49f68a5c8493ec2c0bf489821c21fc3b << 32) + $v7ce8636c076f5f42316676f7ca5ccfbe;}if (function_exists('bcmul')) {return bcadd($v7ce8636c076f5f42316676f7ca5ccfbe, bcmul($v49f68a5c8493ec2c0bf489821c21fc3b, '4294967296'));}$v0d61f8370cad1d412f80b84d143e1257 = 100000;$v2510c39011c5be704182423e3a695e91 = ((int) ($v49f68a5c8493ec2c0bf489821c21fc3b / $v0d61f8370cad1d412f80b84d143e1257) << 32) + (int) ($v7ce8636c076f5f42316676f7ca5ccfbe / $v0d61f8370cad1d412f80b84d143e1257);$v2db95e8e1a9267b7a1188556b2013b33 = (($v49f68a5c8493ec2c0bf489821c21fc3b % $v0d61f8370cad1d412f80b84d143e1257) << 32) + ($v7ce8636c076f5f42316676f7ca5ccfbe % $v0d61f8370cad1d412f80b84d143e1257);if ($v2db95e8e1a9267b7a1188556b2013b33 > $v0d61f8370cad1d412f80b84d143e1257) {$v2510c39011c5be704182423e3a695e91 += (int) ($v2db95e8e1a9267b7a1188556b2013b33 / $v0d61f8370cad1d412f80b84d143e1257);$v2db95e8e1a9267b7a1188556b2013b33 = $v2db95e8e1a9267b7a1188556b2013b33 % $v0d61f8370cad1d412f80b84d143e1257;}if ($v2510c39011c5be704182423e3a695e91 == 0) {return $v2db95e8e1a9267b7a1188556b2013b33;}return sprintf('%d%05d', $v2510c39011c5be704182423e3a695e91, $v2db95e8e1a9267b7a1188556b2013b33);}if ($v49f68a5c8493ec2c0bf489821c21fc3b == 0) {if ($v7ce8636c076f5f42316676f7ca5ccfbe > 0) {return $v7ce8636c076f5f42316676f7ca5ccfbe;}return sprintf('%u', $v7ce8636c076f5f42316676f7ca5ccfbe);}$v49f68a5c8493ec2c0bf489821c21fc3b = sprintf('%u', $v49f68a5c8493ec2c0bf489821c21fc3b);$v7ce8636c076f5f42316676f7ca5ccfbe = sprintf('%u', $v7ce8636c076f5f42316676f7ca5ccfbe);if (function_exists('bcmul')) {return bcadd($v7ce8636c076f5f42316676f7ca5ccfbe, bcmul($v49f68a5c8493ec2c0bf489821c21fc3b, '4294967296'));}$v49f68a5c8493ec2c0bf489821c21fc3b = (float) $v49f68a5c8493ec2c0bf489821c21fc3b;$v7ce8636c076f5f42316676f7ca5ccfbe = (float) $v7ce8636c076f5f42316676f7ca5ccfbe;$v7694f4a66316e53c8cdd9d9954bd611d = floor($v49f68a5c8493ec2c0bf489821c21fc3b / 10000000.0);$v4b43b0aee35624cd95b910189b3dc231 = $v49f68a5c8493ec2c0bf489821c21fc3b - $v7694f4a66316e53c8cdd9d9954bd611d * 10000000.0;$v6f8f57715090da2632453988d9a1501b = $v7ce8636c076f5f42316676f7ca5ccfbe + $v4b43b0aee35624cd95b910189b3dc231 * 4967296.0;$v1d8a4975693ef1eb9ca54878098d608f = floor($v6f8f57715090da2632453988d9a1501b / 10000000.0);$v2db95e8e1a9267b7a1188556b2013b33 = $v6f8f57715090da2632453988d9a1501b - $v1d8a4975693ef1eb9ca54878098d608f * 10000000.0;$v2510c39011c5be704182423e3a695e91 = $v7694f4a66316e53c8cdd9d9954bd611d * 4294967296.0 + $v4b43b0aee35624cd95b910189b3dc231 * 429.0 + $v1d8a4975693ef1eb9ca54878098d608f;$v2510c39011c5be704182423e3a695e91 = sprintf('%.0f', $v2510c39011c5be704182423e3a695e91);$v2db95e8e1a9267b7a1188556b2013b33 = sprintf('%07.0f', $v2db95e8e1a9267b7a1188556b2013b33);if ($v2510c39011c5be704182423e3a695e91 == '0') {return sprintf('%.0f', (float) $v2db95e8e1a9267b7a1188556b2013b33);}return $v2510c39011c5be704182423e3a695e91 . $v2db95e8e1a9267b7a1188556b2013b33;}function sphUnpackI64($v9e3669d19b675bd57058fd4664205d2a) {list ($v49f68a5c8493ec2c0bf489821c21fc3b, $v7ce8636c076f5f42316676f7ca5ccfbe) = array_values(unpack('N*N*', $v9e3669d19b675bd57058fd4664205d2a));if (PHP_INT_SIZE >= 8) {if ($v49f68a5c8493ec2c0bf489821c21fc3b < 0) {$v49f68a5c8493ec2c0bf489821c21fc3b += (1 << 32);}if ($v7ce8636c076f5f42316676f7ca5ccfbe < 0) {$v7ce8636c076f5f42316676f7ca5ccfbe += (1 << 32);}return ($v49f68a5c8493ec2c0bf489821c21fc3b << 32) + $v7ce8636c076f5f42316676f7ca5ccfbe;}if ($v49f68a5c8493ec2c0bf489821c21fc3b == 0) {if ($v7ce8636c076f5f42316676f7ca5ccfbe > 0) {return $v7ce8636c076f5f42316676f7ca5ccfbe;}return sprintf('%u', $v7ce8636c076f5f42316676f7ca5ccfbe);}if ($v49f68a5c8493ec2c0bf489821c21fc3b == -1) {if ($v7ce8636c076f5f42316676f7ca5ccfbe < 0) {return $v7ce8636c076f5f42316676f7ca5ccfbe;}return sprintf('%.0f', $v7ce8636c076f5f42316676f7ca5ccfbe - 4294967296.0);}$vf24c2c15b9d03797c6874986a8d19516 = '';$v4a8a08f09d37b73795649038408b5f33 = 0;if ($v49f68a5c8493ec2c0bf489821c21fc3b < 0) {$v49f68a5c8493ec2c0bf489821c21fc3b = ~$v49f68a5c8493ec2c0bf489821c21fc3b;$v7ce8636c076f5f42316676f7ca5ccfbe = ~$v7ce8636c076f5f42316676f7ca5ccfbe;$v4a8a08f09d37b73795649038408b5f33 = 1;$vf24c2c15b9d03797c6874986a8d19516 = '-';}$v49f68a5c8493ec2c0bf489821c21fc3b = sprintf('%u', $v49f68a5c8493ec2c0bf489821c21fc3b);$v7ce8636c076f5f42316676f7ca5ccfbe = sprintf('%u', $v7ce8636c076f5f42316676f7ca5ccfbe);if (function_exists('bcmul')) {return $vf24c2c15b9d03797c6874986a8d19516 . bcadd(bcadd($v7ce8636c076f5f42316676f7ca5ccfbe, bcmul($v49f68a5c8493ec2c0bf489821c21fc3b, '4294967296')), $v4a8a08f09d37b73795649038408b5f33);}$v49f68a5c8493ec2c0bf489821c21fc3b = (float) $v49f68a5c8493ec2c0bf489821c21fc3b;$v7ce8636c076f5f42316676f7ca5ccfbe = (float) $v7ce8636c076f5f42316676f7ca5ccfbe;$v7694f4a66316e53c8cdd9d9954bd611d = floor($v49f68a5c8493ec2c0bf489821c21fc3b / 10000000.0);$v4b43b0aee35624cd95b910189b3dc231 = $v49f68a5c8493ec2c0bf489821c21fc3b - $v7694f4a66316e53c8cdd9d9954bd611d * 10000000.0;$v6f8f57715090da2632453988d9a1501b = $v7ce8636c076f5f42316676f7ca5ccfbe + $v4b43b0aee35624cd95b910189b3dc231 * 4967296.0;$v1d8a4975693ef1eb9ca54878098d608f = floor($v6f8f57715090da2632453988d9a1501b / 10000000.0);$v2db95e8e1a9267b7a1188556b2013b33 = $v6f8f57715090da2632453988d9a1501b - $v1d8a4975693ef1eb9ca54878098d608f * 10000000.0 + $v4a8a08f09d37b73795649038408b5f33;$v2510c39011c5be704182423e3a695e91 = $v7694f4a66316e53c8cdd9d9954bd611d * 4294967296.0 + $v4b43b0aee35624cd95b910189b3dc231 * 429.0 + $v1d8a4975693ef1eb9ca54878098d608f;$v2510c39011c5be704182423e3a695e91 = sprintf('%.0f', $v2510c39011c5be704182423e3a695e91);$v2db95e8e1a9267b7a1188556b2013b33 = sprintf('%07.0f', $v2db95e8e1a9267b7a1188556b2013b33);if ($v2510c39011c5be704182423e3a695e91 == '0') {return $vf24c2c15b9d03797c6874986a8d19516 . sprintf('%.0f', (float) $v2db95e8e1a9267b7a1188556b2013b33);}return $vf24c2c15b9d03797c6874986a8d19516 . $v2510c39011c5be704182423e3a695e91 . $v2db95e8e1a9267b7a1188556b2013b33;}class SphinxClient {var $_host;var $_port;var $_offset;var $_limit;var $_mode;var $_weights;var $_sort;var $_sortby;var $_min_id;var $_max_id;var $_filters;var $_groupby;var $_groupfunc;var $_groupsort;var $_groupdistinct;var $_maxmatches;var $_cutoff;var $_retrycount;var $_retrydelay;var $_anchor;var $_indexweights;var $_ranker;var $_maxquerytime;var $_fieldweights;var $_overrides;var $_select;var $_error;var $_warning;var $_connerror;var $_reqs;var $_mbenc;var $_arrayresult;var $_timeout;public function __construct() {$this->_host = 'localhost';$this->_port = 3312;$this->_path = false;$this->_socket = false;$this->_offset = 0;$this->_limit = 20;$this->_mode = SPH_MATCH_ALL;$this->_weights = [];$this->_sort = SPH_SORT_RELEVANCE;$this->_sortby = '';$this->_min_id = 0;$this->_max_id = 0;$this->_filters = [];$this->_groupby = '';$this->_groupfunc = SPH_GROUPBY_DAY;$this->_groupsort = '@group desc';$this->_groupdistinct = '';$this->_maxmatches = 1000;$this->_cutoff = 0;$this->_retrycount = 0;$this->_retrydelay = 0;$this->_anchor = [];$this->_indexweights = [];$this->_ranker = SPH_RANK_PROXIMITY_BM25;$this->_maxquerytime = 0;$this->_fieldweights = [];$this->_overrides = [];$this->_select = '*';$this->_error = '';$this->_warning = '';$this->_connerror = false;$this->_reqs = [];$this->_mbenc = '';$this->_arrayresult = false;$this->_timeout = 0;}public function __destruct() {if ($this->_socket !== false) {fclose($this->_socket);}}public function GetLastError() {return $this->_error;}public function GetLastWarning() {return $this->_warning;}public function IsConnectError() {return $this->_connerror;}public function SetServer($v67b3dba8bc6778101892eb77249db32e, $v901555fb06e346cb065ceb9808dcfc25 = 0) {assert(is_string($v67b3dba8bc6778101892eb77249db32e));if ($v67b3dba8bc6778101892eb77249db32e[0] == '/') {$this->_path = 'unix://' . $v67b3dba8bc6778101892eb77249db32e;return;}if (substr($v67b3dba8bc6778101892eb77249db32e, 0, 7) == 'unix://') {$this->_path = $v67b3dba8bc6778101892eb77249db32e;return;}assert(is_int($v901555fb06e346cb065ceb9808dcfc25));$this->_host = $v67b3dba8bc6778101892eb77249db32e;$this->_port = $v901555fb06e346cb065ceb9808dcfc25;$this->_path = '';}public function SetConnectTimeout($v90272dda245ae1fb3cf197e91a8689dc) {assert(is_numeric($v90272dda245ae1fb3cf197e91a8689dc));$this->_timeout = $v90272dda245ae1fb3cf197e91a8689dc;}protected function _Send($ve1260894f59eeae98c8440899de4df8d, $v8d777f385d3dfec8815d20f7496026dc, $v2fa47f7c65fec19cc163b195725e3844) {if (feof($ve1260894f59eeae98c8440899de4df8d) || fwrite($ve1260894f59eeae98c8440899de4df8d, $v8d777f385d3dfec8815d20f7496026dc, $v2fa47f7c65fec19cc163b195725e3844) !== $v2fa47f7c65fec19cc163b195725e3844) {$this->_error = 'connection unexpectedly closed (timed out?)';$this->_connerror = true;return false;}return true;}protected function _MBPush() {$this->_mbenc = '';if (ini_get('mbstring.func_overload') & 2) {$this->_mbenc = mb_internal_encoding();mb_internal_encoding('latin1');}}protected function _MBPop() {if ($this->_mbenc) {mb_internal_encoding($this->_mbenc);}}protected function _Connect() {if ($this->_socket !== false) {return $this->_socket;}$v70106d0d821513f45702b7d25664ab7c = 0;$v809b1abe3f111fd3bb1a54c62706129f = '';$this->_connerror = false;if ($this->_path) {$v67b3dba8bc6778101892eb77249db32e = $this->_path;$v901555fb06e346cb065ceb9808dcfc25 = 0;}else {$v67b3dba8bc6778101892eb77249db32e = $this->_host;$v901555fb06e346cb065ceb9808dcfc25 = $this->_port;}if ($this->_timeout <= 0) {$v0666f0acdeed38d4cd9084ade1739498 = @fsockopen($v67b3dba8bc6778101892eb77249db32e, $v901555fb06e346cb065ceb9808dcfc25, $v70106d0d821513f45702b7d25664ab7c, $v809b1abe3f111fd3bb1a54c62706129f);}else {$v0666f0acdeed38d4cd9084ade1739498 = @fsockopen($v67b3dba8bc6778101892eb77249db32e, $v901555fb06e346cb065ceb9808dcfc25, $v70106d0d821513f45702b7d25664ab7c, $v809b1abe3f111fd3bb1a54c62706129f, $this->_timeout);}if (!$v0666f0acdeed38d4cd9084ade1739498) {if ($this->_path) {$vd5189de027922f81005951e6efe0efd5 = $this->_path;}else {$vd5189de027922f81005951e6efe0efd5 = "{$this->_host}:{$this->_port}";}$v809b1abe3f111fd3bb1a54c62706129f = trim($v809b1abe3f111fd3bb1a54c62706129f);$this->_error = "connection to $vd5189de027922f81005951e6efe0efd5 failed (errno=$v70106d0d821513f45702b7d25664ab7c, msg=$v809b1abe3f111fd3bb1a54c62706129f)";$this->_connerror = true;return false;}if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, pack('N', 1), 4)) {fclose($v0666f0acdeed38d4cd9084ade1739498);$this->_error = 'failed to send client protocol version';return false;}list($va769c472c32f37dab5b3be2eec70b1da, $v9e3669d19b675bd57058fd4664205d2a) = unpack('N*', fread($v0666f0acdeed38d4cd9084ade1739498, 4));$v9e3669d19b675bd57058fd4664205d2a = (int) $v9e3669d19b675bd57058fd4664205d2a;if ($v9e3669d19b675bd57058fd4664205d2a < 1) {fclose($v0666f0acdeed38d4cd9084ade1739498);$this->_error = "expected searchd protocol version 1+, got version '$v9e3669d19b675bd57058fd4664205d2a'";return false;}return $v0666f0acdeed38d4cd9084ade1739498;}protected function _GetResponse($v0666f0acdeed38d4cd9084ade1739498, $v0ada385f121657d73a880a93a307635b) {$vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = '';$vf5a8e923f8cd24b56b3bab32358cc58a = 0;$v099fb995346f31c749f6e40db0f395e3 = fread($v0666f0acdeed38d4cd9084ade1739498, 8);if (strlen($v099fb995346f31c749f6e40db0f395e3) == 8) {list ($v9acb44549b41563697bb490144ec6258, $v0812f14f43315611dd0ef462515c9d00, $vf5a8e923f8cd24b56b3bab32358cc58a) = array_values(unpack('n2a/Nb', $v099fb995346f31c749f6e40db0f395e3));$v811882fecd5c7618d7099ebbd39ea254 = $vf5a8e923f8cd24b56b3bab32358cc58a;while ($v811882fecd5c7618d7099ebbd39ea254 > 0 && !feof($v0666f0acdeed38d4cd9084ade1739498)) {$v5a8f4fa2aeab5431888ee8a18ce3bcea = fread($v0666f0acdeed38d4cd9084ade1739498, $v811882fecd5c7618d7099ebbd39ea254);if ($v5a8f4fa2aeab5431888ee8a18ce3bcea) {$vd1fc8eaf36937be0c3ba8cfe0a2c1bfe .= $v5a8f4fa2aeab5431888ee8a18ce3bcea;$v811882fecd5c7618d7099ebbd39ea254 -= strlen($v5a8f4fa2aeab5431888ee8a18ce3bcea);}}}if ($this->_socket === false) {fclose($v0666f0acdeed38d4cd9084ade1739498);}$vecae13117d6f0584c25a9da6c8f8415e = strlen($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);if (!$vd1fc8eaf36937be0c3ba8cfe0a2c1bfe || $vecae13117d6f0584c25a9da6c8f8415e != $vf5a8e923f8cd24b56b3bab32358cc58a) {$this->_error = $vf5a8e923f8cd24b56b3bab32358cc58a     ? "failed to read searchd response (status=$v9acb44549b41563697bb490144ec6258, ver=$v0812f14f43315611dd0ef462515c9d00, len=$vf5a8e923f8cd24b56b3bab32358cc58a, read=$vecae13117d6f0584c25a9da6c8f8415e)"     : 'received zero-sized searchd response';return false;}if ($v9acb44549b41563697bb490144ec6258 == SEARCHD_WARNING) {list($va769c472c32f37dab5b3be2eec70b1da, $v014e20e6b490bdfdd85767740ef908c7) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 0, 4));$this->_warning = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 4, $v014e20e6b490bdfdd85767740ef908c7);return substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 4 + $v014e20e6b490bdfdd85767740ef908c7);}if ($v9acb44549b41563697bb490144ec6258 == SEARCHD_ERROR) {$this->_error = 'searchd error: ' . substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 4);return false;}if ($v9acb44549b41563697bb490144ec6258 == SEARCHD_RETRY) {$this->_error = 'temporary searchd error: ' . substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 4);return false;}if ($v9acb44549b41563697bb490144ec6258 != SEARCHD_OK) {$this->_error = "unknown status code '$v9acb44549b41563697bb490144ec6258'";return false;}if ($v0812f14f43315611dd0ef462515c9d00 < $v0ada385f121657d73a880a93a307635b) {$this->_warning = sprintf(     "searchd command v.%d.%d older than client's v.%d.%d, some options might not work",     $v0812f14f43315611dd0ef462515c9d00 >> 8,     $v0812f14f43315611dd0ef462515c9d00 & 0xff,     $v0ada385f121657d73a880a93a307635b >> 8,     $v0ada385f121657d73a880a93a307635b & 0xff    );}return $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe;}public function SetLimits($v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc, $v2ffe4e77325d9a7152f7086ea7aa5114 = 0, $v933fa3a069b4dcb4634512a74e88617c = 0) {assert(is_int($v7a86c157ee9713c34fbd7a1ee40f0c5a));assert(is_int($vaa9f73eea60a006820d0f8768bc8a3fc));assert($v7a86c157ee9713c34fbd7a1ee40f0c5a >= 0);assert($vaa9f73eea60a006820d0f8768bc8a3fc > 0);assert($v2ffe4e77325d9a7152f7086ea7aa5114 >= 0);$this->_offset = $v7a86c157ee9713c34fbd7a1ee40f0c5a;$this->_limit = $vaa9f73eea60a006820d0f8768bc8a3fc;if ($v2ffe4e77325d9a7152f7086ea7aa5114 > 0) {$this->_maxmatches = $v2ffe4e77325d9a7152f7086ea7aa5114;}if ($v933fa3a069b4dcb4634512a74e88617c > 0) {$this->_cutoff = $v933fa3a069b4dcb4634512a74e88617c;}}public function SetMaxQueryTime($v2ffe4e77325d9a7152f7086ea7aa5114) {assert(is_int($v2ffe4e77325d9a7152f7086ea7aa5114));assert($v2ffe4e77325d9a7152f7086ea7aa5114 >= 0);$this->_maxquerytime = $v2ffe4e77325d9a7152f7086ea7aa5114;}public function SetMatchMode($v15d61712450a686a7f365adf4fef581f) {assert(    $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_ALL    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_ANY    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_PHRASE    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_BOOLEAN    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_EXTENDED    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_FULLSCAN    || $v15d61712450a686a7f365adf4fef581f == SPH_MATCH_EXTENDED2   );$this->_mode = $v15d61712450a686a7f365adf4fef581f;}public function SetRankingMode($v2c1a31835c2047795c4b03ed68e90c0e) {assert($v2c1a31835c2047795c4b03ed68e90c0e >= 0 && $v2c1a31835c2047795c4b03ed68e90c0e < SPH_RANK_TOTAL);$this->_ranker = $v2c1a31835c2047795c4b03ed68e90c0e;}public function SetSortMode($v15d61712450a686a7f365adf4fef581f, $v785992002f50d8584e5c526cd42b83ad = '') {assert(    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_RELEVANCE ||    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_ATTR_DESC ||    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_ATTR_ASC ||    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_TIME_SEGMENTS ||    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_EXTENDED ||    $v15d61712450a686a7f365adf4fef581f == SPH_SORT_EXPR   );assert(is_string($v785992002f50d8584e5c526cd42b83ad));assert($v15d61712450a686a7f365adf4fef581f == SPH_SORT_RELEVANCE || strlen($v785992002f50d8584e5c526cd42b83ad) > 0);$this->_sort = $v15d61712450a686a7f365adf4fef581f;$this->_sortby = $v785992002f50d8584e5c526cd42b83ad;}public function SetWeights($v63f4f1e9b725370f459720575cd5f953) {assert(is_array($v63f4f1e9b725370f459720575cd5f953));foreach ($v63f4f1e9b725370f459720575cd5f953 as $v7edabf994b76a00cbc60c95af337db8f) {assert(is_int($v7edabf994b76a00cbc60c95af337db8f));}$this->_weights = $v63f4f1e9b725370f459720575cd5f953;}public function SetFieldWeights($v63f4f1e9b725370f459720575cd5f953) {assert(is_array($v63f4f1e9b725370f459720575cd5f953));foreach ($v63f4f1e9b725370f459720575cd5f953 as $vb068931cc450442b63f5b3d276ea4297 => $v7edabf994b76a00cbc60c95af337db8f) {assert(is_string($vb068931cc450442b63f5b3d276ea4297));assert(is_int($v7edabf994b76a00cbc60c95af337db8f));}$this->_fieldweights = $v63f4f1e9b725370f459720575cd5f953;}public function SetIndexWeights($v63f4f1e9b725370f459720575cd5f953) {assert(is_array($v63f4f1e9b725370f459720575cd5f953));foreach ($v63f4f1e9b725370f459720575cd5f953 as $v6a992d5529f459a44fee58c733255e86 => $v7edabf994b76a00cbc60c95af337db8f) {assert(is_string($v6a992d5529f459a44fee58c733255e86));assert(is_int($v7edabf994b76a00cbc60c95af337db8f));}$this->_indexweights = $v63f4f1e9b725370f459720575cd5f953;}public function SetIDRange($vd8bd79cc131920d5de426f914d17405a, $v2ffe4e77325d9a7152f7086ea7aa5114) {assert(is_numeric($vd8bd79cc131920d5de426f914d17405a));assert(is_numeric($v2ffe4e77325d9a7152f7086ea7aa5114));assert($vd8bd79cc131920d5de426f914d17405a <= $v2ffe4e77325d9a7152f7086ea7aa5114);$this->_min_id = $vd8bd79cc131920d5de426f914d17405a;$this->_max_id = $v2ffe4e77325d9a7152f7086ea7aa5114;}public function SetFilter($vd2eb444e35c0a71f0a85df8194acb5b6, $vf09cc7ee3a9a93273f4b80601cafb00c, $v18acedb191d664dc01b71835ae33caef = false) {assert(is_string($vd2eb444e35c0a71f0a85df8194acb5b6));assert(is_array($vf09cc7ee3a9a93273f4b80601cafb00c));assert(umiCount($vf09cc7ee3a9a93273f4b80601cafb00c));if (is_array($vf09cc7ee3a9a93273f4b80601cafb00c) && umiCount($vf09cc7ee3a9a93273f4b80601cafb00c)) {foreach ($vf09cc7ee3a9a93273f4b80601cafb00c as $v2063c1608d6e0baf80249c42e2be5804) {assert(is_numeric($v2063c1608d6e0baf80249c42e2be5804));}$this->_filters[] = ['type' => SPH_FILTER_VALUES, 'attr' => $vd2eb444e35c0a71f0a85df8194acb5b6, 'exclude' => $v18acedb191d664dc01b71835ae33caef, 'values' => $vf09cc7ee3a9a93273f4b80601cafb00c];}}public function SetFilterRange($vd2eb444e35c0a71f0a85df8194acb5b6, $vd8bd79cc131920d5de426f914d17405a, $v2ffe4e77325d9a7152f7086ea7aa5114, $v18acedb191d664dc01b71835ae33caef = false) {assert(is_string($vd2eb444e35c0a71f0a85df8194acb5b6));assert(is_numeric($vd8bd79cc131920d5de426f914d17405a));assert(is_numeric($v2ffe4e77325d9a7152f7086ea7aa5114));assert($vd8bd79cc131920d5de426f914d17405a <= $v2ffe4e77325d9a7152f7086ea7aa5114);$this->_filters[] =    ['type' => SPH_FILTER_RANGE, 'attr' => $vd2eb444e35c0a71f0a85df8194acb5b6, 'exclude' => $v18acedb191d664dc01b71835ae33caef, 'min' => $vd8bd79cc131920d5de426f914d17405a, 'max' => $v2ffe4e77325d9a7152f7086ea7aa5114];}public function SetFilterFloatRange($vd2eb444e35c0a71f0a85df8194acb5b6, $vd8bd79cc131920d5de426f914d17405a, $v2ffe4e77325d9a7152f7086ea7aa5114, $v18acedb191d664dc01b71835ae33caef = false) {assert(is_string($vd2eb444e35c0a71f0a85df8194acb5b6));assert(is_float($vd8bd79cc131920d5de426f914d17405a));assert(is_float($v2ffe4e77325d9a7152f7086ea7aa5114));assert($vd8bd79cc131920d5de426f914d17405a <= $v2ffe4e77325d9a7152f7086ea7aa5114);$this->_filters[] =    ['type' => SPH_FILTER_FLOATRANGE, 'attr' => $vd2eb444e35c0a71f0a85df8194acb5b6, 'exclude' => $v18acedb191d664dc01b71835ae33caef, 'min' => $vd8bd79cc131920d5de426f914d17405a, 'max' => $v2ffe4e77325d9a7152f7086ea7aa5114];}public function SetGeoAnchor($v86e941010c099e797e0ac549f3086d5c, $vff6d71699b6f5de7dbf2daf1a46ca91a, $v4073d41bb178273881fbc975e1af6118, $v0f5264038205edfb1ac05fbb0e8c5e94) {assert(is_string($v86e941010c099e797e0ac549f3086d5c));assert(is_string($vff6d71699b6f5de7dbf2daf1a46ca91a));assert(is_float($v4073d41bb178273881fbc975e1af6118));assert(is_float($v0f5264038205edfb1ac05fbb0e8c5e94));$this->_anchor = ['attrlat' => $v86e941010c099e797e0ac549f3086d5c, 'attrlong' => $vff6d71699b6f5de7dbf2daf1a46ca91a, 'lat' => $v4073d41bb178273881fbc975e1af6118, 'long' => $v0f5264038205edfb1ac05fbb0e8c5e94];}public function SetGroupBy($vd2eb444e35c0a71f0a85df8194acb5b6, $v7df4935f4a5a2865191ef74f64df8754, $v769b5b35756d90822ff299551242ef08 = '@group desc') {assert(is_string($vd2eb444e35c0a71f0a85df8194acb5b6));assert(is_string($v769b5b35756d90822ff299551242ef08));assert(    $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_DAY    || $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_WEEK    || $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_MONTH    || $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_YEAR    || $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_ATTR    || $v7df4935f4a5a2865191ef74f64df8754 == SPH_GROUPBY_ATTRPAIR   );$this->_groupby = $vd2eb444e35c0a71f0a85df8194acb5b6;$this->_groupfunc = $v7df4935f4a5a2865191ef74f64df8754;$this->_groupsort = $v769b5b35756d90822ff299551242ef08;}public function SetGroupDistinct($vd2eb444e35c0a71f0a85df8194acb5b6) {assert(is_string($vd2eb444e35c0a71f0a85df8194acb5b6));$this->_groupdistinct = $vd2eb444e35c0a71f0a85df8194acb5b6;}public function SetRetries($ve2942a04780e223b215eb8b663cf5353, $v7243f8be75253afbadf7477867021f8b = 0) {assert(is_int($ve2942a04780e223b215eb8b663cf5353) && $ve2942a04780e223b215eb8b663cf5353 >= 0);assert(is_int($v7243f8be75253afbadf7477867021f8b) && $v7243f8be75253afbadf7477867021f8b >= 0);$this->_retrycount = $ve2942a04780e223b215eb8b663cf5353;$this->_retrydelay = $v7243f8be75253afbadf7477867021f8b;}public function SetArrayResult($v8d340eb3d920d05ab087c23f9a145ba6) {assert(is_bool($v8d340eb3d920d05ab087c23f9a145ba6));$this->_arrayresult = $v8d340eb3d920d05ab087c23f9a145ba6;}public function SetOverride($v4bc0c81cb7b0ad379cca13db98bdc0fa, $v88881d1702128e54e09821ade32b7001, $vf09cc7ee3a9a93273f4b80601cafb00c) {assert(is_string($v4bc0c81cb7b0ad379cca13db98bdc0fa));assert(in_array($v88881d1702128e54e09821ade32b7001, [SPH_ATTR_INTEGER, SPH_ATTR_TIMESTAMP, SPH_ATTR_BOOL, SPH_ATTR_FLOAT, SPH_ATTR_BIGINT]));assert(is_array($vf09cc7ee3a9a93273f4b80601cafb00c));$this->_overrides[$v4bc0c81cb7b0ad379cca13db98bdc0fa] = ['attr' => $v4bc0c81cb7b0ad379cca13db98bdc0fa, 'type' => $v88881d1702128e54e09821ade32b7001, 'values' => $vf09cc7ee3a9a93273f4b80601cafb00c];}public function SetSelect($v99938282f04071859941e18f16efcf42) {assert(is_string($v99938282f04071859941e18f16efcf42));$this->_select = $v99938282f04071859941e18f16efcf42;}public function ResetFilters() {$this->_filters = [];$this->_anchor = [];}public function ResetGroupBy() {$this->_groupby = '';$this->_groupfunc = SPH_GROUPBY_DAY;$this->_groupsort = '@group desc';$this->_groupdistinct = '';}public function ResetOverrides() {$this->_overrides = [];}public function Query($v1b1cc7f086b3f074da452bc3129981eb, $v6a992d5529f459a44fee58c733255e86 = '*', $v06d4cd63bde972fc66a0aed41d2f5c51 = '') {assert(empty($this->_reqs));$this->AddQuery($v1b1cc7f086b3f074da452bc3129981eb, $v6a992d5529f459a44fee58c733255e86, $v06d4cd63bde972fc66a0aed41d2f5c51);$v53e61336bb49ec978968786b07dea50b = $this->RunQueries();$this->_reqs = [];if (!is_array($v53e61336bb49ec978968786b07dea50b)) {return false;}$this->_error = $v53e61336bb49ec978968786b07dea50b[0]['error'];$this->_warning = $v53e61336bb49ec978968786b07dea50b[0]['warning'];if ($v53e61336bb49ec978968786b07dea50b[0]['status'] == SEARCHD_ERROR) {return false;}else {return $v53e61336bb49ec978968786b07dea50b[0];}}protected function _PackFloat($v8fa14cdd754f91cc6554c9e71929cce7) {$v83f1535f99ab0bf4e9d02dfd85d3e3f7 = pack('f', $v8fa14cdd754f91cc6554c9e71929cce7);list($va769c472c32f37dab5b3be2eec70b1da, $v0f826a89cf68c399c5f4cf320c1a5842) = unpack('L*', $v83f1535f99ab0bf4e9d02dfd85d3e3f7);return pack('N', $v0f826a89cf68c399c5f4cf320c1a5842);}public function AddQuery($v1b1cc7f086b3f074da452bc3129981eb, $v6a992d5529f459a44fee58c733255e86 = '*', $v06d4cd63bde972fc66a0aed41d2f5c51 = '') {$this->_MBPush();$vab4d0a658aef644a039b90c2067b45c0 = pack('NNNNN', $this->_offset, $this->_limit, $this->_mode, $this->_ranker, $this->_sort);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($this->_sortby)) . $this->_sortby;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v1b1cc7f086b3f074da452bc3129981eb)) . $v1b1cc7f086b3f074da452bc3129981eb;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($this->_weights));foreach ($this->_weights as $v7edabf994b76a00cbc60c95af337db8f) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', (int) $v7edabf994b76a00cbc60c95af337db8f);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v6a992d5529f459a44fee58c733255e86)) . $v6a992d5529f459a44fee58c733255e86;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', 1);$vab4d0a658aef644a039b90c2067b45c0 .= sphPackU64($this->_min_id) . sphPackU64($this->_max_id);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($this->_filters));foreach ($this->_filters as $vb2c97ae425dd751b0e48a3acae79cf4a) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($vb2c97ae425dd751b0e48a3acae79cf4a['attr'])) . $vb2c97ae425dd751b0e48a3acae79cf4a['attr'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $vb2c97ae425dd751b0e48a3acae79cf4a['type']);switch ($vb2c97ae425dd751b0e48a3acae79cf4a['type']) {case SPH_FILTER_VALUES:      $vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($vb2c97ae425dd751b0e48a3acae79cf4a['values']));foreach ($vb2c97ae425dd751b0e48a3acae79cf4a['values'] as $v2063c1608d6e0baf80249c42e2be5804) {$vab4d0a658aef644a039b90c2067b45c0 .= sphPackI64($v2063c1608d6e0baf80249c42e2be5804);}break;case SPH_FILTER_RANGE:      $vab4d0a658aef644a039b90c2067b45c0 .= sphPackI64($vb2c97ae425dd751b0e48a3acae79cf4a['min']) . sphPackI64($vb2c97ae425dd751b0e48a3acae79cf4a['max']);break;case SPH_FILTER_FLOATRANGE:      $vab4d0a658aef644a039b90c2067b45c0 .= $this->_PackFloat($vb2c97ae425dd751b0e48a3acae79cf4a['min']) . $this->_PackFloat($vb2c97ae425dd751b0e48a3acae79cf4a['max']);break;default:      assert(0 && 'internal error: unhandled filter type');}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $vb2c97ae425dd751b0e48a3acae79cf4a['exclude']);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('NN', $this->_groupfunc, strlen($this->_groupby)) . $this->_groupby;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $this->_maxmatches);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($this->_groupsort)) . $this->_groupsort;$vab4d0a658aef644a039b90c2067b45c0 .= pack('NNN', $this->_cutoff, $this->_retrycount, $this->_retrydelay);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($this->_groupdistinct)) . $this->_groupdistinct;if (empty($this->_anchor)) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', 0);}else {$v0cc175b9c0f1b6a831c399e269772661 =& $this->_anchor;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', 1);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v0cc175b9c0f1b6a831c399e269772661['attrlat'])) . $v0cc175b9c0f1b6a831c399e269772661['attrlat'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v0cc175b9c0f1b6a831c399e269772661['attrlong'])) . $v0cc175b9c0f1b6a831c399e269772661['attrlong'];$vab4d0a658aef644a039b90c2067b45c0 .= $this->_PackFloat($v0cc175b9c0f1b6a831c399e269772661['lat']) . $this->_PackFloat($v0cc175b9c0f1b6a831c399e269772661['long']);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($this->_indexweights));foreach ($this->_indexweights as $v7f9bec28bc8902d45d905788d7aa59a1 => $v7edabf994b76a00cbc60c95af337db8f) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v7f9bec28bc8902d45d905788d7aa59a1)) . $v7f9bec28bc8902d45d905788d7aa59a1 . pack('N', $v7edabf994b76a00cbc60c95af337db8f);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $this->_maxquerytime);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($this->_fieldweights));foreach ($this->_fieldweights as $v06e3d36fa30cea095545139854ad1fb9 => $v7edabf994b76a00cbc60c95af337db8f) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v06e3d36fa30cea095545139854ad1fb9)) . $v06e3d36fa30cea095545139854ad1fb9 . pack('N', $v7edabf994b76a00cbc60c95af337db8f);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v06d4cd63bde972fc66a0aed41d2f5c51)) . $v06d4cd63bde972fc66a0aed41d2f5c51;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($this->_overrides));foreach ($this->_overrides as $v3c6e0b8a9c15224a8228b9a98ca1531d => $v1043bfc77febe75fafec0c4309faccf1) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v1043bfc77febe75fafec0c4309faccf1['attr'])) . $v1043bfc77febe75fafec0c4309faccf1['attr'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('NN', $v1043bfc77febe75fafec0c4309faccf1['type'], umiCount($v1043bfc77febe75fafec0c4309faccf1['values']));foreach ($v1043bfc77febe75fafec0c4309faccf1['values'] as $vb80bb7740288fda1f201890375a60c8f => $v3a6d0284e743dc4a9b86f97d6dd1a3bf) {assert(is_numeric($vb80bb7740288fda1f201890375a60c8f));assert(is_numeric($v3a6d0284e743dc4a9b86f97d6dd1a3bf));$vab4d0a658aef644a039b90c2067b45c0 .= sphPackU64($vb80bb7740288fda1f201890375a60c8f);switch ($v1043bfc77febe75fafec0c4309faccf1['type']) {case SPH_ATTR_FLOAT:       $vab4d0a658aef644a039b90c2067b45c0 .= $this->_PackFloat($v3a6d0284e743dc4a9b86f97d6dd1a3bf);break;case SPH_ATTR_BIGINT:       $vab4d0a658aef644a039b90c2067b45c0 .= sphPackI64($v3a6d0284e743dc4a9b86f97d6dd1a3bf);break;default:       $vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $v3a6d0284e743dc4a9b86f97d6dd1a3bf);break;}}}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($this->_select)) . $this->_select;$this->_MBPop();$this->_reqs[] = $vab4d0a658aef644a039b90c2067b45c0;return umiCount($this->_reqs) - 1;}public function RunQueries() {if (empty($this->_reqs)) {$this->_error = 'no queries defined, issue AddQuery() first';return false;}$this->_MBPush();if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {$this->_MBPop();return false;}$v215971bdbbc450d9c0d24b635a77e2e6 = umiCount($this->_reqs);$vab4d0a658aef644a039b90c2067b45c0 = implode('', $this->_reqs);$vf5a8e923f8cd24b56b3bab32358cc58a = 4 + strlen($vab4d0a658aef644a039b90c2067b45c0);$vab4d0a658aef644a039b90c2067b45c0 = pack('nnNN', SEARCHD_COMMAND_SEARCH, VER_COMMAND_SEARCH, $vf5a8e923f8cd24b56b3bab32358cc58a, $v215971bdbbc450d9c0d24b635a77e2e6) . $vab4d0a658aef644a039b90c2067b45c0;if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, $vf5a8e923f8cd24b56b3bab32358cc58a + 8) ||    !($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_SEARCH))) {$this->_MBPop();return false;}$this->_reqs = [];return $this->_ParseSearchResponse($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v215971bdbbc450d9c0d24b635a77e2e6);}protected function _ParseSearchResponse($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v215971bdbbc450d9c0d24b635a77e2e6) {$v83878c91171338902e0fe0fb97a8c47a = 0;$v2ffe4e77325d9a7152f7086ea7aa5114 = strlen($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);$v53e61336bb49ec978968786b07dea50b = [];for ($v59ee442d539fd5b43046d779af9e374c = 0;$v59ee442d539fd5b43046d779af9e374c < $v215971bdbbc450d9c0d24b635a77e2e6 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114;$v59ee442d539fd5b43046d779af9e374c++) {$v53e61336bb49ec978968786b07dea50b[] = [];$result =& $v53e61336bb49ec978968786b07dea50b[$v59ee442d539fd5b43046d779af9e374c];$result['error'] = '';$result['warning'] = '';list($va769c472c32f37dab5b3be2eec70b1da, $v9acb44549b41563697bb490144ec6258) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$result['status'] = $v9acb44549b41563697bb490144ec6258;if ($v9acb44549b41563697bb490144ec6258 != SEARCHD_OK) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v78e731027d8fd50ed642340b7c9a63b3 = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $vf5a8e923f8cd24b56b3bab32358cc58a);$v83878c91171338902e0fe0fb97a8c47a += $vf5a8e923f8cd24b56b3bab32358cc58a;if ($v9acb44549b41563697bb490144ec6258 == SEARCHD_WARNING) {$result['warning'] = $v78e731027d8fd50ed642340b7c9a63b3;}else {$result['error'] = $v78e731027d8fd50ed642340b7c9a63b3;continue;}}$vd05b6ed7d2345020440df396d6da7f73 = [];$v425ce871530e0633c917f98d8e9b1bc7 = [];list($va769c472c32f37dab5b3be2eec70b1da, $v4499349f932ac00d3b3ca16a300b5065) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;while ($v4499349f932ac00d3b3ca16a300b5065-- > 0 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$vd05b6ed7d2345020440df396d6da7f73[] = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $vf5a8e923f8cd24b56b3bab32358cc58a);$v83878c91171338902e0fe0fb97a8c47a += $vf5a8e923f8cd24b56b3bab32358cc58a;}$result['fields'] = $vd05b6ed7d2345020440df396d6da7f73;list($va769c472c32f37dab5b3be2eec70b1da, $v3add13c35d58c0ec020d8c336095af60) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;while ($v3add13c35d58c0ec020d8c336095af60-- > 0 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v815be97df65d6c4b510cd07189c5347a = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $vf5a8e923f8cd24b56b3bab32358cc58a);$v83878c91171338902e0fe0fb97a8c47a += $vf5a8e923f8cd24b56b3bab32358cc58a;list($va769c472c32f37dab5b3be2eec70b1da, $v599dcce2998a6b40b1e38e8c6006cb0a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v425ce871530e0633c917f98d8e9b1bc7[$v815be97df65d6c4b510cd07189c5347a] = $v599dcce2998a6b40b1e38e8c6006cb0a;}$result['attrs'] = $v425ce871530e0633c917f98d8e9b1bc7;list($va769c472c32f37dab5b3be2eec70b1da, $ve2942a04780e223b215eb8b663cf5353) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;list($va769c472c32f37dab5b3be2eec70b1da, $v70ad78aecabab98535eed94ff5e23ba0) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v7f9bec28bc8902d45d905788d7aa59a1 = -1;while ($ve2942a04780e223b215eb8b663cf5353-- > 0 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114) {$v7f9bec28bc8902d45d905788d7aa59a1++;if ($v70ad78aecabab98535eed94ff5e23ba0) {$v9a09b4dfda82e3e665e31092d1c3ec8d = sphUnpackU64(substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 8));$v83878c91171338902e0fe0fb97a8c47a += 8;list($va769c472c32f37dab5b3be2eec70b1da, $v7edabf994b76a00cbc60c95af337db8f) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;}else {list ($v9a09b4dfda82e3e665e31092d1c3ec8d, $v7edabf994b76a00cbc60c95af337db8f) = array_values(       unpack(        'N*N*',        substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 8)       )      );$v83878c91171338902e0fe0fb97a8c47a += 8;if (PHP_INT_SIZE >= 8) {if ($v9a09b4dfda82e3e665e31092d1c3ec8d < 0) {$v9a09b4dfda82e3e665e31092d1c3ec8d += (1 << 32);}}else {$v9a09b4dfda82e3e665e31092d1c3ec8d = sprintf('%u', $v9a09b4dfda82e3e665e31092d1c3ec8d);}}$v7edabf994b76a00cbc60c95af337db8f = sprintf('%u', $v7edabf994b76a00cbc60c95af337db8f);if ($this->_arrayresult) {$result['matches'][$v7f9bec28bc8902d45d905788d7aa59a1] = ['id' => $v9a09b4dfda82e3e665e31092d1c3ec8d, 'weight' => $v7edabf994b76a00cbc60c95af337db8f];}else {$result['matches'][$v9a09b4dfda82e3e665e31092d1c3ec8d]['weight'] = $v7edabf994b76a00cbc60c95af337db8f;}$v88179cab884d635a00cb9864461199c3 = [];foreach ($v425ce871530e0633c917f98d8e9b1bc7 as $v815be97df65d6c4b510cd07189c5347a => $v599dcce2998a6b40b1e38e8c6006cb0a) {if ($v599dcce2998a6b40b1e38e8c6006cb0a == SPH_ATTR_BIGINT) {$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a] = sphUnpackI64(substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 8));$v83878c91171338902e0fe0fb97a8c47a += 8;continue;}if ($v599dcce2998a6b40b1e38e8c6006cb0a == SPH_ATTR_FLOAT) {list($va769c472c32f37dab5b3be2eec70b1da, $vf09be3d160ab933af0740251c141b3cf) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;list($va769c472c32f37dab5b3be2eec70b1da, $vfeba1c48345489a57b6d56d4054cb72d) = unpack('f*', pack('L', $vf09be3d160ab933af0740251c141b3cf));$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a] = $vfeba1c48345489a57b6d56d4054cb72d;continue;}list($va769c472c32f37dab5b3be2eec70b1da, $v3a6d0284e743dc4a9b86f97d6dd1a3bf) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;if ($v599dcce2998a6b40b1e38e8c6006cb0a & SPH_ATTR_MULTI) {$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a] = [];$v5019f1e787936af9cd22520994185e50 = $v3a6d0284e743dc4a9b86f97d6dd1a3bf;while ($v5019f1e787936af9cd22520994185e50-- > 0 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114) {list($va769c472c32f37dab5b3be2eec70b1da, $v3a6d0284e743dc4a9b86f97d6dd1a3bf) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a][] = sprintf('%u', $v3a6d0284e743dc4a9b86f97d6dd1a3bf);}}else {if ($v599dcce2998a6b40b1e38e8c6006cb0a == SPH_ATTR_STRING) {$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a] = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $v3a6d0284e743dc4a9b86f97d6dd1a3bf);$v83878c91171338902e0fe0fb97a8c47a += $v3a6d0284e743dc4a9b86f97d6dd1a3bf;}else {$v88179cab884d635a00cb9864461199c3[$v815be97df65d6c4b510cd07189c5347a] = sprintf('%u', $v3a6d0284e743dc4a9b86f97d6dd1a3bf);}}}if ($this->_arrayresult) {$result['matches'][$v7f9bec28bc8902d45d905788d7aa59a1]['attrs'] = $v88179cab884d635a00cb9864461199c3;}else {$result['matches'][$v9a09b4dfda82e3e665e31092d1c3ec8d]['attrs'] = $v88179cab884d635a00cb9864461199c3;}}list (     $vfbb44b4487415b134bce9c790a27fe5e, $va638136a35eaebdde47bcb4155e5faa7, $v76e3f2450d77f22d7bfd114fdfdb99fe, $v89759e1284e2479b991d2669de104942     ) =     array_values(unpack('N*N*N*N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 16)));$result['total'] = sprintf('%u', $vfbb44b4487415b134bce9c790a27fe5e);$result['total_found'] = sprintf('%u', $va638136a35eaebdde47bcb4155e5faa7);$result['time'] = sprintf('%.3f', $v76e3f2450d77f22d7bfd114fdfdb99fe / 1000);$v83878c91171338902e0fe0fb97a8c47a += 16;while ($v89759e1284e2479b991d2669de104942-- > 0 && $v83878c91171338902e0fe0fb97a8c47a < $v2ffe4e77325d9a7152f7086ea7aa5114) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$vc47d187067c6cf953245f128b5fde62a = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $vf5a8e923f8cd24b56b3bab32358cc58a);$v83878c91171338902e0fe0fb97a8c47a += $vf5a8e923f8cd24b56b3bab32358cc58a;list ($ve3e2a9bfd88566b05001b02a3f51d286, $v46ab2997ca006d78b35db8f6f9de7662) = array_values(unpack('N*N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 8)));$v83878c91171338902e0fe0fb97a8c47a += 8;$result['words'][$vc47d187067c6cf953245f128b5fde62a] = [      'docs' => sprintf('%u', $ve3e2a9bfd88566b05001b02a3f51d286),      'hits' => sprintf('%u', $v46ab2997ca006d78b35db8f6f9de7662)     ];}}$this->_MBPop();return $v53e61336bb49ec978968786b07dea50b;}public function BuildExcerpts($ve3e2a9bfd88566b05001b02a3f51d286, $v6a992d5529f459a44fee58c733255e86, $v89759e1284e2479b991d2669de104942, $veb4112b6a6b76c8a84808a40baa94769 = []) {assert(is_array($ve3e2a9bfd88566b05001b02a3f51d286));assert(is_string($v6a992d5529f459a44fee58c733255e86));assert(is_string($v89759e1284e2479b991d2669de104942));assert(is_array($veb4112b6a6b76c8a84808a40baa94769));$this->_MBPush();if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {$this->_MBPop();return false;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['before_match'])) {$veb4112b6a6b76c8a84808a40baa94769['before_match'] = '<b>';}if (!isset($veb4112b6a6b76c8a84808a40baa94769['after_match'])) {$veb4112b6a6b76c8a84808a40baa94769['after_match'] = '</b>';}if (!isset($veb4112b6a6b76c8a84808a40baa94769['chunk_separator'])) {$veb4112b6a6b76c8a84808a40baa94769['chunk_separator'] = ' ... ';}if (!isset($veb4112b6a6b76c8a84808a40baa94769['limit'])) {$veb4112b6a6b76c8a84808a40baa94769['limit'] = 256;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['around'])) {$veb4112b6a6b76c8a84808a40baa94769['around'] = 5;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['exact_phrase'])) {$veb4112b6a6b76c8a84808a40baa94769['exact_phrase'] = false;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['single_passage'])) {$veb4112b6a6b76c8a84808a40baa94769['single_passage'] = false;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['use_boundaries'])) {$veb4112b6a6b76c8a84808a40baa94769['use_boundaries'] = false;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['weight_order'])) {$veb4112b6a6b76c8a84808a40baa94769['weight_order'] = false;}if (!isset($veb4112b6a6b76c8a84808a40baa94769['query_mode'])) {$veb4112b6a6b76c8a84808a40baa94769['query_mode'] = false;}$v4e5868d676cb634aa75b125a0f741abf = 1;if ($veb4112b6a6b76c8a84808a40baa94769['exact_phrase']) {$v4e5868d676cb634aa75b125a0f741abf |= 2;}if ($veb4112b6a6b76c8a84808a40baa94769['single_passage']) {$v4e5868d676cb634aa75b125a0f741abf |= 4;}if ($veb4112b6a6b76c8a84808a40baa94769['use_boundaries']) {$v4e5868d676cb634aa75b125a0f741abf |= 8;}if ($veb4112b6a6b76c8a84808a40baa94769['weight_order']) {$v4e5868d676cb634aa75b125a0f741abf |= 16;}if ($veb4112b6a6b76c8a84808a40baa94769['query_mode']) {$v4e5868d676cb634aa75b125a0f741abf |= 32;}$vab4d0a658aef644a039b90c2067b45c0 = pack('NN', 0, $v4e5868d676cb634aa75b125a0f741abf);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v6a992d5529f459a44fee58c733255e86)) . $v6a992d5529f459a44fee58c733255e86;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v89759e1284e2479b991d2669de104942)) . $v89759e1284e2479b991d2669de104942;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($veb4112b6a6b76c8a84808a40baa94769['before_match'])) . $veb4112b6a6b76c8a84808a40baa94769['before_match'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($veb4112b6a6b76c8a84808a40baa94769['after_match'])) . $veb4112b6a6b76c8a84808a40baa94769['after_match'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($veb4112b6a6b76c8a84808a40baa94769['chunk_separator'])) . $veb4112b6a6b76c8a84808a40baa94769['chunk_separator'];$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', (int) $veb4112b6a6b76c8a84808a40baa94769['limit']);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', (int) $veb4112b6a6b76c8a84808a40baa94769['around']);$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($ve3e2a9bfd88566b05001b02a3f51d286));foreach ($ve3e2a9bfd88566b05001b02a3f51d286 as $v9a09b4dfda82e3e665e31092d1c3ec8d) {assert(is_string($v9a09b4dfda82e3e665e31092d1c3ec8d));$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v9a09b4dfda82e3e665e31092d1c3ec8d)) . $v9a09b4dfda82e3e665e31092d1c3ec8d;}$vf5a8e923f8cd24b56b3bab32358cc58a = strlen($vab4d0a658aef644a039b90c2067b45c0);$vab4d0a658aef644a039b90c2067b45c0 = pack('nnN', SEARCHD_COMMAND_EXCERPT, VER_COMMAND_EXCERPT, $vf5a8e923f8cd24b56b3bab32358cc58a) . $vab4d0a658aef644a039b90c2067b45c0;if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, $vf5a8e923f8cd24b56b3bab32358cc58a + 8) ||    !($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_EXCERPT))) {$this->_MBPop();return false;}$v5e0bdcbddccca4d66d74ba8c1cee1a68 = 0;$v9b207167e5381c47682c6b4f58a623fb = [];$v8f8cfcb6d77ce0cd6bbb78127b802443 = strlen($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < umiCount($ve3e2a9bfd88566b05001b02a3f51d286);$v865c0c0b4ab0e063e5caa3387c1a8741++) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, 4));$v5e0bdcbddccca4d66d74ba8c1cee1a68 += 4;if ($v5e0bdcbddccca4d66d74ba8c1cee1a68 + $vf5a8e923f8cd24b56b3bab32358cc58a > $v8f8cfcb6d77ce0cd6bbb78127b802443) {$this->_error = 'incomplete reply';$this->_MBPop();return false;}$v9b207167e5381c47682c6b4f58a623fb[] = $vf5a8e923f8cd24b56b3bab32358cc58a ? substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, $vf5a8e923f8cd24b56b3bab32358cc58a) : '';$v5e0bdcbddccca4d66d74ba8c1cee1a68 += $vf5a8e923f8cd24b56b3bab32358cc58a;}$this->_MBPop();return $v9b207167e5381c47682c6b4f58a623fb;}public function BuildKeywords($v1b1cc7f086b3f074da452bc3129981eb, $v6a992d5529f459a44fee58c733255e86, $v46ab2997ca006d78b35db8f6f9de7662) {assert(is_string($v1b1cc7f086b3f074da452bc3129981eb));assert(is_string($v6a992d5529f459a44fee58c733255e86));assert(is_bool($v46ab2997ca006d78b35db8f6f9de7662));$this->_MBPush();if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {$this->_MBPop();return false;}$vab4d0a658aef644a039b90c2067b45c0 = pack('N', strlen($v1b1cc7f086b3f074da452bc3129981eb)) . $v1b1cc7f086b3f074da452bc3129981eb;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v6a992d5529f459a44fee58c733255e86)) . $v6a992d5529f459a44fee58c733255e86;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', (int) $v46ab2997ca006d78b35db8f6f9de7662);$vf5a8e923f8cd24b56b3bab32358cc58a = strlen($vab4d0a658aef644a039b90c2067b45c0);$vab4d0a658aef644a039b90c2067b45c0 = pack('nnN', SEARCHD_COMMAND_KEYWORDS, VER_COMMAND_KEYWORDS, $vf5a8e923f8cd24b56b3bab32358cc58a) . $vab4d0a658aef644a039b90c2067b45c0;if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, $vf5a8e923f8cd24b56b3bab32358cc58a + 8) ||    !($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_KEYWORDS))) {$this->_MBPop();return false;}$v5e0bdcbddccca4d66d74ba8c1cee1a68 = 0;$v9b207167e5381c47682c6b4f58a623fb = [];$v8f8cfcb6d77ce0cd6bbb78127b802443 = strlen($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);list($va769c472c32f37dab5b3be2eec70b1da, $v5041e407b9eee45092f0d64e2a838275) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, 4));$v5e0bdcbddccca4d66d74ba8c1cee1a68 += 4;for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v5041e407b9eee45092f0d64e2a838275;$v865c0c0b4ab0e063e5caa3387c1a8741++) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, 4));$v5e0bdcbddccca4d66d74ba8c1cee1a68 += 4;$vcf3dc9aeeda9717993196094b2e7cd46 = $vf5a8e923f8cd24b56b3bab32358cc58a ? substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, $vf5a8e923f8cd24b56b3bab32358cc58a) : '';$v5e0bdcbddccca4d66d74ba8c1cee1a68 += $vf5a8e923f8cd24b56b3bab32358cc58a;list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, 4));$v5e0bdcbddccca4d66d74ba8c1cee1a68 += 4;$v14f42e76ae2e9c7f0eba61593087e78e = $vf5a8e923f8cd24b56b3bab32358cc58a ? substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, $vf5a8e923f8cd24b56b3bab32358cc58a) : '';$v5e0bdcbddccca4d66d74ba8c1cee1a68 += $vf5a8e923f8cd24b56b3bab32358cc58a;$v9b207167e5381c47682c6b4f58a623fb[] = ['tokenized' => $vcf3dc9aeeda9717993196094b2e7cd46, 'normalized' => $v14f42e76ae2e9c7f0eba61593087e78e];if ($v46ab2997ca006d78b35db8f6f9de7662) {list($vafd59d3fece3fa763f0f12ce982e077e, $vffa232a50713897c4185f0f21a8ae10b) = array_values(unpack('N*N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v5e0bdcbddccca4d66d74ba8c1cee1a68, 8)));$v5e0bdcbddccca4d66d74ba8c1cee1a68 += 8;$v9b207167e5381c47682c6b4f58a623fb [$v865c0c0b4ab0e063e5caa3387c1a8741]['docs'] = $vafd59d3fece3fa763f0f12ce982e077e;$v9b207167e5381c47682c6b4f58a623fb [$v865c0c0b4ab0e063e5caa3387c1a8741]['hits'] = $vffa232a50713897c4185f0f21a8ae10b;}if ($v5e0bdcbddccca4d66d74ba8c1cee1a68 > $v8f8cfcb6d77ce0cd6bbb78127b802443) {$this->_error = 'incomplete reply';$this->_MBPop();return false;}}$this->_MBPop();return $v9b207167e5381c47682c6b4f58a623fb;}public function EscapeString($vb45cffe084dd3d20d928bee85e7b0f21) {$vd98a07f84921b24ee30f86fd8cd85c3c = ['\\', '(', ')', '|', '-', '!', '@', '~', '"', '&', '/', '^', '$', '='];$v01b6e20344b68835c5ed1ddedf20d531 = ['\\\\', '\(', '\)', '\|', '\-', '\!', '\@', '\~', '\"', '\&', '\/', '\^', '\$', '\='];return str_replace($vd98a07f84921b24ee30f86fd8cd85c3c, $v01b6e20344b68835c5ed1ddedf20d531, $vb45cffe084dd3d20d928bee85e7b0f21);}public function UpdateAttributes($v6a992d5529f459a44fee58c733255e86, $v425ce871530e0633c917f98d8e9b1bc7, $vf09cc7ee3a9a93273f4b80601cafb00c, $v5bb798ce01459c7ed63dccf9f0f3c634 = false) {assert(is_string($v6a992d5529f459a44fee58c733255e86));assert(is_bool($v5bb798ce01459c7ed63dccf9f0f3c634));assert(is_array($v425ce871530e0633c917f98d8e9b1bc7));foreach ($v425ce871530e0633c917f98d8e9b1bc7 as $v815be97df65d6c4b510cd07189c5347a) {assert(is_string($v815be97df65d6c4b510cd07189c5347a));}assert(is_array($vf09cc7ee3a9a93273f4b80601cafb00c));foreach ($vf09cc7ee3a9a93273f4b80601cafb00c as $vb80bb7740288fda1f201890375a60c8f => $v1043bfc77febe75fafec0c4309faccf1) {assert(is_numeric($vb80bb7740288fda1f201890375a60c8f));assert(is_array($v1043bfc77febe75fafec0c4309faccf1));assert(umiCount($v1043bfc77febe75fafec0c4309faccf1) == umiCount($v425ce871530e0633c917f98d8e9b1bc7));foreach ($v1043bfc77febe75fafec0c4309faccf1 as $v9e3669d19b675bd57058fd4664205d2a) {if ($v5bb798ce01459c7ed63dccf9f0f3c634) {assert(is_array($v9e3669d19b675bd57058fd4664205d2a));foreach ($v9e3669d19b675bd57058fd4664205d2a as $vc4055e3a20b6b3af3d10590ea446ef6c) {assert(is_int($vc4055e3a20b6b3af3d10590ea446ef6c));}}else {assert(is_int($v9e3669d19b675bd57058fd4664205d2a));}}}$vab4d0a658aef644a039b90c2067b45c0 = pack('N', strlen($v6a992d5529f459a44fee58c733255e86)) . $v6a992d5529f459a44fee58c733255e86;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($v425ce871530e0633c917f98d8e9b1bc7));foreach ($v425ce871530e0633c917f98d8e9b1bc7 as $v815be97df65d6c4b510cd07189c5347a) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', strlen($v815be97df65d6c4b510cd07189c5347a)) . $v815be97df65d6c4b510cd07189c5347a;$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $v5bb798ce01459c7ed63dccf9f0f3c634 ? 1 : 0);}$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', umiCount($vf09cc7ee3a9a93273f4b80601cafb00c));foreach ($vf09cc7ee3a9a93273f4b80601cafb00c as $vb80bb7740288fda1f201890375a60c8f => $v1043bfc77febe75fafec0c4309faccf1) {$vab4d0a658aef644a039b90c2067b45c0 .= sphPackU64($vb80bb7740288fda1f201890375a60c8f);foreach ($v1043bfc77febe75fafec0c4309faccf1 as $v9e3669d19b675bd57058fd4664205d2a) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $v5bb798ce01459c7ed63dccf9f0f3c634 ? umiCount($v9e3669d19b675bd57058fd4664205d2a) : $v9e3669d19b675bd57058fd4664205d2a);if ($v5bb798ce01459c7ed63dccf9f0f3c634) {foreach ($v9e3669d19b675bd57058fd4664205d2a as $vc4055e3a20b6b3af3d10590ea446ef6c) {$vab4d0a658aef644a039b90c2067b45c0 .= pack('N', $vc4055e3a20b6b3af3d10590ea446ef6c);}}}}if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {return -1;}$vf5a8e923f8cd24b56b3bab32358cc58a = strlen($vab4d0a658aef644a039b90c2067b45c0);$vab4d0a658aef644a039b90c2067b45c0 = pack('nnN', SEARCHD_COMMAND_UPDATE, VER_COMMAND_UPDATE, $vf5a8e923f8cd24b56b3bab32358cc58a) . $vab4d0a658aef644a039b90c2067b45c0;if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, $vf5a8e923f8cd24b56b3bab32358cc58a + 8)) {return -1;}if (!($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_UPDATE))) {return -1;}list($va769c472c32f37dab5b3be2eec70b1da, $v0f81d52e06caaa4860887488d18271c7) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 0, 4));return $v0f81d52e06caaa4860887488d18271c7;}public function Open() {if ($this->_socket !== false) {$this->_error = 'already connected';return false;}if (!$v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect()) {return false;}$vab4d0a658aef644a039b90c2067b45c0 = pack('nnNN', SEARCHD_COMMAND_PERSIST, 0, 4, 1);if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, 12)) {return false;}$this->_socket = $v0666f0acdeed38d4cd9084ade1739498;return true;}public function Close() {if ($this->_socket === false) {$this->_error = 'not connected';return false;}fclose($this->_socket);$this->_socket = false;return true;}public function Status() {$this->_MBPush();if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {$this->_MBPop();return false;}$vab4d0a658aef644a039b90c2067b45c0 = pack('nnNN', SEARCHD_COMMAND_STATUS, VER_COMMAND_STATUS, 4, 1);if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, 12) ||    !($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_STATUS))) {$this->_MBPop();return false;}$v9b207167e5381c47682c6b4f58a623fb = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, 4);$v83878c91171338902e0fe0fb97a8c47a = 0;list ($vdf347a373b8f92aa0ae3dd920a5ec2f6, $v07d43db2a74336dcfbdaeeeffe6f7a19) = array_values(unpack('N*N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 8)));$v83878c91171338902e0fe0fb97a8c47a += 8;$v9b207167e5381c47682c6b4f58a623fb = [];for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $vdf347a373b8f92aa0ae3dd920a5ec2f6;$v865c0c0b4ab0e063e5caa3387c1a8741++) {for ($v363b122c528f54df4a0446b6bab05515 = 0;$v363b122c528f54df4a0446b6bab05515 < $v07d43db2a74336dcfbdaeeeffe6f7a19;$v363b122c528f54df4a0446b6bab05515++) {list($va769c472c32f37dab5b3be2eec70b1da, $vf5a8e923f8cd24b56b3bab32358cc58a) = unpack('N*', substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, 4));$v83878c91171338902e0fe0fb97a8c47a += 4;$v9b207167e5381c47682c6b4f58a623fb[$v865c0c0b4ab0e063e5caa3387c1a8741][] = substr($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe, $v83878c91171338902e0fe0fb97a8c47a, $vf5a8e923f8cd24b56b3bab32358cc58a);$v83878c91171338902e0fe0fb97a8c47a += $vf5a8e923f8cd24b56b3bab32358cc58a;}}$this->_MBPop();return $v9b207167e5381c47682c6b4f58a623fb;}public function FlushAttrs() {$this->_MBPush();if (!($v0666f0acdeed38d4cd9084ade1739498 = $this->_Connect())) {$this->_MBPop();return false;}$vab4d0a658aef644a039b90c2067b45c0 = pack('nnN', SEARCHD_COMMAND_FLUSHATTRS, VER_COMMAND_FLUSHATTRS, 0);if (!$this->_Send($v0666f0acdeed38d4cd9084ade1739498, $vab4d0a658aef644a039b90c2067b45c0, 8) ||    !($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $this->_GetResponse($v0666f0acdeed38d4cd9084ade1739498, VER_COMMAND_FLUSHATTRS))) {$this->_MBPop();return false;}$ve4d23e841d8e8804190027bce3180fa5 = -1;if (strlen($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe) == 4) {list($va769c472c32f37dab5b3be2eec70b1da, $ve4d23e841d8e8804190027bce3180fa5) = unpack('N*', $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);}$this->_MBPop();return $ve4d23e841d8e8804190027bce3180fa5;}}