<?php
use UmiCms\System\Hierarchy\Domain\iDetector;use UmiCms\System\Response;class umiRedirectsCollection implements  iUmiCollection,  iRedirects,  iUmiDataBaseInjector,  iUmiConfigInjector,  Response\iInjector,  iUmiService,  iUmiConstantMapInjector,  iClassConfigManager {use tUmiDataBaseInjector;use tUmiService;use Response\tInjector;use tUmiConfigInjector;use tUmiConstantMapInjector;use tCommonCollection;use tClassConfigManager;private $urlSuffix;private $autoCreateRedirectHandledEvents = [   'systemModifyElement',   'systemMoveElement'  ];private $collectionItemClass = 'umiRedirect';private static $classConfig = [   'service' => 'Redirects',   'fields' => [    [     'name' => 'ID_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',     'used-in-creation' => false,    ],    [     'name' => 'SOURCE_FIELD_NAME',     'type' => 'STRING_FIELD_TYPE',     'required' => true,    ],    [     'name' => 'TARGET_FIELD_NAME',     'type' => 'STRING_FIELD_TYPE',     'required' => true,    ],    [     'name' => 'STATUS_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',     'required' => true,    ],    [     'name' => 'MADE_BY_USER_FIELD_NAME',     'type' => 'INTEGER_FIELD_TYPE',     'title' => 'Made By user',     'required' => true,    ],   ]  ];private $domainDetector;private $domainCollection;private $languageCollection;public static function getInstance($v4a8a08f09d37b73795649038408b5f33 = null) {$v06d419f75cbecf6df5a44ea9471105ba = ServiceContainerFactory::create();return $v06d419f75cbecf6df5a44ea9471105ba->get(self::getConfig()->get('service'));}public function add($v36cd38f49b9afa08222c0dc9ebfe35eb, $v42aefbae01d2dfd981f7da7d823d689e, $v9acb44549b41563697bb490144ec6258 = 301, $v6a1ceb246b9ea27f5ab29fbd0a01ca06 = false) {if ($v36cd38f49b9afa08222c0dc9ebfe35eb == $v42aefbae01d2dfd981f7da7d823d689e) {return false;}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v36cd38f49b9afa08222c0dc9ebfe35eb = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($v36cd38f49b9afa08222c0dc9ebfe35eb));$v42aefbae01d2dfd981f7da7d823d689e = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($v42aefbae01d2dfd981f7da7d823d689e));$v9acb44549b41563697bb490144ec6258 = (int) $v9acb44549b41563697bb490144ec6258;if (!umiRedirect::getRedirectMessage($v9acb44549b41563697bb490144ec6258)) {return false;}$v6a1ceb246b9ea27f5ab29fbd0a01ca06 = (int) $v6a1ceb246b9ea27f5ab29fbd0a01ca06;$v4717d53ebfdfea8477f780ec66151dcb->startTransaction('Adding new redirect records');$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();try {$v1774e78497c150d348704ae521739cf7 = $this->get(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v36cd38f49b9afa08222c0dc9ebfe35eb     ]    );foreach ($v1774e78497c150d348704ae521739cf7 as $v4e783d7ac4c9f47544ba8c6f7982c2d8) {$vf17ca2c829680ada2fec9fc87bc5f606 = $this->create(      [       $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $v4e783d7ac4c9f47544ba8c6f7982c2d8->getSource(),       $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v42aefbae01d2dfd981f7da7d823d689e,       $v1d78dc8ed51214e518b5114fe24490ae->get('STATUS_FIELD_NAME') => $v9acb44549b41563697bb490144ec6258,       $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06      ]     );if ($vf17ca2c829680ada2fec9fc87bc5f606->getSource() === $vf17ca2c829680ada2fec9fc87bc5f606->getTarget()) {$this->del($vf17ca2c829680ada2fec9fc87bc5f606->getId());$this->del($v4e783d7ac4c9f47544ba8c6f7982c2d8->getId());}}$this->delete(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v36cd38f49b9afa08222c0dc9ebfe35eb     ]    );$vae5288c340fc9ed9fe2f9c78aff162a9 = $this->isExists(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v42aefbae01d2dfd981f7da7d823d689e,      $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $v36cd38f49b9afa08222c0dc9ebfe35eb     ]    );if ($vae5288c340fc9ed9fe2f9c78aff162a9) {throw new Exception('Prevent doubles');}$this->create(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v42aefbae01d2dfd981f7da7d823d689e,      $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $v36cd38f49b9afa08222c0dc9ebfe35eb,      $v1d78dc8ed51214e518b5114fe24490ae->get('STATUS_FIELD_NAME') => $v9acb44549b41563697bb490144ec6258,      $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06     ]    );}catch (Exception $ve1671797c52e15f763380b45e841ec32) {$v4717d53ebfdfea8477f780ec66151dcb->rollbackTransaction();return false;}$v4717d53ebfdfea8477f780ec66151dcb->commitTransaction();return true;}public function getRedirectsIdBySource($v36cd38f49b9afa08222c0dc9ebfe35eb, $v6a1ceb246b9ea27f5ab29fbd0a01ca06 = false) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v36cd38f49b9afa08222c0dc9ebfe35eb = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($v36cd38f49b9afa08222c0dc9ebfe35eb));$v6a1ceb246b9ea27f5ab29fbd0a01ca06 = (int) $v6a1ceb246b9ea27f5ab29fbd0a01ca06;$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v2d8413ae32cda5259e93d4f3666f1235 = [];try {$result = $this->get(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $v36cd38f49b9afa08222c0dc9ebfe35eb,      $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06     ]    );}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return $v2d8413ae32cda5259e93d4f3666f1235;}foreach ($result as $vf17ca2c829680ada2fec9fc87bc5f606) {$v2d8413ae32cda5259e93d4f3666f1235[$vf17ca2c829680ada2fec9fc87bc5f606->getId()] = [     $vf17ca2c829680ada2fec9fc87bc5f606->getSource(),     $vf17ca2c829680ada2fec9fc87bc5f606->getTarget(),     $vf17ca2c829680ada2fec9fc87bc5f606->getStatus()    ];}return $v2d8413ae32cda5259e93d4f3666f1235;}public function getRedirectIdByTarget($v42aefbae01d2dfd981f7da7d823d689e, $v6a1ceb246b9ea27f5ab29fbd0a01ca06 = false) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v42aefbae01d2dfd981f7da7d823d689e = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($v42aefbae01d2dfd981f7da7d823d689e));$v6a1ceb246b9ea27f5ab29fbd0a01ca06 = (int) $v6a1ceb246b9ea27f5ab29fbd0a01ca06;$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v2d8413ae32cda5259e93d4f3666f1235 = [];try {$result = $this->get(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('TARGET_FIELD_NAME') => $v42aefbae01d2dfd981f7da7d823d689e,      $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06     ]    );}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return $v2d8413ae32cda5259e93d4f3666f1235;}foreach ($result as $vf17ca2c829680ada2fec9fc87bc5f606) {$v2d8413ae32cda5259e93d4f3666f1235[$vf17ca2c829680ada2fec9fc87bc5f606->getId()] = [     $vf17ca2c829680ada2fec9fc87bc5f606->getSource(),     $vf17ca2c829680ada2fec9fc87bc5f606->getTarget(),     $vf17ca2c829680ada2fec9fc87bc5f606->getStatus()    ];}return $v2d8413ae32cda5259e93d4f3666f1235;}public function del($vb80bb7740288fda1f201890375a60c8f) {$this->delete(    [     $this->getMap()->get('ID_FIELD_NAME') => $vb80bb7740288fda1f201890375a60c8f    ]   );return true;}public function redirectIfRequired($v36cd38f49b9afa08222c0dc9ebfe35eb, $v6a1ceb246b9ea27f5ab29fbd0a01ca06 = false) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v36cd38f49b9afa08222c0dc9ebfe35eb = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($v36cd38f49b9afa08222c0dc9ebfe35eb));$ve9a4e5e4b94e7c8e1e3c3a47b1d36614 = $this->getSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb);$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v6a1ceb246b9ea27f5ab29fbd0a01ca06 = (int) $v6a1ceb246b9ea27f5ab29fbd0a01ca06;try {$v2d8413ae32cda5259e93d4f3666f1235 = $this->get(     [      $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $ve9a4e5e4b94e7c8e1e3c3a47b1d36614,      $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06     ]    );}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return false;}if (umiCount($v2d8413ae32cda5259e93d4f3666f1235) > 0) {$vf17ca2c829680ada2fec9fc87bc5f606 = array_shift($v2d8413ae32cda5259e93d4f3666f1235);$v42aefbae01d2dfd981f7da7d823d689e = $this->parseUri($vf17ca2c829680ada2fec9fc87bc5f606->getTarget());$v9acb44549b41563697bb490144ec6258 = $vf17ca2c829680ada2fec9fc87bc5f606->getStatus();if (!preg_match('/^(https?:\/\/)/', $v42aefbae01d2dfd981f7da7d823d689e)) {$v42aefbae01d2dfd981f7da7d823d689e = '/' . $v42aefbae01d2dfd981f7da7d823d689e;}if ($v6a1ceb246b9ea27f5ab29fbd0a01ca06 || $this->isValidLink($v42aefbae01d2dfd981f7da7d823d689e)) {$this->redirect($v42aefbae01d2dfd981f7da7d823d689e, $v9acb44549b41563697bb490144ec6258);}}$v7203a0581adefcba41061c7d8748047c = explode('/', trim($v36cd38f49b9afa08222c0dc9ebfe35eb, '/'));do {array_pop($v7203a0581adefcba41061c7d8748047c);$vad204f0f7dd016c0730989e220a3ff1b = implode('/', $v7203a0581adefcba41061c7d8748047c) . '/';$vad204f0f7dd016c0730989e220a3ff1b = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->parseUri($vad204f0f7dd016c0730989e220a3ff1b));if ($vad204f0f7dd016c0730989e220a3ff1b === '') {if (umiCount($v7203a0581adefcba41061c7d8748047c) > 0) {continue;}break;}$v0338b1d651f68db6a8fe6893784ba8c8 = $this->getSourceCandidates($vad204f0f7dd016c0730989e220a3ff1b);if ($v0338b1d651f68db6a8fe6893784ba8c8 == $ve9a4e5e4b94e7c8e1e3c3a47b1d36614) {continue;}try {$vda5af33385afe59a96b90d793d7ee082 = $this->get(      [       $v1d78dc8ed51214e518b5114fe24490ae->get('SOURCE_FIELD_NAME') => $v0338b1d651f68db6a8fe6893784ba8c8,       $v1d78dc8ed51214e518b5114fe24490ae->get('MADE_BY_USER_FIELD_NAME') => $v6a1ceb246b9ea27f5ab29fbd0a01ca06      ]     );}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return false;}if (umiCount($vda5af33385afe59a96b90d793d7ee082) > 0) {$vf66a0cafc30e141045d9c9327d71e123 = array_shift($vda5af33385afe59a96b90d793d7ee082);$vad204f0f7dd016c0730989e220a3ff1b = $vf66a0cafc30e141045d9c9327d71e123->getSource();$vd5496c5a81ffde0113555b32d1f6725e = $this->parseUri($vf66a0cafc30e141045d9c9327d71e123->getTarget());if ($v36cd38f49b9afa08222c0dc9ebfe35eb == $vd5496c5a81ffde0113555b32d1f6725e) {continue;}$v4cb75ae8da8b4b486d9a2eb6220d78f2 = mb_substr($v36cd38f49b9afa08222c0dc9ebfe35eb, mb_strlen($vad204f0f7dd016c0730989e220a3ff1b));$vd5496c5a81ffde0113555b32d1f6725e .= $v4cb75ae8da8b4b486d9a2eb6220d78f2;if (!preg_match('/^(https?:\/\/)/', $vd5496c5a81ffde0113555b32d1f6725e)) {$vd5496c5a81ffde0113555b32d1f6725e = '/' . $vd5496c5a81ffde0113555b32d1f6725e;}if ($this->isValidLink($vd5496c5a81ffde0113555b32d1f6725e)) {$this->redirect($vd5496c5a81ffde0113555b32d1f6725e, $vf66a0cafc30e141045d9c9327d71e123->getStatus());}}}while (umiCount($v7203a0581adefcba41061c7d8748047c) > 1);return false;}public function init() {$v2245023265ae4cf87d02c8b6ba991139 = $this->getConfiguration();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();if ($v2245023265ae4cf87d02c8b6ba991139->get($v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_SECTION'), $v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_AUTO_CREATE_REDIRECT_ENABLE'))) {foreach ($this->getHandledEventsForAutoCreating() as $ve0cf6877da9df873a85a2137fb5d2e26) {new umiEventListener(      $ve0cf6877da9df873a85a2137fb5d2e26,      $v1d78dc8ed51214e518b5114fe24490ae->get('AUTO_CREATE_REDIRECT_HANDLER_MODULE'),      $v1d78dc8ed51214e518b5114fe24490ae->get('AUTO_CREATE_REDIRECT_HANDLER_METHOD')     );}}}public function getCollectionItemClass() {return $this->collectionItemClass;}public function getTableName() {return $this->getMap()->get('TABLE_NAME');}public function setDomainDetector(iDetector $v21aed3df2077b5d91ce46bf123446731) {$this->domainDetector = $v21aed3df2077b5d91ce46bf123446731;return $this;}public function setDomainCollection(\iDomainsCollection $v0d771fa031fb27561ed207afa6cf9983) {$this->domainCollection = $v0d771fa031fb27561ed207afa6cf9983;return $this;}public function setLanguageCollection(\iLangsCollection $vffae938c1d7ffccb4fffb0259d052c2a) {$this->languageCollection = $vffae938c1d7ffccb4fffb0259d052c2a;return $this;}protected function parseUri($v9305b73d359bd06734fee0b3638079e1) {if ($v9305b73d359bd06734fee0b3638079e1 === '/') {return $v9305b73d359bd06734fee0b3638079e1;}$v9305b73d359bd06734fee0b3638079e1 = ltrim($v9305b73d359bd06734fee0b3638079e1, '/');$v5f44c555cfb3ecb28f624fa95617f277 = $this->getUrlSuffix();if ($v5f44c555cfb3ecb28f624fa95617f277 == '/') {return rtrim($v9305b73d359bd06734fee0b3638079e1, '/');}$v4ec1b477cd0232b832c1899905ec51a4 = addcslashes($v5f44c555cfb3ecb28f624fa95617f277, '\^.$|()[]*+?{},');$v240bf022e685b0ee30ad9fe9e1fb5d5b = '/(' . $v4ec1b477cd0232b832c1899905ec51a4 . ')/';$ve1c903ef0832002e78abaa5dc4993dd3 = preg_replace($v240bf022e685b0ee30ad9fe9e1fb5d5b, '', $v9305b73d359bd06734fee0b3638079e1);return ($ve1c903ef0832002e78abaa5dc4993dd3 === null) ? $v9305b73d359bd06734fee0b3638079e1 : $ve1c903ef0832002e78abaa5dc4993dd3;}protected function getUrlSuffix() {if ($this->urlSuffix !== null) {return $this->urlSuffix;}$vccd1066343c95877b75b79d47c36bebe = $this->getConfiguration();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();if ($vccd1066343c95877b75b79d47c36bebe->get($v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_SECTION'), $v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_URL_SUFFIX_ENABLE'))) {return $this->urlSuffix = (string) $vccd1066343c95877b75b79d47c36bebe->get(     $v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_SECTION'),     $v1d78dc8ed51214e518b5114fe24490ae->get('CONFIG_URL_SUFFIX')    );}return $this->urlSuffix = '/';}protected function appendUrlSuffix($v572d4e421e5e6b9bc11d815e8a027112) {$v5f44c555cfb3ecb28f624fa95617f277 = $this->getUrlSuffix();$v1b3fac9778ea032c7110f630feb5bf0a = parse_url($v572d4e421e5e6b9bc11d815e8a027112);$vdb731e3f612011da21760ce05d5ac0bf = $v1b3fac9778ea032c7110f630feb5bf0a['path'];$v0e0691e7fe150dab9be349c30f4e50a4 = mb_strrpos($vdb731e3f612011da21760ce05d5ac0bf, $v5f44c555cfb3ecb28f624fa95617f277);$vcfbf68536b783d99133b350a324eac8e = $v0e0691e7fe150dab9be349c30f4e50a4 !== false;$v8c2b1d124c8d7ddd90141249177c6d89 = $v0e0691e7fe150dab9be349c30f4e50a4 + mb_strlen($v5f44c555cfb3ecb28f624fa95617f277) == mb_strlen($vdb731e3f612011da21760ce05d5ac0bf);$va31ddcf18971499707b99e43f1f998e6 = $vdb731e3f612011da21760ce05d5ac0bf === '/';if (($vcfbf68536b783d99133b350a324eac8e && $v8c2b1d124c8d7ddd90141249177c6d89) || $va31ddcf18971499707b99e43f1f998e6) {return $v572d4e421e5e6b9bc11d815e8a027112;}$v7559d3e134524b524fba2a6480ff8e13 = rtrim($vdb731e3f612011da21760ce05d5ac0bf, '/') . $v5f44c555cfb3ecb28f624fa95617f277;$vb37e9364ecced43f88577ce3368a65aa = '';if (isset($v1b3fac9778ea032c7110f630feb5bf0a['scheme']) && $v1b3fac9778ea032c7110f630feb5bf0a['scheme']) {$vb37e9364ecced43f88577ce3368a65aa .= $v1b3fac9778ea032c7110f630feb5bf0a['scheme'] . '://';}if (isset($v1b3fac9778ea032c7110f630feb5bf0a['host']) && $v1b3fac9778ea032c7110f630feb5bf0a['host']) {$vb37e9364ecced43f88577ce3368a65aa .= $v1b3fac9778ea032c7110f630feb5bf0a['host'];}$vb37e9364ecced43f88577ce3368a65aa .= $v7559d3e134524b524fba2a6480ff8e13;if (isset($v1b3fac9778ea032c7110f630feb5bf0a['query']) && $v1b3fac9778ea032c7110f630feb5bf0a['query']) {$vb37e9364ecced43f88577ce3368a65aa .= '?' . $v1b3fac9778ea032c7110f630feb5bf0a['query'];}return $vb37e9364ecced43f88577ce3368a65aa;}protected function redirect($v42aefbae01d2dfd981f7da7d823d689e, $v9acb44549b41563697bb490144ec6258) {$va153823cb904cdc2433606062b6aea0f = umiRedirect::getRedirectMessage($v9acb44549b41563697bb490144ec6258);if (!$va153823cb904cdc2433606062b6aea0f) {return false;}$vccd1066343c95877b75b79d47c36bebe = $this->getConfiguration();if (!$this->isExternalLink($v42aefbae01d2dfd981f7da7d823d689e) && $vccd1066343c95877b75b79d47c36bebe->get('seo', 'url-suffix.add')) {$v42aefbae01d2dfd981f7da7d823d689e = $this->appendUrlSuffix($v42aefbae01d2dfd981f7da7d823d689e);}$v7f2db423a49b305459147332fb01cf87 = $this->getResponse()    ->getCurrentBuffer();$vcea75f8cd36a4f8567d5068b7e7e05e8 = getServer('HTTP_REFERER');if ($vcea75f8cd36a4f8567d5068b7e7e05e8) {$v7f2db423a49b305459147332fb01cf87->setHeader('Referrer', (string) $vcea75f8cd36a4f8567d5068b7e7e05e8);}$v7f2db423a49b305459147332fb01cf87->redirect($v42aefbae01d2dfd981f7da7d823d689e, $v9acb44549b41563697bb490144ec6258 . ' ' . $va153823cb904cdc2433606062b6aea0f, $v9acb44549b41563697bb490144ec6258);$v7f2db423a49b305459147332fb01cf87->end();}protected function getHandledEventsForAutoCreating() {return $this->autoCreateRedirectHandledEvents;}protected function isValidLink($v42aefbae01d2dfd981f7da7d823d689e) {if ($this->isExternalLink($v42aefbae01d2dfd981f7da7d823d689e)) {return true;}if (preg_match('/^https?:\/\/[^\/]*\/(\S*)/', $v42aefbae01d2dfd981f7da7d823d689e, $v9c28d32df234037773be184dbdafc274)) {$vd6fe1d0be6347b8ef2427fa629c04485 = $v9c28d32df234037773be184dbdafc274[1];}else {$vd6fe1d0be6347b8ef2427fa629c04485 = $v42aefbae01d2dfd981f7da7d823d689e;}$v01f079f22315fc3afe5dfd08c7a47fb2 = false;$v5f51e765b4dc9821bb184fe18370ab8d = 0;$v72ee76c5c29383b7c9f9225c1fa4d10b = $this->getDomainCollection()    ->getDomainIdByUrl($v42aefbae01d2dfd981f7da7d823d689e);$v694b5b6b5536d28285396c8ce7c268bc = $this->getLanguageCollection()    ->getLanguageIdByUrl($v42aefbae01d2dfd981f7da7d823d689e);$ve8d5ec51fb0dde0c3c77e3a482f40725 = umiHierarchy::getInstance()    ->getIdByPath($vd6fe1d0be6347b8ef2427fa629c04485, $v01f079f22315fc3afe5dfd08c7a47fb2, $v5f51e765b4dc9821bb184fe18370ab8d, $v72ee76c5c29383b7c9f9225c1fa4d10b, $v694b5b6b5536d28285396c8ce7c268bc);return ($ve8d5ec51fb0dde0c3c77e3a482f40725 !== false);}protected function isExternalLink($v42aefbae01d2dfd981f7da7d823d689e) {return $this->getDomainCollection()->getDomainIdByUrl($v42aefbae01d2dfd981f7da7d823d689e) === false;}private function getSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb) {return array_merge(    $this->getAbsoluteSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb),    $this->getRelativeSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb)   );}private function getAbsoluteSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb) {$vad5f82e879a9c5d6b5b442eb37e50551 = $this->getDomainDetector()->detect();$v572d4e421e5e6b9bc11d815e8a027112 = rtrim($vad5f82e879a9c5d6b5b442eb37e50551->getCurrentUrl() . "/{$v36cd38f49b9afa08222c0dc9ebfe35eb}", '/');return [    $v572d4e421e5e6b9bc11d815e8a027112,    "{$v572d4e421e5e6b9bc11d815e8a027112}/"   ];}private function getRelativeSourceCandidates($v36cd38f49b9afa08222c0dc9ebfe35eb) {if ($v36cd38f49b9afa08222c0dc9ebfe35eb === '/') {return [$v36cd38f49b9afa08222c0dc9ebfe35eb];}return [    $v36cd38f49b9afa08222c0dc9ebfe35eb,    "{$v36cd38f49b9afa08222c0dc9ebfe35eb}/",    "/{$v36cd38f49b9afa08222c0dc9ebfe35eb}",    "/{$v36cd38f49b9afa08222c0dc9ebfe35eb}/",   ];}public function deleteAllRedirects() {$this->deleteAll();}private function getDomainDetector() {return $this->domainDetector;}private function getDomainCollection() {return $this->domainCollection;}private function getLanguageCollection() {return $this->languageCollection;}}