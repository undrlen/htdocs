<?php
 trait tCommonCollection {public function create(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$vd05b6ed7d2345020440df396d6da7f73 = $vf09cc7ee3a9a93273f4b80601cafb00c = [];$v15833b3badf82b4004598589a7c150e3 = $this->getFieldsForCreation($v0ef69eddf9c69038340f7cd2c0c9a9f9->get('fields'));foreach ($v15833b3badf82b4004598589a7c150e3 as $v016e99ea0efc76df33184273127355b7) {$v972bf3f05d14ffbdb817bef60638ff00 = $this->getFieldName($v016e99ea0efc76df33184273127355b7);$v6d58e323dd91f19ec80d313941942f94 = $this->getFieldTitle($v016e99ea0efc76df33184273127355b7);$this->checkInputForField(     $v972bf3f05d14ffbdb817bef60638ff00,     $v6d58e323dd91f19ec80d313941942f94,     $v21ffce5b8a6cc8cc6a41448dd69623c9,     $v016e99ea0efc76df33184273127355b7    );$this->appendField($v972bf3f05d14ffbdb817bef60638ff00, $vd05b6ed7d2345020440df396d6da7f73);$v319e2726bcc98302437312a8ebfe9deb = isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00]) ? $v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00] : null;$v833750ac635fcc57dc33ecafe365f9a7 = $v1d78dc8ed51214e518b5114fe24490ae->get($v016e99ea0efc76df33184273127355b7['type']);$this->appendFieldValue(     $v972bf3f05d14ffbdb817bef60638ff00,     $v833750ac635fcc57dc33ecafe365f9a7,     $v319e2726bcc98302437312a8ebfe9deb,     $vf09cc7ee3a9a93273f4b80601cafb00c,     $v0ef69eddf9c69038340f7cd2c0c9a9f9    );}try {$this->callback(     'create-validate-callback',     $v0ef69eddf9c69038340f7cd2c0c9a9f9,     [      $vd05b6ed7d2345020440df396d6da7f73,      $vf09cc7ee3a9a93273f4b80601cafb00c,      $v15833b3badf82b4004598589a7c150e3     ]    );}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v80071f37861c360a27b7327e132c911a = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->getTableName());$vf085477a7a818581954a1730b06dd2a6 = umiCount($vd05b6ed7d2345020440df396d6da7f73);$v199ec484761ec3c54cbd9396ce457338 = umiCount($vf09cc7ee3a9a93273f4b80601cafb00c);if ($vf085477a7a818581954a1730b06dd2a6 != $v199ec484761ec3c54cbd9396ce457338) {throw new Exception('Wrong data given');}$v24b20d90206b20ec8659a6dcb1a8dfa8 = (umiCount($vd05b6ed7d2345020440df396d6da7f73) > 0) ? '(' . implode(', ', $vd05b6ed7d2345020440df396d6da7f73) . ')' : '';$v7cc1647b62d7048074f73c41c13a9c44 = '';foreach ($vf09cc7ee3a9a93273f4b80601cafb00c as $v2063c1608d6e0baf80249c42e2be5804) {$v7cc1647b62d7048074f73c41c13a9c44 .= ($v2063c1608d6e0baf80249c42e2be5804 === null) ? 'NULL, ' : "'" . $v2063c1608d6e0baf80249c42e2be5804 . "', ";}if (!empty($v7cc1647b62d7048074f73c41c13a9c44)) {$v7cc1647b62d7048074f73c41c13a9c44 = rtrim($v7cc1647b62d7048074f73c41c13a9c44, ', ');$v7cc1647b62d7048074f73c41c13a9c44 = 'VALUES(' . $v7cc1647b62d7048074f73c41c13a9c44 . ')';}$v4717d53ebfdfea8477f780ec66151dcb->startTransaction("CREATE ENTITY IN $v80071f37861c360a27b7327e132c911a");try {$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
INSERT INTO `$v80071f37861c360a27b7327e132c911a` $v24b20d90206b20ec8659a6dcb1a8dfa8 $v7cc1647b62d7048074f73c41c13a9c44;
SQL;    $v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);$vf09cc7ee3a9a93273f4b80601cafb00c[$v1d78dc8ed51214e518b5114fe24490ae->get('ID_FIELD_NAME')] = $v4717d53ebfdfea8477f780ec66151dcb->insertId();try {$vf09cc7ee3a9a93273f4b80601cafb00c = $this->callback(      'create-prepare-instancing-callback',      $v0ef69eddf9c69038340f7cd2c0c9a9f9,      [       $vd05b6ed7d2345020440df396d6da7f73,       $vf09cc7ee3a9a93273f4b80601cafb00c,       $v15833b3badf82b4004598589a7c150e3,       $v21ffce5b8a6cc8cc6a41448dd69623c9      ]     );}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}$v80fd92c019d4b7c2299492f4ad549e67 = $this->getCollectionItemClass();$v8e2dcfd7e7e24b1ca76c1193f645902b = new $v80fd92c019d4b7c2299492f4ad549e67($vf09cc7ee3a9a93273f4b80601cafb00c, $v1d78dc8ed51214e518b5114fe24490ae);$v8e2dcfd7e7e24b1ca76c1193f645902b->setConnection($v4717d53ebfdfea8477f780ec66151dcb);$v8e2dcfd7e7e24b1ca76c1193f645902b->setMap($v1d78dc8ed51214e518b5114fe24490ae);try {$this->callback('create-after-callback', $v0ef69eddf9c69038340f7cd2c0c9a9f9, [$v8e2dcfd7e7e24b1ca76c1193f645902b]);}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}}catch (Exception $ve1671797c52e15f763380b45e841ec32) {$v4717d53ebfdfea8477f780ec66151dcb->rollbackTransaction();throw $ve1671797c52e15f763380b45e841ec32;}$v4717d53ebfdfea8477f780ec66151dcb->commitTransaction();return $v8e2dcfd7e7e24b1ca76c1193f645902b;}public function getFieldsConditions(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$va8c3a42d5719ce94740c2fdf9b925e20 = [];$v1dda69ae56c0a3cdbe551991406dc215 = [];if (isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v1d78dc8ed51214e518b5114fe24490ae->get('LIKE_MODE_KEY')])) {$va8c3a42d5719ce94740c2fdf9b925e20 = (array) $v21ffce5b8a6cc8cc6a41448dd69623c9[$v1d78dc8ed51214e518b5114fe24490ae->get('LIKE_MODE_KEY')];}if (isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v1d78dc8ed51214e518b5114fe24490ae->get('COMPARE_MODE_KEY')])) {$v1dda69ae56c0a3cdbe551991406dc215 = (array) $v21ffce5b8a6cc8cc6a41448dd69623c9[$v1d78dc8ed51214e518b5114fe24490ae->get('COMPARE_MODE_KEY')];}$vb5b399ec1fcfe753f58dbafa197efdc1 = [];foreach ($v0ef69eddf9c69038340f7cd2c0c9a9f9->get('fields') as $v016e99ea0efc76df33184273127355b7) {$v972bf3f05d14ffbdb817bef60638ff00 = $v1d78dc8ed51214e518b5114fe24490ae->get($v016e99ea0efc76df33184273127355b7['name']);$v833750ac635fcc57dc33ecafe365f9a7 = $v1d78dc8ed51214e518b5114fe24490ae->get($v016e99ea0efc76df33184273127355b7['type']);$v0bc3b6f72cb1dd95d59bb4af831912ee = false;$v6247ed2c2095b0c52fe9c3c31e3d935b = false;if (isset($va8c3a42d5719ce94740c2fdf9b925e20[$v972bf3f05d14ffbdb817bef60638ff00])) {$v0bc3b6f72cb1dd95d59bb4af831912ee = $va8c3a42d5719ce94740c2fdf9b925e20[$v972bf3f05d14ffbdb817bef60638ff00];}if (isset($v016e99ea0efc76df33184273127355b7['comparable']) && isset($v1dda69ae56c0a3cdbe551991406dc215[$v972bf3f05d14ffbdb817bef60638ff00])) {$v6247ed2c2095b0c52fe9c3c31e3d935b = $v1dda69ae56c0a3cdbe551991406dc215[$v972bf3f05d14ffbdb817bef60638ff00];}if (array_key_exists($v972bf3f05d14ffbdb817bef60638ff00, $v21ffce5b8a6cc8cc6a41448dd69623c9)) {$vb5b399ec1fcfe753f58dbafa197efdc1[] = $this->getFieldCondition(      $v972bf3f05d14ffbdb817bef60638ff00,      $v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00],      $v833750ac635fcc57dc33ecafe365f9a7,      $v0bc3b6f72cb1dd95d59bb4af831912ee,      $v6247ed2c2095b0c52fe9c3c31e3d935b     );}}return $vb5b399ec1fcfe753f58dbafa197efdc1;}public function getById($vb80bb7740288fda1f201890375a60c8f) {return $this->getBy($this->getMap()->get('ID_FIELD_NAME'), $vb80bb7740288fda1f201890375a60c8f);}public function get(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v93940ebe17ded0dc45f22cc42fdd7f76 = $this->getSelectionTarget($v21ffce5b8a6cc8cc6a41448dd69623c9);$v1c0381524f8540d2f3abeff95d1ee297 = $this->getFieldsConditions($v21ffce5b8a6cc8cc6a41448dd69623c9);$v1c0381524f8540d2f3abeff95d1ee297 = (umiCount($v1c0381524f8540d2f3abeff95d1ee297) == 0) ? '' : 'WHERE ' . implode(' AND ', $v1c0381524f8540d2f3abeff95d1ee297);$v02675f202828e843412ca811591139ae = $this->getLimitCondition($v21ffce5b8a6cc8cc6a41448dd69623c9);$vd341c3765fbbc7cc1df261d0e2f4056e = $this->getOrderCondition($v21ffce5b8a6cc8cc6a41448dd69623c9);$v691d502cfd0e0626cd3b058e5682ad1c = [];$v80071f37861c360a27b7327e132c911a = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->getTableName());$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
SELECT $v93940ebe17ded0dc45f22cc42fdd7f76
FROM `$v80071f37861c360a27b7327e132c911a`
$v1c0381524f8540d2f3abeff95d1ee297
$vd341c3765fbbc7cc1df261d0e2f4056e
$v02675f202828e843412ca811591139ae;
SQL;   $result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ASSOC);if ($result->length() == 0) {return $v691d502cfd0e0626cd3b058e5682ad1c;}$vd1cc45266794cc447520a091ad16f22a = $this->getCollectionItemClass();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$v15833b3badf82b4004598589a7c150e3 = $v0ef69eddf9c69038340f7cd2c0c9a9f9->get('fields');$v66b3d71bf6a936385779818d5c45b163 = array_keys($v15833b3badf82b4004598589a7c150e3);foreach ($result as $vf1965a857bc285d26fe22023aa5ab50d) {try {$vf1965a857bc285d26fe22023aa5ab50d = $this->callback(      'get-prepare-instancing-callback',      $v0ef69eddf9c69038340f7cd2c0c9a9f9,      [       $v66b3d71bf6a936385779818d5c45b163,       $vf1965a857bc285d26fe22023aa5ab50d,       $v15833b3badf82b4004598589a7c150e3,       $v21ffce5b8a6cc8cc6a41448dd69623c9      ]     );}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}$v447b7147e84be512208dcc0995d67ebc = new $vd1cc45266794cc447520a091ad16f22a($vf1965a857bc285d26fe22023aa5ab50d, $v1d78dc8ed51214e518b5114fe24490ae);$v447b7147e84be512208dcc0995d67ebc->setConnection($v4717d53ebfdfea8477f780ec66151dcb);$v447b7147e84be512208dcc0995d67ebc->setMap($v1d78dc8ed51214e518b5114fe24490ae);try {$this->callback('get-after-callback', $v0ef69eddf9c69038340f7cd2c0c9a9f9, [$v447b7147e84be512208dcc0995d67ebc]);}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}$v691d502cfd0e0626cd3b058e5682ad1c[] = $v447b7147e84be512208dcc0995d67ebc;}return $v691d502cfd0e0626cd3b058e5682ad1c;}public function count(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {if (!isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$this->getMap()->get('CALCULATE_ONLY_KEY')])) {if (umiCount($v21ffce5b8a6cc8cc6a41448dd69623c9) > 0) {$this->get($v21ffce5b8a6cc8cc6a41448dd69623c9);}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v770c639e20ac2f19c5ae0da373080e25 = $v4717d53ebfdfea8477f780ec66151dcb->queryResult('SELECT FOUND_ROWS()');$v770c639e20ac2f19c5ae0da373080e25->setFetchType(IQueryResult::FETCH_ROW);if ($v770c639e20ac2f19c5ae0da373080e25->length() > 0) {$v54851b009c5c647ca3e77cc517b8c76c = $v770c639e20ac2f19c5ae0da373080e25->fetch();return array_shift($v54851b009c5c647ca3e77cc517b8c76c);}return 0;}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1c0381524f8540d2f3abeff95d1ee297 = $this->getFieldsConditions($v21ffce5b8a6cc8cc6a41448dd69623c9);$v1c0381524f8540d2f3abeff95d1ee297 = (umiCount($v1c0381524f8540d2f3abeff95d1ee297) == 0) ? '' : 'WHERE ' . implode(' AND ', $v1c0381524f8540d2f3abeff95d1ee297);$v80071f37861c360a27b7327e132c911a = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->getTableName());$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
SELECT count(*)
FROM `$v80071f37861c360a27b7327e132c911a`
$v1c0381524f8540d2f3abeff95d1ee297;
SQL;   $result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ASSOC);$ve2942a04780e223b215eb8b663cf5353 = $result->fetch();return (int) array_shift($ve2942a04780e223b215eb8b663cf5353);}public function delete(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1c0381524f8540d2f3abeff95d1ee297 = $this->getFieldsConditions($v21ffce5b8a6cc8cc6a41448dd69623c9);$v1c0381524f8540d2f3abeff95d1ee297 = (umiCount($v1c0381524f8540d2f3abeff95d1ee297) == 0) ? '' : 'WHERE ' . implode(' AND ', $v1c0381524f8540d2f3abeff95d1ee297);$v80071f37861c360a27b7327e132c911a = $v4717d53ebfdfea8477f780ec66151dcb->escape($this->getTableName());$vac5c74b64b4b8352ef2f181affb5ac2a = <<<SQL
DELETE FROM `$v80071f37861c360a27b7327e132c911a`
$v1c0381524f8540d2f3abeff95d1ee297;
SQL;   $v4717d53ebfdfea8477f780ec66151dcb->query($vac5c74b64b4b8352ef2f181affb5ac2a);return true;}public function deleteById($vb80bb7740288fda1f201890375a60c8f) {return $this->delete(    [     $this->getMap()->get('ID_FIELD_NAME') => $vb80bb7740288fda1f201890375a60c8f    ]   );}public function deleteAll() {return $this->delete([]);}public function isExists(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v07214c6750d983a32e0a33da225c4efd = $this->get($v21ffce5b8a6cc8cc6a41448dd69623c9);return umiCount($v07214c6750d983a32e0a33da225c4efd) > 0;}public function export(array $v21ffce5b8a6cc8cc6a41448dd69623c9 = []) {$v691d502cfd0e0626cd3b058e5682ad1c = $this->get($v21ffce5b8a6cc8cc6a41448dd69623c9);$result = [];foreach ($v691d502cfd0e0626cd3b058e5682ad1c as $v447b7147e84be512208dcc0995d67ebc) {$result[] = $v447b7147e84be512208dcc0995d67ebc->export();}return $result;}public function import(array $v8d777f385d3dfec8815d20f7496026dc) {$v041da313dee9fc5a86c8d4e9c16e639a = 0;$v05e856d520fd53a5fdd574071f13949c = 0;$v07213a0161f52846ab198be103b5ab43 = [];$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$vbb1df230a5150b8ac17121321b3b514c = $v1d78dc8ed51214e518b5114fe24490ae->get('ID_FIELD_NAME');$vce4acafe434b6575927f54bc57c475a4 = $v1d78dc8ed51214e518b5114fe24490ae->get('CREATED_COUNTER_KEY');$vcb8cd26d0fb4b2cc20e847e8e6c0c556 = $v1d78dc8ed51214e518b5114fe24490ae->get('UPDATED_COUNTER_KEY');$vdcac2cfa77a105cbc09299740ab71ecc = $v1d78dc8ed51214e518b5114fe24490ae->get('IMPORT_ERRORS_KEY');foreach ($v8d777f385d3dfec8815d20f7496026dc as $v43982e053ffad574e7edde7c937a062a) {$v59a814aa020a1b32c4674a5887a35022 = null;if (isset($v43982e053ffad574e7edde7c937a062a[$vbb1df230a5150b8ac17121321b3b514c])) {$v59a814aa020a1b32c4674a5887a35022 = $v43982e053ffad574e7edde7c937a062a[$vbb1df230a5150b8ac17121321b3b514c];unset($v43982e053ffad574e7edde7c937a062a[$vbb1df230a5150b8ac17121321b3b514c]);}$v447b7147e84be512208dcc0995d67ebc = null;try {if ($v59a814aa020a1b32c4674a5887a35022 !== null) {$v691d502cfd0e0626cd3b058e5682ad1c = $this->get(       [        $vbb1df230a5150b8ac17121321b3b514c => $v59a814aa020a1b32c4674a5887a35022       ]      );$v447b7147e84be512208dcc0995d67ebc = (umiCount($v691d502cfd0e0626cd3b058e5682ad1c) > 0) ? array_shift($v691d502cfd0e0626cd3b058e5682ad1c) : null;}if ($v447b7147e84be512208dcc0995d67ebc instanceof iUmiCollectionItem) {$v447b7147e84be512208dcc0995d67ebc->import($v43982e053ffad574e7edde7c937a062a);$v447b7147e84be512208dcc0995d67ebc->commit();$v041da313dee9fc5a86c8d4e9c16e639a++;continue;}$this->create($v43982e053ffad574e7edde7c937a062a);$v05e856d520fd53a5fdd574071f13949c++;}catch (Exception $ve1671797c52e15f763380b45e841ec32) {$v07213a0161f52846ab198be103b5ab43[] = $ve1671797c52e15f763380b45e841ec32->getMessage();continue;}}return [    $vce4acafe434b6575927f54bc57c475a4 => $v05e856d520fd53a5fdd574071f13949c,    $vcb8cd26d0fb4b2cc20e847e8e6c0c556 => $v041da313dee9fc5a86c8d4e9c16e639a,    $vdcac2cfa77a105cbc09299740ab71ecc => $v07213a0161f52846ab198be103b5ab43   ];}public function getFieldCondition($v06e3d36fa30cea095545139854ad1fb9, $v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a, $v0bc3b6f72cb1dd95d59bb4af831912ee = false, $v6247ed2c2095b0c52fe9c3c31e3d935b = false) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v09ec737a9ab66d1d796304239d3f8a86 = is_array($v2063c1608d6e0baf80249c42e2be5804);$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();switch ($v599dcce2998a6b40b1e38e8c6006cb0a) {case $v1d78dc8ed51214e518b5114fe24490ae->get('STRING_FIELD_TYPE') : {$v2063c1608d6e0baf80249c42e2be5804 = $v09ec737a9ab66d1d796304239d3f8a86 ? array_map([$v4717d53ebfdfea8477f780ec66151dcb, 'escape'], $v2063c1608d6e0baf80249c42e2be5804) : $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a);break;}case $v1d78dc8ed51214e518b5114fe24490ae->get('INTEGER_FIELD_TYPE') : {$v2063c1608d6e0baf80249c42e2be5804 = $v09ec737a9ab66d1d796304239d3f8a86 ? array_map('intval', $v2063c1608d6e0baf80249c42e2be5804) : $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a);break;}case $v1d78dc8ed51214e518b5114fe24490ae->get('FLOAT_FIELD_TYPE') : {$v2063c1608d6e0baf80249c42e2be5804 = $v09ec737a9ab66d1d796304239d3f8a86 ? array_map('floatval', $v2063c1608d6e0baf80249c42e2be5804) : $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a);break;}case $v1d78dc8ed51214e518b5114fe24490ae->get('IMAGE_FIELD_TYPE') : {$v2063c1608d6e0baf80249c42e2be5804 = $v09ec737a9ab66d1d796304239d3f8a86 ? array_map([$this, 'getImageValue'], $v2063c1608d6e0baf80249c42e2be5804) : $this->getImageValue($v2063c1608d6e0baf80249c42e2be5804);break;}case $v1d78dc8ed51214e518b5114fe24490ae->get('DATE_FIELD_TYPE') : {$v2063c1608d6e0baf80249c42e2be5804 = $v09ec737a9ab66d1d796304239d3f8a86 ? array_map([$this, 'getDateValue'], $v2063c1608d6e0baf80249c42e2be5804) : $this->getDateValue($v2063c1608d6e0baf80249c42e2be5804);break;}default : {throw new Exception('Unsupported type given: ' . $v599dcce2998a6b40b1e38e8c6006cb0a);}}$v3f9178c25b78ed8bed19091bcb62e266 = $this->getField($v06e3d36fa30cea095545139854ad1fb9);$v0bc3b6f72cb1dd95d59bb4af831912ee = ($v0bc3b6f72cb1dd95d59bb4af831912ee && $v599dcce2998a6b40b1e38e8c6006cb0a === 'string');$v7b5edca9ffc6652fd847e49652eb361b = in_array(    $v599dcce2998a6b40b1e38e8c6006cb0a,    [     $v1d78dc8ed51214e518b5114fe24490ae->get('INTEGER_FIELD_TYPE'),     $v1d78dc8ed51214e518b5114fe24490ae->get('FLOAT_FIELD_TYPE'),     $v1d78dc8ed51214e518b5114fe24490ae->get('DATE_FIELD_TYPE')    ]   );$v6247ed2c2095b0c52fe9c3c31e3d935b = $this->getCorrectCompareMode($v6247ed2c2095b0c52fe9c3c31e3d935b);switch (true) {case $v2063c1608d6e0baf80249c42e2be5804 === null && $v6247ed2c2095b0c52fe9c3c31e3d935b == '=' : {$v3f9178c25b78ed8bed19091bcb62e266 .= ' IS NULL';break;}case $v2063c1608d6e0baf80249c42e2be5804 === null && $v6247ed2c2095b0c52fe9c3c31e3d935b == '!=' : {$v3f9178c25b78ed8bed19091bcb62e266 .= ' IS NOT NULL';break;}case $v09ec737a9ab66d1d796304239d3f8a86 && $v0bc3b6f72cb1dd95d59bb4af831912ee : {$vbca34575d606657255408df2597792de = $v3f9178c25b78ed8bed19091bcb62e266;$v3f9178c25b78ed8bed19091bcb62e266 = '(' . $v3f9178c25b78ed8bed19091bcb62e266;$vf35f97ea7b20a3701c7cb122497e89a9 = array_shift($v2063c1608d6e0baf80249c42e2be5804);$v3f9178c25b78ed8bed19091bcb62e266 .= " LIKE '%$vf35f97ea7b20a3701c7cb122497e89a9%' ";foreach ($v2063c1608d6e0baf80249c42e2be5804 as $vf35f97ea7b20a3701c7cb122497e89a9) {$v3f9178c25b78ed8bed19091bcb62e266 .= " OR $vbca34575d606657255408df2597792de LIKE '%$vf35f97ea7b20a3701c7cb122497e89a9%' ";}$v3f9178c25b78ed8bed19091bcb62e266 .= ')';break;}case $v09ec737a9ab66d1d796304239d3f8a86 : {$v3f9178c25b78ed8bed19091bcb62e266 .= " IN ('" . implode("', '", $v2063c1608d6e0baf80249c42e2be5804) . "')";break;}case !$v09ec737a9ab66d1d796304239d3f8a86 && $v0bc3b6f72cb1dd95d59bb4af831912ee : {$v3f9178c25b78ed8bed19091bcb62e266 .= " LIKE '%" . $v2063c1608d6e0baf80249c42e2be5804 . "%' ";break;}case $v7b5edca9ffc6652fd847e49652eb361b : {if ($v6247ed2c2095b0c52fe9c3c31e3d935b !== false) {$v3f9178c25b78ed8bed19091bcb62e266 .= " {$v6247ed2c2095b0c52fe9c3c31e3d935b} '{$v2063c1608d6e0baf80249c42e2be5804}'";break;}$v3f9178c25b78ed8bed19091bcb62e266 .= ' = ' . $v2063c1608d6e0baf80249c42e2be5804;break;}default : {$v6247ed2c2095b0c52fe9c3c31e3d935b = ($v6247ed2c2095b0c52fe9c3c31e3d935b == '!=') ? '!=' : '=';$v3f9178c25b78ed8bed19091bcb62e266 .= " {$v6247ed2c2095b0c52fe9c3c31e3d935b} '{$v2063c1608d6e0baf80249c42e2be5804}'";}}return $v3f9178c25b78ed8bed19091bcb62e266;}private function getCorrectCompareMode($v6247ed2c2095b0c52fe9c3c31e3d935b) {$v4fa61ef99104998942067b0fad9d0fa5 = $this->getCompareModeList();switch (true) {case isset($v4fa61ef99104998942067b0fad9d0fa5[$v6247ed2c2095b0c52fe9c3c31e3d935b]) : {return $v4fa61ef99104998942067b0fad9d0fa5[$v6247ed2c2095b0c52fe9c3c31e3d935b];}case $v7a1a4402d0f550c6deb75d67d10e9810 = array_search($v6247ed2c2095b0c52fe9c3c31e3d935b, $v4fa61ef99104998942067b0fad9d0fa5): {return $v4fa61ef99104998942067b0fad9d0fa5[$v7a1a4402d0f550c6deb75d67d10e9810];}default : {return false;}}}private function getCompareModeList() {return [    'ge' => '>=',    'le' => '<=',    'gt' => '>',    'lt' => '<',    'eq' => '=',    'ne' => '!='   ];}public function getOrderMode($v7b37ebcc6322b8a351203b675e7e7a3f) {if (!is_string($v7b37ebcc6322b8a351203b675e7e7a3f)) {throw new Exception('Corrupted mode given: ' . $v7b37ebcc6322b8a351203b675e7e7a3f);}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$v7b37ebcc6322b8a351203b675e7e7a3f = $v4717d53ebfdfea8477f780ec66151dcb->escape(mb_convert_case($v7b37ebcc6322b8a351203b675e7e7a3f, MB_CASE_UPPER));if (!in_array($v7b37ebcc6322b8a351203b675e7e7a3f, [$v1d78dc8ed51214e518b5114fe24490ae->get('ORDER_DIRECTION_ASC'), $v1d78dc8ed51214e518b5114fe24490ae->get('ORDER_DIRECTION_DESC')])) {throw new Exception('Unsupported mode given: ' . $v7b37ebcc6322b8a351203b675e7e7a3f);}return $v7b37ebcc6322b8a351203b675e7e7a3f;}public function getField($v06e3d36fa30cea095545139854ad1fb9) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v06e3d36fa30cea095545139854ad1fb9 = $v4717d53ebfdfea8477f780ec66151dcb->escape($v06e3d36fa30cea095545139854ad1fb9);return "`$v06e3d36fa30cea095545139854ad1fb9`";}public function getFieldValue($v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a) {if ($v2063c1608d6e0baf80249c42e2be5804 === null) {return $v2063c1608d6e0baf80249c42e2be5804;}$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();switch ($v599dcce2998a6b40b1e38e8c6006cb0a) {case $v1d78dc8ed51214e518b5114fe24490ae->get('STRING_FIELD_TYPE') : {return $v4717d53ebfdfea8477f780ec66151dcb->escape($v2063c1608d6e0baf80249c42e2be5804);}case $v1d78dc8ed51214e518b5114fe24490ae->get('INTEGER_FIELD_TYPE') : {return (int) $v2063c1608d6e0baf80249c42e2be5804;}case $v1d78dc8ed51214e518b5114fe24490ae->get('FLOAT_FIELD_TYPE') : {return (float) $v2063c1608d6e0baf80249c42e2be5804;}case $v1d78dc8ed51214e518b5114fe24490ae->get('IMAGE_FIELD_TYPE') : {if (!$v2063c1608d6e0baf80249c42e2be5804 instanceof umiImageFile && is_string($v2063c1608d6e0baf80249c42e2be5804)) {$v78805a221a988e79ef3f42d7c5bfd418 = new umiImageFile($v2063c1608d6e0baf80249c42e2be5804);if ($v78805a221a988e79ef3f42d7c5bfd418->getIsBroken() && !startsWith($v2063c1608d6e0baf80249c42e2be5804, '.')) {$v78805a221a988e79ef3f42d7c5bfd418 = new umiImageFile('.' . $v2063c1608d6e0baf80249c42e2be5804);}$v2063c1608d6e0baf80249c42e2be5804 = $v78805a221a988e79ef3f42d7c5bfd418;}if (!$v2063c1608d6e0baf80249c42e2be5804 instanceof umiImageFile || $v2063c1608d6e0baf80249c42e2be5804->getIsBroken()) {throw new Exception('Broken image given');}return $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804->getFilePath(true), $v1d78dc8ed51214e518b5114fe24490ae->get('STRING_FIELD_TYPE'));}case $v1d78dc8ed51214e518b5114fe24490ae->get('DATE_FIELD_TYPE') : {if (!$v2063c1608d6e0baf80249c42e2be5804 instanceof umiDate && is_numeric($v2063c1608d6e0baf80249c42e2be5804)) {$v2063c1608d6e0baf80249c42e2be5804 = new umiDate((int) $v2063c1608d6e0baf80249c42e2be5804);}if (!$v2063c1608d6e0baf80249c42e2be5804 instanceof umiDate) {throw new Exception('Broken image given');}return $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804->getDateTimeStamp(), $v1d78dc8ed51214e518b5114fe24490ae->get('INTEGER_FIELD_TYPE'));}default : {throw new Exception('Unsupported type given: ' . $v599dcce2998a6b40b1e38e8c6006cb0a);}}}public function getSelectionTarget(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {return isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$this->getMap()->get('COUNT_KEY')]) ? ' SQL_CALC_FOUND_ROWS * ' : ' * ';}public function getOrderCondition(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v856b049eac7a58931981fcb77d499249 = $this->getMap()->get('ORDER_KEY');if (!isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v856b049eac7a58931981fcb77d499249]) || !is_array($v21ffce5b8a6cc8cc6a41448dd69623c9[$v856b049eac7a58931981fcb77d499249])) {return '';}$v7b32b4e90dcc38d93426329eed95b0e3 = $v21ffce5b8a6cc8cc6a41448dd69623c9[$v856b049eac7a58931981fcb77d499249];$vb5b399ec1fcfe753f58dbafa197efdc1 = [];foreach ($v7b32b4e90dcc38d93426329eed95b0e3 as $v8afc14a70454daa1939a8e6e8f6859d4 => $vcde95a92c7cef71f897f977b0bdf77ca) {$vb5b399ec1fcfe753f58dbafa197efdc1[] = $this->getField($v8afc14a70454daa1939a8e6e8f6859d4) . ' ' . $this->getOrderMode($vcde95a92c7cef71f897f977b0bdf77ca);}if (umiCount($vb5b399ec1fcfe753f58dbafa197efdc1) == 0) {return '';}return ' ORDER BY ' . implode(', ', $vb5b399ec1fcfe753f58dbafa197efdc1);}public function getLimitCondition(array $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();$ve43cdb81f3183bf396d82ee05bf56554 = $v1d78dc8ed51214e518b5114fe24490ae->get('LIMIT_KEY');$v9f984e3c9077bed19726be51f1354aad = $v1d78dc8ed51214e518b5114fe24490ae->get('OFFSET_KEY');switch (true) {case isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$ve43cdb81f3183bf396d82ee05bf56554], $v21ffce5b8a6cc8cc6a41448dd69623c9[$v9f984e3c9077bed19726be51f1354aad]) : {$vaa9f73eea60a006820d0f8768bc8a3fc = (int) $v21ffce5b8a6cc8cc6a41448dd69623c9[$ve43cdb81f3183bf396d82ee05bf56554];$v7a86c157ee9713c34fbd7a1ee40f0c5a = (int) $v21ffce5b8a6cc8cc6a41448dd69623c9[$v9f984e3c9077bed19726be51f1354aad];return "LIMIT $v7a86c157ee9713c34fbd7a1ee40f0c5a, $vaa9f73eea60a006820d0f8768bc8a3fc";}case isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$ve43cdb81f3183bf396d82ee05bf56554]) : {$vaa9f73eea60a006820d0f8768bc8a3fc = (int) $v21ffce5b8a6cc8cc6a41448dd69623c9[$ve43cdb81f3183bf396d82ee05bf56554];return "LIMIT 0, $vaa9f73eea60a006820d0f8768bc8a3fc";}default : {return '';}}}public function updateRelatedId(array $v74693d2fc58b46bd06410f278e39aa71, $v52195dae0174459c5f066fa0df053c26) {return $v74693d2fc58b46bd06410f278e39aa71;}protected function getDateValue($v2063c1608d6e0baf80249c42e2be5804) {if ($v2063c1608d6e0baf80249c42e2be5804 === null) {return $v2063c1608d6e0baf80249c42e2be5804;}if (!is_numeric($v2063c1608d6e0baf80249c42e2be5804) && !$v2063c1608d6e0baf80249c42e2be5804 instanceof iUmiDate) {throw new publicAdminException('Wrong value for date given');}$v2063c1608d6e0baf80249c42e2be5804 = ($v2063c1608d6e0baf80249c42e2be5804 instanceof iUmiDate) ? $v2063c1608d6e0baf80249c42e2be5804->getDateTimeStamp() : $v2063c1608d6e0baf80249c42e2be5804;return $this->getFieldValue($v2063c1608d6e0baf80249c42e2be5804, $this->getMap()->get('INTEGER_FIELD_TYPE'));}protected function getImageValue($v2063c1608d6e0baf80249c42e2be5804) {if ($v2063c1608d6e0baf80249c42e2be5804 === null) {return $v2063c1608d6e0baf80249c42e2be5804;}if (!is_string($v2063c1608d6e0baf80249c42e2be5804) && !$v2063c1608d6e0baf80249c42e2be5804 instanceof umiImageFile) {throw new publicAdminException('Wrong value for image given');}$v2063c1608d6e0baf80249c42e2be5804 = ($v2063c1608d6e0baf80249c42e2be5804 instanceof iUmiImageFile) ? $v2063c1608d6e0baf80249c42e2be5804 : new umiImageFile($v2063c1608d6e0baf80249c42e2be5804);$vd6fe1d0be6347b8ef2427fa629c04485 = '.' . $v2063c1608d6e0baf80249c42e2be5804->getFilePath(true);return $this->getFieldValue($vd6fe1d0be6347b8ef2427fa629c04485, $this->getMap()->get('STRING_FIELD_TYPE'));}protected function checkInputForField($v972bf3f05d14ffbdb817bef60638ff00, $v6d58e323dd91f19ec80d313941942f94, $v21ffce5b8a6cc8cc6a41448dd69623c9, $v2245023265ae4cf87d02c8b6ba991139) {if (    (!isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00]) || $v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00] === '') && isset($v2245023265ae4cf87d02c8b6ba991139['required']) &&    $v2245023265ae4cf87d02c8b6ba991139['required'] === true   ) {throw new Exception("{$v6d58e323dd91f19ec80d313941942f94} expected");}}protected function appendField($v972bf3f05d14ffbdb817bef60638ff00, &$v0312eb6bb7fd8a251253170552506948) {$v0312eb6bb7fd8a251253170552506948[] = $this->getField($v972bf3f05d14ffbdb817bef60638ff00);}protected function appendFieldValue($v972bf3f05d14ffbdb817bef60638ff00, $v833750ac635fcc57dc33ecafe365f9a7, $v319e2726bcc98302437312a8ebfe9deb, &$vc95d91f50c7693048ea91803f1220505, $v2245023265ae4cf87d02c8b6ba991139) {$v704c580ebcb03db9ee84b85d4cef9244 = $this->getFieldValue($v319e2726bcc98302437312a8ebfe9deb, $v833750ac635fcc57dc33ecafe365f9a7);try {return $vc95d91f50c7693048ea91803f1220505[$v972bf3f05d14ffbdb817bef60638ff00] = $this->callback(     'append-field-value-callback',     $v2245023265ae4cf87d02c8b6ba991139,     [      $v972bf3f05d14ffbdb817bef60638ff00,      $v833750ac635fcc57dc33ecafe365f9a7,      $v319e2726bcc98302437312a8ebfe9deb,      $v704c580ebcb03db9ee84b85d4cef9244     ]    );}catch (callbackNotFoundException $ve1671797c52e15f763380b45e841ec32) {}return $vc95d91f50c7693048ea91803f1220505[$v972bf3f05d14ffbdb817bef60638ff00] = $v704c580ebcb03db9ee84b85d4cef9244;}protected function getFieldTitle($v2245023265ae4cf87d02c8b6ba991139) {$v972bf3f05d14ffbdb817bef60638ff00 = ucfirst($this->getFieldName($v2245023265ae4cf87d02c8b6ba991139));return isset($v2245023265ae4cf87d02c8b6ba991139['title']) ? $v2245023265ae4cf87d02c8b6ba991139['title'] : $v972bf3f05d14ffbdb817bef60638ff00;}protected function getFieldsForCreation($v2245023265ae4cf87d02c8b6ba991139) {$vc1e320f9dd47a411eaaa3b9331654d92 = 'used-in-creation';return array_filter(    $v2245023265ae4cf87d02c8b6ba991139,    function ($v06e3d36fa30cea095545139854ad1fb9) use ($vc1e320f9dd47a411eaaa3b9331654d92) {return (!isset($v06e3d36fa30cea095545139854ad1fb9[$vc1e320f9dd47a411eaaa3b9331654d92]) || $v06e3d36fa30cea095545139854ad1fb9[$vc1e320f9dd47a411eaaa3b9331654d92]);});}protected function getFieldName($v2245023265ae4cf87d02c8b6ba991139) {return (isset($v2245023265ae4cf87d02c8b6ba991139['name']) ? $this->getMap()->get($v2245023265ae4cf87d02c8b6ba991139['name']) : null);}protected function callback($vb068931cc450442b63f5b3d276ea4297, ClassConfig $v2245023265ae4cf87d02c8b6ba991139, array $args = []) {$v924a8ceeac17f54d3be3f8cdf1c04eb2 = $v2245023265ae4cf87d02c8b6ba991139->get($vb068931cc450442b63f5b3d276ea4297);if ($v924a8ceeac17f54d3be3f8cdf1c04eb2 === null) {throw new callbackNotFoundException('Callback ' . $vb068931cc450442b63f5b3d276ea4297 . ' not found');}if (!is_array($v924a8ceeac17f54d3be3f8cdf1c04eb2) && is_callable([$this, $v924a8ceeac17f54d3be3f8cdf1c04eb2])) {return call_user_func_array([$this, $v924a8ceeac17f54d3be3f8cdf1c04eb2], $args);}$result = [];foreach ($v924a8ceeac17f54d3be3f8cdf1c04eb2 as $vea9f6aca279138c58f705c8d4cb4b8ce) {if (is_callable([$this, $vea9f6aca279138c58f705c8d4cb4b8ce])) {$result[$vea9f6aca279138c58f705c8d4cb4b8ce] = call_user_func_array([$this, $vea9f6aca279138c58f705c8d4cb4b8ce], $args);}}return $result;}protected function convertFilePathToUmiImage(array $vd05b6ed7d2345020440df396d6da7f73, array $vf09cc7ee3a9a93273f4b80601cafb00c, array $v15833b3badf82b4004598589a7c150e3) {$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();foreach ($v15833b3badf82b4004598589a7c150e3 as $v016e99ea0efc76df33184273127355b7) {$v833750ac635fcc57dc33ecafe365f9a7 = $v1d78dc8ed51214e518b5114fe24490ae->get($v016e99ea0efc76df33184273127355b7['type']);$v972bf3f05d14ffbdb817bef60638ff00 = $v1d78dc8ed51214e518b5114fe24490ae->get($v016e99ea0efc76df33184273127355b7['name']);if ($v833750ac635fcc57dc33ecafe365f9a7 === $v1d78dc8ed51214e518b5114fe24490ae->get('IMAGE_FIELD_TYPE') && isset($vf09cc7ee3a9a93273f4b80601cafb00c[$v972bf3f05d14ffbdb817bef60638ff00])) {$v5ea2662bc047546ed68dc13d3bec8da6 = $this->getImageFileHandler();$vf09cc7ee3a9a93273f4b80601cafb00c[$v972bf3f05d14ffbdb817bef60638ff00] = new $v5ea2662bc047546ed68dc13d3bec8da6($vf09cc7ee3a9a93273f4b80601cafb00c[$v972bf3f05d14ffbdb817bef60638ff00]);}}return $vf09cc7ee3a9a93273f4b80601cafb00c;}protected function setImageFileHandlerToEntity(iUmiImageFileInjector $vf5e638cc78dd325906c1298a0c21fb6b) {$vf5e638cc78dd325906c1298a0c21fb6b->setImageFileHandler(    $this->getImageFileHandler()   );}protected function setUmiDomainsInjectorToEntity(iUmiDomainsInjector $vf5e638cc78dd325906c1298a0c21fb6b) {$vf5e638cc78dd325906c1298a0c21fb6b->setDomainCollection(    $this->getDomainCollection()   );}protected function getBy($v06e3d36fa30cea095545139854ad1fb9, $v2063c1608d6e0baf80249c42e2be5804) {$v691d502cfd0e0626cd3b058e5682ad1c = $this->get([$v06e3d36fa30cea095545139854ad1fb9 => $v2063c1608d6e0baf80249c42e2be5804]);if (umiCount($v691d502cfd0e0626cd3b058e5682ad1c) > 0) {return array_shift($v691d502cfd0e0626cd3b058e5682ad1c);}return null;}}