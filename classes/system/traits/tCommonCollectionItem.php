<?php
 trait tCommonCollectionItem {private $v8de61324edc43f3acb1b73da3c63e89e;private $vb80bb7740288fda1f201890375a60c8f;public function __construct(array $v21ffce5b8a6cc8cc6a41448dd69623c9, iUmiConstantMap $v1d78dc8ed51214e518b5114fe24490ae) {$this->map = $v1d78dc8ed51214e518b5114fe24490ae;$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$v21ffce5b8a6cc8cc6a41448dd69623c9 = $this->executeConstructorCallback('before', $v21ffce5b8a6cc8cc6a41448dd69623c9);foreach ($v0ef69eddf9c69038340f7cd2c0c9a9f9->get('fields') as $v016e99ea0efc76df33184273127355b7) {$v2a9d32d17ad47ac15c87d2e7c96d0e69 = isset($v016e99ea0efc76df33184273127355b7['required']) ? $v016e99ea0efc76df33184273127355b7['required'] : false;$v972bf3f05d14ffbdb817bef60638ff00 = $this->getFieldName($v016e99ea0efc76df33184273127355b7);if ($v2a9d32d17ad47ac15c87d2e7c96d0e69) {$this->checkField($v972bf3f05d14ffbdb817bef60638ff00, $v21ffce5b8a6cc8cc6a41448dd69623c9);}if (isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00])) {$v7c70bf82f3a3b3ab1ee1dbc9c8f1ceeb = $this->processValue($v21ffce5b8a6cc8cc6a41448dd69623c9[$v972bf3f05d14ffbdb817bef60638ff00], $v016e99ea0efc76df33184273127355b7);$this->executeSetter($this->getSetter($v016e99ea0efc76df33184273127355b7), $v7c70bf82f3a3b3ab1ee1dbc9c8f1ceeb);}}$this->setUpdatedStatus(false);$this->executeConstructorCallback('after', $v21ffce5b8a6cc8cc6a41448dd69623c9);}public function setValue($vb068931cc450442b63f5b3d276ea4297, $v2063c1608d6e0baf80249c42e2be5804) {if (!$this->isExistsProp($vb068931cc450442b63f5b3d276ea4297)) {throw new Exception('Property "' . $vb068931cc450442b63f5b3d276ea4297 . '" not exists');}$v016e99ea0efc76df33184273127355b7 = $this->getFieldConfig($vb068931cc450442b63f5b3d276ea4297);if ($v016e99ea0efc76df33184273127355b7 === null) {throw new Exception('Property "' . $vb068931cc450442b63f5b3d276ea4297 . '" not expected');}$v6821ed021c8123afc365e82dc11752af = isset($v016e99ea0efc76df33184273127355b7['unchangeable']) && $v016e99ea0efc76df33184273127355b7['unchangeable'];if ($v6821ed021c8123afc365e82dc11752af) {throw new Exception("{$vb068931cc450442b63f5b3d276ea4297} cannot be changed");}return $this->executeSetter($this->getSetter($v016e99ea0efc76df33184273127355b7), $v2063c1608d6e0baf80249c42e2be5804);}protected function setDifferentValue($v1a8db4c996d8ed8289da5f957879ab94, $v2063c1608d6e0baf80249c42e2be5804, $v599dcce2998a6b40b1e38e8c6006cb0a) {$v7f7cfde5ec586119b48911a2c75851e5 = $v2063c1608d6e0baf80249c42e2be5804;settype($v7f7cfde5ec586119b48911a2c75851e5, $v599dcce2998a6b40b1e38e8c6006cb0a);if ($this->$v1a8db4c996d8ed8289da5f957879ab94 != $v7f7cfde5ec586119b48911a2c75851e5) {$this->setUpdatedStatus(true);$this->$v1a8db4c996d8ed8289da5f957879ab94 = $v7f7cfde5ec586119b48911a2c75851e5;return true;}return false;}public function getValue($vb068931cc450442b63f5b3d276ea4297) {if (!$this->isExistsProp($vb068931cc450442b63f5b3d276ea4297)) {throw new Exception('Property "' . $vb068931cc450442b63f5b3d276ea4297 . '" not exists');}$v016e99ea0efc76df33184273127355b7 = $this->getFieldConfig($vb068931cc450442b63f5b3d276ea4297);if ($v016e99ea0efc76df33184273127355b7 === null) {throw new Exception('Property "' . $vb068931cc450442b63f5b3d276ea4297 . '" not expected');}return $this->executeGetter($this->getGetter($v016e99ea0efc76df33184273127355b7));}public function getPropsList() {$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$v74693d2fc58b46bd06410f278e39aa71 = [];foreach ($v0ef69eddf9c69038340f7cd2c0c9a9f9->get('fields') as $v06e3d36fa30cea095545139854ad1fb9) {$v74693d2fc58b46bd06410f278e39aa71[] = $this->map->get($v06e3d36fa30cea095545139854ad1fb9['name']);}return $v74693d2fc58b46bd06410f278e39aa71;}public function getId() {return $this->id;}public function export() {$v8d777f385d3dfec8815d20f7496026dc = [];foreach ($this->getPropsList() as $v46b9e6004c49d9cc040029c197cab278) {$v8d777f385d3dfec8815d20f7496026dc[$v46b9e6004c49d9cc040029c197cab278] = $this->getValue($v46b9e6004c49d9cc040029c197cab278);}return $v8d777f385d3dfec8815d20f7496026dc;}public function import(array $v8d777f385d3dfec8815d20f7496026dc) {foreach ($v8d777f385d3dfec8815d20f7496026dc as $v46b9e6004c49d9cc040029c197cab278 => $vafd40dce490ea113be83c89ca7f3052d) {$this->setValue($v46b9e6004c49d9cc040029c197cab278, $vafd40dce490ea113be83c89ca7f3052d);}return true;}public function isExistsProp($vb068931cc450442b63f5b3d276ea4297) {if (!is_string($vb068931cc450442b63f5b3d276ea4297)) {throw new Exception('Wrong value for prop name given');}return in_array($vb068931cc450442b63f5b3d276ea4297, $this->getPropsList());}public function isUpdated() {return $this->isUpdated;}public function setUpdatedStatus($v8de61324edc43f3acb1b73da3c63e89e) {$this->isUpdated = (bool) $v8de61324edc43f3acb1b73da3c63e89e;}public function move(\iUmiCollectionItem $v0d76e4df083715cbaac8f1c93c52fd64, $v15d61712450a686a7f365adf4fef581f) {return $this;}protected function checkField($vb068931cc450442b63f5b3d276ea4297, $v21ffce5b8a6cc8cc6a41448dd69623c9) {if (!isset($v21ffce5b8a6cc8cc6a41448dd69623c9[$vb068931cc450442b63f5b3d276ea4297])) {throw new Exception('Key "' . $vb068931cc450442b63f5b3d276ea4297 . '" expected');}}protected function getSetter($v2245023265ae4cf87d02c8b6ba991139) {return $this->getXetter($v2245023265ae4cf87d02c8b6ba991139, 'setter');}protected function getGetter($v2245023265ae4cf87d02c8b6ba991139) {return $this->getXetter($v2245023265ae4cf87d02c8b6ba991139, 'getter');}protected function getXetter($v2245023265ae4cf87d02c8b6ba991139, $vea9f6aca279138c58f705c8d4cb4b8ce) {if (isset($v2245023265ae4cf87d02c8b6ba991139[$vea9f6aca279138c58f705c8d4cb4b8ce])) {return $v2245023265ae4cf87d02c8b6ba991139[$vea9f6aca279138c58f705c8d4cb4b8ce];}$v972bf3f05d14ffbdb817bef60638ff00 = $this->getFieldName($v2245023265ae4cf87d02c8b6ba991139);switch ($vea9f6aca279138c58f705c8d4cb4b8ce) {case 'setter':     return 'set' . $v972bf3f05d14ffbdb817bef60638ff00;case 'getter':     return 'get' . $v972bf3f05d14ffbdb817bef60638ff00;}throw new Exception("Метод {$vea9f6aca279138c58f705c8d4cb4b8ce} не поддерживается");}protected function getFieldName($v2245023265ae4cf87d02c8b6ba991139) {return (isset($v2245023265ae4cf87d02c8b6ba991139['name']) ? $this->map->get($v2245023265ae4cf87d02c8b6ba991139['name']) : null);}protected function executeSetter($vae724a5d8cc4fec9aae6f91a06cf54e8, $v2063c1608d6e0baf80249c42e2be5804) {if (is_callable([$this, $vae724a5d8cc4fec9aae6f91a06cf54e8])) {return $this->$vae724a5d8cc4fec9aae6f91a06cf54e8($v2063c1608d6e0baf80249c42e2be5804);}return null;}protected function executeGetter($v6d1f3c79a6ed212f8a63161734c5743b) {if (is_callable([$this, $v6d1f3c79a6ed212f8a63161734c5743b])) {return $this->$v6d1f3c79a6ed212f8a63161734c5743b();}return null;}protected function executeConstructorCallback($v15d61712450a686a7f365adf4fef581f, $v21ffce5b8a6cc8cc6a41448dd69623c9) {$v0ef69eddf9c69038340f7cd2c0c9a9f9 = self::getConfig();$v924a8ceeac17f54d3be3f8cdf1c04eb2 = $v0ef69eddf9c69038340f7cd2c0c9a9f9->get('constructor', 'callback', $v15d61712450a686a7f365adf4fef581f);if (method_exists($this, $v924a8ceeac17f54d3be3f8cdf1c04eb2)) {return $this->$v924a8ceeac17f54d3be3f8cdf1c04eb2($v21ffce5b8a6cc8cc6a41448dd69623c9);}return $v21ffce5b8a6cc8cc6a41448dd69623c9;}protected function processValue($v2063c1608d6e0baf80249c42e2be5804, $v016e99ea0efc76df33184273127355b7) {if (!isset($v016e99ea0efc76df33184273127355b7['process'])) {return $v2063c1608d6e0baf80249c42e2be5804;}$v8669933a9bde6111a56000f461e7f45b = $v016e99ea0efc76df33184273127355b7['process'];if (method_exists($this, $v8669933a9bde6111a56000f461e7f45b)) {return $this->$v8669933a9bde6111a56000f461e7f45b($v2063c1608d6e0baf80249c42e2be5804);}return $v2063c1608d6e0baf80249c42e2be5804;}protected function getFieldConfig($vb068931cc450442b63f5b3d276ea4297) {$v2245023265ae4cf87d02c8b6ba991139 = self::getConfig();$vd05b6ed7d2345020440df396d6da7f73 = array_filter(    $v2245023265ae4cf87d02c8b6ba991139->get('fields'),    function ($v06e3d36fa30cea095545139854ad1fb9) use ($vb068931cc450442b63f5b3d276ea4297) {return ($this->map->get($v06e3d36fa30cea095545139854ad1fb9['name']) === $vb068931cc450442b63f5b3d276ea4297);});return array_shift($vd05b6ed7d2345020440df396d6da7f73);}protected function getEscapedConstant($vb068931cc450442b63f5b3d276ea4297) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();return $v4717d53ebfdfea8477f780ec66151dcb->escape($v1d78dc8ed51214e518b5114fe24490ae->get($vb068931cc450442b63f5b3d276ea4297));}protected function setId($vb80bb7740288fda1f201890375a60c8f) {if (!is_numeric($vb80bb7740288fda1f201890375a60c8f)) {throw new Exception('Wrong value for id given');}$this->id = $vb80bb7740288fda1f201890375a60c8f;return $this;}protected function getColumnName($v0094b87040893f35e7ea2a850137c458) {$v4717d53ebfdfea8477f780ec66151dcb = $this->getConnection();$v1d78dc8ed51214e518b5114fe24490ae = $this->getMap();return $v4717d53ebfdfea8477f780ec66151dcb->escape($v1d78dc8ed51214e518b5114fe24490ae->get($v0094b87040893f35e7ea2a850137c458));}}