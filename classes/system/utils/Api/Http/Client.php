<?php
 namespace UmiCms\Classes\System\Utils\Api\Http;use Guzzle\Common\Exception\RuntimeException;use Guzzle\Http\Client as HttpClient;use Guzzle\Http\Message\RequestInterface;use Guzzle\Http\Message\Response;abstract class Client {private $httpClient;private $lastRequestData = [];abstract protected function getServiceUrl();protected function getHttpClient() {return $this->httpClient;}protected function initHttpClient() {$this->httpClient = new HttpClient(    $this->getServiceUrl()   );return $this;}protected function getDefaultHeaders() {return [];}protected function getMuteExceptionOption() {return [    'exceptions' => false   ];}protected function buildUrl(array $v1bbcb648e0b1869444f3a2d344a5b3ac = [], array $v09de9b89300d55eec77867f15e4d9531 = []) {return $this->getPrefix() . '/' . $this->buildPath($v1bbcb648e0b1869444f3a2d344a5b3ac) . $this->buildQuery($v09de9b89300d55eec77867f15e4d9531);}protected function getPrefix() {return '';}protected function buildPath(array $v1bbcb648e0b1869444f3a2d344a5b3ac = []) {return implode('/', $v1bbcb648e0b1869444f3a2d344a5b3ac);}protected function buildQuery(array $v09de9b89300d55eec77867f15e4d9531 = []) {return empty($v09de9b89300d55eec77867f15e4d9531) ? '' : '?' . http_build_query($v09de9b89300d55eec77867f15e4d9531);}protected function getResponse(RequestInterface $v10573b873d2fa5a365d558a45e328e47) {$vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $v10573b873d2fa5a365d558a45e328e47->send();return $this->getResponseBody($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe);}protected function getResponseBody(Response $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe) {return $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe->getBody(true);}protected function encodePostData($v8d777f385d3dfec8815d20f7496026dc) {return $v8d777f385d3dfec8815d20f7496026dc;}protected function createGetRequest(array $v1bbcb648e0b1869444f3a2d344a5b3ac = [], array $v09de9b89300d55eec77867f15e4d9531 = []) {return $this->getHttpClient()->get(    $this->buildUrl($v1bbcb648e0b1869444f3a2d344a5b3ac, $v09de9b89300d55eec77867f15e4d9531),    $this->getDefaultHeaders(),    $this->getMuteExceptionOption()   );}protected function createPostRequest($v0546e8b62aa5fd8bf2522c04ae878d90 = [], array $v1bbcb648e0b1869444f3a2d344a5b3ac = [], array $v09de9b89300d55eec77867f15e4d9531 = []) {return $this->setLastRequestData($v0546e8b62aa5fd8bf2522c04ae878d90)    ->getHttpClient()    ->post(     $this->buildUrl($v1bbcb648e0b1869444f3a2d344a5b3ac, $v09de9b89300d55eec77867f15e4d9531),     $this->getDefaultHeaders(),     $this->encodePostData($v0546e8b62aa5fd8bf2522c04ae878d90),     $this->getMuteExceptionOption()    );}protected function createPutRequest($v0546e8b62aa5fd8bf2522c04ae878d90 = [], array $v1bbcb648e0b1869444f3a2d344a5b3ac = [], array $v09de9b89300d55eec77867f15e4d9531 = []) {return $this->setLastRequestData($v0546e8b62aa5fd8bf2522c04ae878d90)    ->getHttpClient()    ->put(     $this->buildUrl($v1bbcb648e0b1869444f3a2d344a5b3ac, $v09de9b89300d55eec77867f15e4d9531),     $this->getDefaultHeaders(),     $this->encodePostData($v0546e8b62aa5fd8bf2522c04ae878d90),     $this->getMuteExceptionOption()    );}protected function createDeleteRequest(array $v1bbcb648e0b1869444f3a2d344a5b3ac = [], array $v09de9b89300d55eec77867f15e4d9531 = []) {return $this->getHttpClient()->delete(    $this->buildUrl($v1bbcb648e0b1869444f3a2d344a5b3ac, $v09de9b89300d55eec77867f15e4d9531),    $this->getDefaultHeaders(),    null,    $this->getMuteExceptionOption()   );}protected function getLastRequestData() {return $this->lastRequestData;}protected function setLastRequestData($vbe579a850a97252f923168786a91703e = []) {$this->lastRequestData = $vbe579a850a97252f923168786a91703e;return $this;}protected function prepareLogMessage(RequestInterface $v10573b873d2fa5a365d558a45e328e47) {$vd1fc8eaf36937be0c3ba8cfe0a2c1bfe = $v10573b873d2fa5a365d558a45e328e47->getResponse();try {$v1a2567345bba0c62a6859cb5030ec65e = $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe ? $this->getResponseBody($vd1fc8eaf36937be0c3ba8cfe0a2c1bfe) : '';}catch (RuntimeException $v42552b1f133f9f8eb406d4f306ea9fd1) {$v1a2567345bba0c62a6859cb5030ec65e = $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe->getBody(true);}$v1a2567345bba0c62a6859cb5030ec65e = 'Response Body: ' . print_r($v1a2567345bba0c62a6859cb5030ec65e, true);$v07cc694b9b3fc636710fa08b6922c42b = strftime('%d/%b/%Y %H:%M:%S');$vea9f6aca279138c58f705c8d4cb4b8ce = $v10573b873d2fa5a365d558a45e328e47->getMethod();$vbe579a850a97252f923168786a91703e = '';if (($vea9f6aca279138c58f705c8d4cb4b8ce === 'POST' || $vea9f6aca279138c58f705c8d4cb4b8ce === 'PUT') && umiCount($this->getLastRequestData()) > 0) {$vbe579a850a97252f923168786a91703e = 'Request Data: ' . print_r($this->getLastRequestData(), true);$this->setLastRequestData();}$v572d4e421e5e6b9bc11d815e8a027112 = $v10573b873d2fa5a365d558a45e328e47->getUrl();$vf9a31c6b3670c772d11230c8d4d1f33f = $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe->getStatusCode();$vd2013170f9870890e8c8e9e0851ca83e = 'Request Headers: ' . print_r($v10573b873d2fa5a365d558a45e328e47->getHeaderLines(), true);$va0f0bc95016c862498bbad29d1f4d9d4 = str_repeat('-', 80);return <<<MESSAGE
[$v07cc694b9b3fc636710fa08b6922c42b] $vea9f6aca279138c58f705c8d4cb4b8ce $v572d4e421e5e6b9bc11d815e8a027112 $vf9a31c6b3670c772d11230c8d4d1f33f

$vd2013170f9870890e8c8e9e0851ca83e
$vbe579a850a97252f923168786a91703e

$v1a2567345bba0c62a6859cb5030ec65e
$va0f0bc95016c862498bbad29d1f4d9d4


MESSAGE;  }}