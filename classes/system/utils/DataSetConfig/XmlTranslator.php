<?php
 namespace UmiCms\Classes\System\Utils\DataSetConfig;class XmlTranslator implements iXmlTranslator {private $objectTypeCollection;private $cmsController;private $document;public function __construct(\iUmiObjectTypesCollection $v8d51528cb018f443ee726b3b85da495b, \iCmsController $v8b1dc169bf460ee884fceef66c6607d6) {$this->objectTypeCollection = $v8d51528cb018f443ee726b3b85da495b;$this->cmsController = $v8b1dc169bf460ee884fceef66c6607d6;}public function translate($v2245023265ae4cf87d02c8b6ba991139) {$vfdc3bdefb79cec8eb8211d2499e04704 = $this->createDataSetConfigDocument();$this->setDocument($vfdc3bdefb79cec8eb8211d2499e04704);if (is_array($v2245023265ae4cf87d02c8b6ba991139)) {$this->translateConfigToXml($v2245023265ae4cf87d02c8b6ba991139);}return $this->getDocument();}private function createDataSetConfigDocument() {$vfdc3bdefb79cec8eb8211d2499e04704 = new \DOMDocument();$vfdc3bdefb79cec8eb8211d2499e04704->encoding = 'utf-8';$v63a9f0ea7bb98050796b649e85481845 = $vfdc3bdefb79cec8eb8211d2499e04704->createElement('dataset');$vfdc3bdefb79cec8eb8211d2499e04704->appendChild($v63a9f0ea7bb98050796b649e85481845);return $vfdc3bdefb79cec8eb8211d2499e04704;}private function translateConfigToXml(array $v9bf73c8994aad280e5160d0030c48f28) {foreach ($v9bf73c8994aad280e5160d0030c48f28 as $vb71772ba2ee2cdb2ebb175d0cb465bd5 => $vca3a34ad419c2f783bc2dbda90d53c41) {$this->translateSectionList($vb71772ba2ee2cdb2ebb175d0cb465bd5, $vca3a34ad419c2f783bc2dbda90d53c41);}}private function translateSectionList($vb71772ba2ee2cdb2ebb175d0cb465bd5, $vca3a34ad419c2f783bc2dbda90d53c41) {$vfdc3bdefb79cec8eb8211d2499e04704 = $this->getDocument();$v73d5342eba070f636ac3246f319bf77f = $vfdc3bdefb79cec8eb8211d2499e04704->createElement($vb71772ba2ee2cdb2ebb175d0cb465bd5);$v63a9f0ea7bb98050796b649e85481845 = $vfdc3bdefb79cec8eb8211d2499e04704->getElementsByTagName('dataset')    ->item(0);$v63a9f0ea7bb98050796b649e85481845->appendChild($v73d5342eba070f636ac3246f319bf77f);if (!is_array($vca3a34ad419c2f783bc2dbda90d53c41)) {$v73d5342eba070f636ac3246f319bf77f->appendChild($vfdc3bdefb79cec8eb8211d2499e04704->createTextNode($vca3a34ad419c2f783bc2dbda90d53c41));return;}$this->translatePropertyList($vca3a34ad419c2f783bc2dbda90d53c41, $v73d5342eba070f636ac3246f319bf77f);}private function translatePropertyList(array $vca3a34ad419c2f783bc2dbda90d53c41, \DOMElement $v73d5342eba070f636ac3246f319bf77f) {$vfdc3bdefb79cec8eb8211d2499e04704 = $this->getDocument();$v2f4adddaca8e63aeb6aa99e64bd89572 = $this->getSectionTreeMap();$vb71772ba2ee2cdb2ebb175d0cb465bd5 = $v73d5342eba070f636ac3246f319bf77f->tagName;foreach ($vca3a34ad419c2f783bc2dbda90d53c41 as $vced962887a23d9e744d85b2f9b48d666) {$v1a8db4c996d8ed8289da5f957879ab94 = $vfdc3bdefb79cec8eb8211d2499e04704->createElement($v2f4adddaca8e63aeb6aa99e64bd89572[$vb71772ba2ee2cdb2ebb175d0cb465bd5]);if (!is_array($vced962887a23d9e744d85b2f9b48d666)) {$v1a8db4c996d8ed8289da5f957879ab94->appendChild($vfdc3bdefb79cec8eb8211d2499e04704->createTextNode($vced962887a23d9e744d85b2f9b48d666));$v73d5342eba070f636ac3246f319bf77f->appendChild($v1a8db4c996d8ed8289da5f957879ab94);continue;}$this->translatePropertyAttributeList($vced962887a23d9e744d85b2f9b48d666, $v1a8db4c996d8ed8289da5f957879ab94);$v73d5342eba070f636ac3246f319bf77f->appendChild($v1a8db4c996d8ed8289da5f957879ab94);}}private function getSectionTreeMap() {return [    'methods' => 'method',    'types' => 'type',    'stoplist' => 'exclude',    'default' => 'column',    'fields' => 'field'   ];}private function translatePropertyAttributeList(array $vced962887a23d9e744d85b2f9b48d666, \DOMElement $v1a8db4c996d8ed8289da5f957879ab94) {foreach ($vced962887a23d9e744d85b2f9b48d666 as $vb068931cc450442b63f5b3d276ea4297 => $v2063c1608d6e0baf80249c42e2be5804) {$this->translatePropertyAttribute($vb068931cc450442b63f5b3d276ea4297, $v2063c1608d6e0baf80249c42e2be5804, $v1a8db4c996d8ed8289da5f957879ab94);}}private function translatePropertyAttribute($vb068931cc450442b63f5b3d276ea4297, $v2063c1608d6e0baf80249c42e2be5804, \DOMElement $v1a8db4c996d8ed8289da5f957879ab94) {$vfdc3bdefb79cec8eb8211d2499e04704 = $this->getDocument();if ($vb068931cc450442b63f5b3d276ea4297 === '#__name') {$v1a8db4c996d8ed8289da5f957879ab94->appendChild($vfdc3bdefb79cec8eb8211d2499e04704->createTextNode($v2063c1608d6e0baf80249c42e2be5804));return;}if ($vb068931cc450442b63f5b3d276ea4297 == 'id' && !is_numeric($v2063c1608d6e0baf80249c42e2be5804)) {$v8d51528cb018f443ee726b3b85da495b = $this->getObjectTypeCollection();$v52a43e48ec4649dee819dadabcab1bde = $this->getCmsController()     ->getCurrentModule();$v2063c1608d6e0baf80249c42e2be5804 = $v8d51528cb018f443ee726b3b85da495b->getTypeIdByHierarchyTypeName($v52a43e48ec4649dee819dadabcab1bde, $v2063c1608d6e0baf80249c42e2be5804);}$v2063c1608d6e0baf80249c42e2be5804 = is_bool($v2063c1608d6e0baf80249c42e2be5804) ? ($v2063c1608d6e0baf80249c42e2be5804 ? 'true' : 'false') : $v2063c1608d6e0baf80249c42e2be5804;$v1a8db4c996d8ed8289da5f957879ab94->setAttribute($vb068931cc450442b63f5b3d276ea4297, $v2063c1608d6e0baf80249c42e2be5804);}private function setDocument(\DOMDocument $vfdc3bdefb79cec8eb8211d2499e04704) {$this->document = $vfdc3bdefb79cec8eb8211d2499e04704;return $this;}private function getDocument() {return $this->document;}private function getCmsController() {return $this->cmsController;}private function getObjectTypeCollection() {return $this->objectTypeCollection;}}