<?php
 namespace UmiCms\Classes\System\Utils\QuickExchange\File;use UmiCms\Classes\System\Entities\File\iFactory as FileFactory;use UmiCms\Classes\System\Utils\QuickExchange\Source\iDetector as SourceDetector;use UmiCms\System\Response\iFacade as Response;class Downloader implements iDownloader {private $sourceDetector;private $fileFactory;private $response;private $configuration;public function __construct(   SourceDetector $vc4c19d7c35dd75d985c1f4ace5d40c80,   FileFactory $ve9d2ea3c13cc8f3b974ffbe8695cba02,   Response $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe,   \iConfiguration $vccd1066343c95877b75b79d47c36bebe  ) {$this->sourceDetector = $vc4c19d7c35dd75d985c1f4ace5d40c80;$this->fileFactory = $ve9d2ea3c13cc8f3b974ffbe8695cba02;$this->response = $vd1fc8eaf36937be0c3ba8cfe0a2c1bfe;$this->configuration = $vccd1066343c95877b75b79d47c36bebe;}public function download() {$vd6fe1d0be6347b8ef2427fa629c04485 = $this->getFilePath();$v8c7dd922ad47494fc02c388e12c00eac = $this->getFileFactory()    ->create($vd6fe1d0be6347b8ef2427fa629c04485);$this->getResponse()    ->downloadAndDelete($v8c7dd922ad47494fc02c388e12c00eac);}private function getFilePath() {$vf1b2d126871bccdcffdd2a1aff460efe = $this->getConfiguration()    ->includeParam('sys-temp-path');$v7c95caafbd5e4b5db3977617a0498de6 = $this->getSourceDetector()    ->detectForExport();return sprintf('%s/export/%s.csv', $vf1b2d126871bccdcffdd2a1aff460efe, $v7c95caafbd5e4b5db3977617a0498de6);}private function getSourceDetector() {return $this->sourceDetector;}private function getFileFactory() {return $this->fileFactory;}private function getResponse() {return $this->response;}private function getConfiguration() {return $this->configuration;}}