<?php
 namespace UmiCms\Classes\System\Utils\QuickExchange\File;use UmiCms\System\Request\iFacade as iRequest;class Uploader implements iUploader {private $request;private $configuration;const FILE_INDEX = 'csv-file';public function __construct(iRequest $v10573b873d2fa5a365d558a45e328e47, \iConfiguration $vccd1066343c95877b75b79d47c36bebe) {$this->request = $v10573b873d2fa5a365d558a45e328e47;$this->configuration = $vccd1066343c95877b75b79d47c36bebe;}public function upload() {$v45b963397aa40d4a0063e0d85e4fe7a1 = $this->getRequest()    ->Files();if (!$v45b963397aa40d4a0063e0d85e4fe7a1->isExist(self::FILE_INDEX)) {throw new \publicAdminException('File is not posted');}$v1ded0622d3320f26b47f514fabab54f1 = (array) $v45b963397aa40d4a0063e0d85e4fe7a1->get(self::FILE_INDEX);$vcb5e100e5a9a3e7f6d1fd97512215282 = getArrayKey($v1ded0622d3320f26b47f514fabab54f1, 'error');if ($vcb5e100e5a9a3e7f6d1fd97512215282) {throw new \publicAdminException('Failed to upload file');}$vb068931cc450442b63f5b3d276ea4297 = getArrayKey($v1ded0622d3320f26b47f514fabab54f1, 'name');$v656840677a2dbd5ab56a2202e415b293 = getArrayKey($v1ded0622d3320f26b47f514fabab54f1, 'tmp_name');$vf7bd60b75b29d79b660a2859395c1a24 = getArrayKey($v1ded0622d3320f26b47f514fabab54f1, 'size');$v5f8f22b8cdbaeee8cf857673a9b6ba20 = $this->getConfiguration()    ->includeParam('system.runtime-cache');$v8c7dd922ad47494fc02c388e12c00eac = \umiFile::manualUpload($vb068931cc450442b63f5b3d276ea4297, $v656840677a2dbd5ab56a2202e415b293, $vf7bd60b75b29d79b660a2859395c1a24, $v5f8f22b8cdbaeee8cf857673a9b6ba20);if (!$v8c7dd922ad47494fc02c388e12c00eac instanceof \iUmiFile || $v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {throw new \publicAdminException('Upload file is broken');}return $v8c7dd922ad47494fc02c388e12c00eac;}private function getRequest() {return $this->request;}private function getConfiguration() {return $this->configuration;}}