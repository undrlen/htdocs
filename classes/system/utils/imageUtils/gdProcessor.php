<?php
 class gdProcessor implements iImageProcessor {public function crop($vd78b68a69f88f543cde90ab00273c043, $vb28354b543375bfa94dabaeda722927f, $v811882fecd5c7618d7099ebbd39ea254, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81) {$v8c7dd922ad47494fc02c388e12c00eac = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {return false;}try {$v8c7dd922ad47494fc02c388e12c00eac->crop($v811882fecd5c7618d7099ebbd39ea254, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb28354b543375bfa94dabaeda722927f, $vb435e227d5dd201e1768b2bcb2e0aa81);}catch (coreException $ve1671797c52e15f763380b45e841ec32) {return false;}return true;}public function rotate($vd78b68a69f88f543cde90ab00273c043) {$v8c7dd922ad47494fc02c388e12c00eac = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {return false;}try {$v8c7dd922ad47494fc02c388e12c00eac->rotate();}catch (coreException $ve1671797c52e15f763380b45e841ec32) {return false;}return true;}public function resize($vd78b68a69f88f543cde90ab00273c043, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81) {$v8c7dd922ad47494fc02c388e12c00eac = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {return false;}try {$v8c7dd922ad47494fc02c388e12c00eac->resize($veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81);}catch (coreException $ve1671797c52e15f763380b45e841ec32) {return false;}return true;}public function optimize($vd78b68a69f88f543cde90ab00273c043, $vd66636b253cb346dbb6240e30def3618 = 75) {$v8c7dd922ad47494fc02c388e12c00eac = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);$vd66636b253cb346dbb6240e30def3618 = getImageQualityLevel($vd66636b253cb346dbb6240e30def3618);if ($v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {return false;}try {$vcaf9b6b99962bf5c2264824231d7a40c = @getimagesize($vd78b68a69f88f543cde90ab00273c043);}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return false;}if (!$vcaf9b6b99962bf5c2264824231d7a40c) {return false;}if ($vcaf9b6b99962bf5c2264824231d7a40c['mime'] == 'image/jpeg') {$v78805a221a988e79ef3f42d7c5bfd418 = imagecreatefromjpeg($vd78b68a69f88f543cde90ab00273c043);if (!$v78805a221a988e79ef3f42d7c5bfd418) {return false;}imagejpeg($v78805a221a988e79ef3f42d7c5bfd418, $vd78b68a69f88f543cde90ab00273c043, $vd66636b253cb346dbb6240e30def3618);imagedestroy($v78805a221a988e79ef3f42d7c5bfd418);}elseif ($vcaf9b6b99962bf5c2264824231d7a40c['mime'] == 'image/png') {$v78805a221a988e79ef3f42d7c5bfd418 = imagecreatefrompng($vd78b68a69f88f543cde90ab00273c043);if (!$v78805a221a988e79ef3f42d7c5bfd418) {return false;}imagealphablending($v78805a221a988e79ef3f42d7c5bfd418, true);imagesavealpha($v78805a221a988e79ef3f42d7c5bfd418, true);$v383ed69016dc32ab29e975a4c6f7def3 = 9 - (($vd66636b253cb346dbb6240e30def3618 * 9) / 100);imagepng($v78805a221a988e79ef3f42d7c5bfd418, $vd78b68a69f88f543cde90ab00273c043, $v383ed69016dc32ab29e975a4c6f7def3);imagedestroy($v78805a221a988e79ef3f42d7c5bfd418);}return true;}public function info($vd78b68a69f88f543cde90ab00273c043) {$v8c7dd922ad47494fc02c388e12c00eac = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v8c7dd922ad47494fc02c388e12c00eac->getIsBroken()) {return false;}try {$vcaf9b6b99962bf5c2264824231d7a40c = @getimagesize($vd78b68a69f88f543cde90ab00273c043);}catch (Exception $ve1671797c52e15f763380b45e841ec32) {return [     'mime' => '',     'height' => 0,     'width' => 0    ];}return [    'mime' => $vcaf9b6b99962bf5c2264824231d7a40c['mime'],    'height' => $vcaf9b6b99962bf5c2264824231d7a40c[1],    'width' => $vcaf9b6b99962bf5c2264824231d7a40c[0]   ];}public function thumbnail($vd78b68a69f88f543cde90ab00273c043, $vb43c766cbc1365dca0ffcee38e46b613, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81, $vd66636b253cb346dbb6240e30def3618 = false) {$v78805a221a988e79ef3f42d7c5bfd418 = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v78805a221a988e79ef3f42d7c5bfd418->getIsBroken()) {return false;}$vcaf9b6b99962bf5c2264824231d7a40c = $this->info($vd78b68a69f88f543cde90ab00273c043);$v4350ba7b75859322a5c9fd3ed8c378bf = $v78805a221a988e79ef3f42d7c5bfd418->getWidth();$vcde3455b0d7a1f854f1fb08928b0bbfa = $v78805a221a988e79ef3f42d7c5bfd418->getHeight();$vf12105146129696d6a7e0ed521db2e48 = imagecreatetruecolor($veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81);$vde6403c41549334bb72244a31e9edf52 = imagecolorallocate($vf12105146129696d6a7e0ed521db2e48, 255, 255, 255);$v520584b026332b9e0b598c3d091329b1 = $v78805a221a988e79ef3f42d7c5bfd418->createImage($vd78b68a69f88f543cde90ab00273c043);$vd78b68a69f88f543cde90ab00273c043 = $v520584b026332b9e0b598c3d091329b1['im'];imagefill($vf12105146129696d6a7e0ed521db2e48, 0, 0, $vde6403c41549334bb72244a31e9edf52);imagecolortransparent($vf12105146129696d6a7e0ed521db2e48, $vde6403c41549334bb72244a31e9edf52);switch ($vcaf9b6b99962bf5c2264824231d7a40c['mime']) {case 'image/gif':     imagealphablending($vd78b68a69f88f543cde90ab00273c043, true);imagealphablending($vf12105146129696d6a7e0ed521db2e48, true);break;case 'image/png':     imagealphablending($vf12105146129696d6a7e0ed521db2e48, false);imagesavealpha($vf12105146129696d6a7e0ed521db2e48, true);imagealphablending($vd78b68a69f88f543cde90ab00273c043, false);imagesavealpha($vd78b68a69f88f543cde90ab00273c043, true);break;default:   }imagecopyresampled($vf12105146129696d6a7e0ed521db2e48, $vd78b68a69f88f543cde90ab00273c043, 0, 0, 0, 0, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81, $v4350ba7b75859322a5c9fd3ed8c378bf, $vcde3455b0d7a1f854f1fb08928b0bbfa);switch ($vcaf9b6b99962bf5c2264824231d7a40c['mime']) {case 'image/gif':     $v9b207167e5381c47682c6b4f58a623fb = imagegif($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613);break;case 'image/png':     $v9b207167e5381c47682c6b4f58a623fb = imagepng($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613);break;default:     $v9b207167e5381c47682c6b4f58a623fb = imagejpeg($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613, getImageQualityLevel($vd66636b253cb346dbb6240e30def3618));}if (!$v9b207167e5381c47682c6b4f58a623fb) {throw new coreException(getLabel('label-errors-16008'));}imagedestroy($vd78b68a69f88f543cde90ab00273c043);imagedestroy($vf12105146129696d6a7e0ed521db2e48);return true;}public function cropThumbnail(   $vd78b68a69f88f543cde90ab00273c043,   $vb43c766cbc1365dca0ffcee38e46b613,   $veaae26a6fb20ed3ef54fb23bfa0b1fcc,   $vb435e227d5dd201e1768b2bcb2e0aa81,   $v3582bc318552a38b375ce235860d7df9,   $vc2264e26c88ee08954ab3927cc0128e7,   $v96dd26f2ebffec3ab76e2fc0fc37d93c,   $v7ae2059e529ca294dded254a201e5a25,   $vf711798e436a77f680a1070c008a2a66,   $vd66636b253cb346dbb6240e30def3618 = 75  ) {$vf12105146129696d6a7e0ed521db2e48 = imagecreatetruecolor($veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81);$vd66636b253cb346dbb6240e30def3618 = getImageQualityLevel($vd66636b253cb346dbb6240e30def3618);$v78805a221a988e79ef3f42d7c5bfd418 = new umiImageFile($vd78b68a69f88f543cde90ab00273c043);if ($v78805a221a988e79ef3f42d7c5bfd418->getIsBroken()) {return false;}$v520584b026332b9e0b598c3d091329b1 = $v78805a221a988e79ef3f42d7c5bfd418->createImage($vd78b68a69f88f543cde90ab00273c043);$v36cd38f49b9afa08222c0dc9ebfe35eb = $v520584b026332b9e0b598c3d091329b1['im'];$vcaf9b6b99962bf5c2264824231d7a40c = $this->info($vd78b68a69f88f543cde90ab00273c043);$vd02a169f33469c888396a24dd9d9f1c6 = $vcaf9b6b99962bf5c2264824231d7a40c['mime'];if ($veaae26a6fb20ed3ef54fb23bfa0b1fcc * 4 < $v3582bc318552a38b375ce235860d7df9 && $vb435e227d5dd201e1768b2bcb2e0aa81 * 4 < $vc2264e26c88ee08954ab3927cc0128e7) {$vbb9e0c406a6f01be17c66c271b0afc88 = [     'width' => round($veaae26a6fb20ed3ef54fb23bfa0b1fcc * 4),     'height' => round($vb435e227d5dd201e1768b2bcb2e0aa81 * 4),    ];$vbb9e0c406a6f01be17c66c271b0afc88['image'] = imagecreatetruecolor($vbb9e0c406a6f01be17c66c271b0afc88['width'], $vbb9e0c406a6f01be17c66c271b0afc88['height']);if ($vd02a169f33469c888396a24dd9d9f1c6 == 'image/gif') {$vbb9e0c406a6f01be17c66c271b0afc88['image_white'] = imagecolorallocate($vbb9e0c406a6f01be17c66c271b0afc88['image'], 255, 255, 255);imagefill($vbb9e0c406a6f01be17c66c271b0afc88['image'], 0, 0, $vbb9e0c406a6f01be17c66c271b0afc88['image_white']);imagecolortransparent($vbb9e0c406a6f01be17c66c271b0afc88['image'], $vbb9e0c406a6f01be17c66c271b0afc88['image_white']);imagealphablending($v36cd38f49b9afa08222c0dc9ebfe35eb, true);imagealphablending($vbb9e0c406a6f01be17c66c271b0afc88['image'], true);}else {imagealphablending($vbb9e0c406a6f01be17c66c271b0afc88['image'], false);imagesavealpha($vbb9e0c406a6f01be17c66c271b0afc88['image'], true);}imagecopyresampled(     $vbb9e0c406a6f01be17c66c271b0afc88['image'],     $v36cd38f49b9afa08222c0dc9ebfe35eb,     0,     0,     $v96dd26f2ebffec3ab76e2fc0fc37d93c,     $v7ae2059e529ca294dded254a201e5a25,     $vbb9e0c406a6f01be17c66c271b0afc88['width'],     $vbb9e0c406a6f01be17c66c271b0afc88['height'],     $v3582bc318552a38b375ce235860d7df9,     $vc2264e26c88ee08954ab3927cc0128e7    );imagedestroy($v36cd38f49b9afa08222c0dc9ebfe35eb);$v36cd38f49b9afa08222c0dc9ebfe35eb = $vbb9e0c406a6f01be17c66c271b0afc88['image'];$v3582bc318552a38b375ce235860d7df9 = $vbb9e0c406a6f01be17c66c271b0afc88['width'];$vc2264e26c88ee08954ab3927cc0128e7 = $vbb9e0c406a6f01be17c66c271b0afc88['height'];$v96dd26f2ebffec3ab76e2fc0fc37d93c = 0;$v7ae2059e529ca294dded254a201e5a25 = 0;unset($vbb9e0c406a6f01be17c66c271b0afc88);}if ($vd02a169f33469c888396a24dd9d9f1c6 == 'image/gif') {$v816bf7fcde258a4523ae3ab45d784ea3 = imagecolorallocate($vf12105146129696d6a7e0ed521db2e48, 255, 255, 255);imagefill($vf12105146129696d6a7e0ed521db2e48, 0, 0, $v816bf7fcde258a4523ae3ab45d784ea3);imagecolortransparent($vf12105146129696d6a7e0ed521db2e48, $v816bf7fcde258a4523ae3ab45d784ea3);imagealphablending($v36cd38f49b9afa08222c0dc9ebfe35eb, true);imagealphablending($vf12105146129696d6a7e0ed521db2e48, true);}else {imagealphablending($vf12105146129696d6a7e0ed521db2e48, false);imagesavealpha($vf12105146129696d6a7e0ed521db2e48, true);}imagecopyresampled($vf12105146129696d6a7e0ed521db2e48, $v36cd38f49b9afa08222c0dc9ebfe35eb, 0, 0, $v96dd26f2ebffec3ab76e2fc0fc37d93c, $v7ae2059e529ca294dded254a201e5a25, $veaae26a6fb20ed3ef54fb23bfa0b1fcc, $vb435e227d5dd201e1768b2bcb2e0aa81, $v3582bc318552a38b375ce235860d7df9, $vc2264e26c88ee08954ab3927cc0128e7);if ($vf711798e436a77f680a1070c008a2a66) {$vf12105146129696d6a7e0ed521db2e48 = makeThumbnailFullUnsharpMask($vf12105146129696d6a7e0ed521db2e48, 80, .5, 3);}switch ($vd02a169f33469c888396a24dd9d9f1c6) {case 'image/gif':     $v9b207167e5381c47682c6b4f58a623fb = imagegif($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613);break;case 'image/png':     $v383ed69016dc32ab29e975a4c6f7def3 = 9 - (($vd66636b253cb346dbb6240e30def3618 * 9) / 100);$v9b207167e5381c47682c6b4f58a623fb = imagepng($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613, $v383ed69016dc32ab29e975a4c6f7def3);break;default:     $v9b207167e5381c47682c6b4f58a623fb = imagejpeg($vf12105146129696d6a7e0ed521db2e48, $vb43c766cbc1365dca0ffcee38e46b613, $vd66636b253cb346dbb6240e30def3618);}if (!$v9b207167e5381c47682c6b4f58a623fb) {throw new coreException(getLabel('label-errors-16008'));}imagedestroy($v36cd38f49b9afa08222c0dc9ebfe35eb);imagedestroy($vf12105146129696d6a7e0ed521db2e48);return true;}public function getLibType() {return 'gd';}}