<?php
 use UmiCms\Service;require_once CURRENT_WORKING_DIR . '/libs/config.php';$v7f6d3e4170f06ef04f7b83841ffb4389 = (getRequest('a') == 'ping');$v21d6f40cfb511982e4424e0e250a9557 = Service::Session();if ($v7f6d3e4170f06ef04f7b83841ffb4389) {$v21d6f40cfb511982e4424e0e250a9557->startActiveTime();}$v3057015159aecbff5d44c510e27ba0d4 = false;if ($v7f6d3e4170f06ef04f7b83841ffb4389 && getRequest('u-login') && getRequest('u-password')) {$vfa53b91ccc1b78668d5af58e1ed3a485 = Service::Auth();try {$vfa53b91ccc1b78668d5af58e1ed3a485->loginByEnvironment();$v3057015159aecbff5d44c510e27ba0d4 = $vfa53b91ccc1b78668d5af58e1ed3a485->isAuthorized();}catch (UmiCms\System\Auth\AuthorizationException $ve1671797c52e15f763380b45e841ec32) {$v3057015159aecbff5d44c510e27ba0d4 = false;}}$v1fb1b678505a617b0bc42e5a97cd88f8 = '-1';switch (true) {case ($v21d6f40cfb511982e4424e0e250a9557->isActiveTimeExpired() === false) : {$v336a901dbd6c44ecead0c00e2e245e86 = $v21d6f40cfb511982e4424e0e250a9557->getActiveTime();break;}case ($v3057015159aecbff5d44c510e27ba0d4) : {$v336a901dbd6c44ecead0c00e2e245e86 = $v21d6f40cfb511982e4424e0e250a9557->getMaxActiveTime() * $v21d6f40cfb511982e4424e0e250a9557::SECONDS_IN_ONE_MINUTE;break;}default : {$v21d6f40cfb511982e4424e0e250a9557->clear();$v336a901dbd6c44ecead0c00e2e245e86 = $v1fb1b678505a617b0bc42e5a97cd88f8;}}$v7f2db423a49b305459147332fb01cf87 = Service::Response()  ->getCurrentBuffer();$v7f2db423a49b305459147332fb01cf87->push($v336a901dbd6c44ecead0c00e2e245e86);$v7f2db423a49b305459147332fb01cf87->end();