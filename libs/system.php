<?php
 use UmiCms\Service;function system_is_allowed($v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce = false, $v7552cd149af7495ee7d8225974e50f80 = false) {static $v0fea6a13c52b4d4725368f24b045ca84 = [];static $v8e44f0089b076e18a718eb9ca3d94674 = false;$v0800fc577294c34e0b28ad2839435945 = md5($v22884db148f0ffb0d830ba431102b0b5 . $vea9f6aca279138c58f705c8d4cb4b8ce . $v7552cd149af7495ee7d8225974e50f80);if (array_key_exists($v0800fc577294c34e0b28ad2839435945, $v0fea6a13c52b4d4725368f24b045ca84)) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945];}if (in_array($v22884db148f0ffb0d830ba431102b0b5, ['system', 'core', 'custom'])) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = true;}if (!$v8e44f0089b076e18a718eb9ca3d94674) {$v8e44f0089b076e18a718eb9ca3d94674 = Service::Auth()->getUserId();}$v66eaea9d57b28ed8cb924ba57362c0af = permissionsCollection::getInstance();if ($v66eaea9d57b28ed8cb924ba57362c0af->isSv($v8e44f0089b076e18a718eb9ca3d94674)) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = true;}if ($v7552cd149af7495ee7d8225974e50f80) {list($vcdc89904b48c166f88848d357d9cb017, $v3d39b1ea19836036a85b561fde36ee26) = $v66eaea9d57b28ed8cb924ba57362c0af->isAllowedObject($v8e44f0089b076e18a718eb9ca3d94674, $v7552cd149af7495ee7d8225974e50f80);if (contains($vea9f6aca279138c58f705c8d4cb4b8ce, 'edit')) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = (bool) $v3d39b1ea19836036a85b561fde36ee26;}return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = (bool) $vcdc89904b48c166f88848d357d9cb017;}if ($vea9f6aca279138c58f705c8d4cb4b8ce) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = (bool) $v66eaea9d57b28ed8cb924ba57362c0af->isAllowedMethod($v8e44f0089b076e18a718eb9ca3d94674, $v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce);}if ($v22884db148f0ffb0d830ba431102b0b5) {return $v0fea6a13c52b4d4725368f24b045ca84[$v0800fc577294c34e0b28ad2839435945] = (bool) $v66eaea9d57b28ed8cb924ba57362c0af->isAllowedModule($v8e44f0089b076e18a718eb9ca3d94674, $v22884db148f0ffb0d830ba431102b0b5);}return false;}function system_get_skinName() {static $vc4e10f4477cadef194adfceb6031a35c;if ($vc4e10f4477cadef194adfceb6031a35c) {return $vc4e10f4477cadef194adfceb6031a35c;}$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$v594c103f2c6e04c3d8ab059f031e0c1a = cmsController::getInstance();$v9ae27e53b3777ca1a186c1b6e7480b88 = $v2245023265ae4cf87d02c8b6ba991139->getList('casual-skins');$vddaa6e8c8c412299272e183087b8f7b6 = $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentModule() . '::' . $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentMethod();foreach ($v9ae27e53b3777ca1a186c1b6e7480b88 as $v98ea47e4311222ae5ccb6b11855b8968) {if (in_array($vddaa6e8c8c412299272e183087b8f7b6, $v2245023265ae4cf87d02c8b6ba991139->get('casual-skins', $v98ea47e4311222ae5ccb6b11855b8968))) {return $vc4e10f4477cadef194adfceb6031a35c = $v98ea47e4311222ae5ccb6b11855b8968;}}$vada1fd05db818d2ce8b75dcbcfbc5efd = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'skins');$v3952212ff477ba2f5b443a38a081fecb = Service::CookieJar();if (isset($_GET['skin_sel']) || isset($_POST['skin_sel'])) {if (($vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_GET, 'skin_sel')) === null) {$vb75604f619867058aa706f3a1dc5bd34 = getArrayKey($_POST, 'skin_sel');}$v3952212ff477ba2f5b443a38a081fecb->set('skin_sel', $vb75604f619867058aa706f3a1dc5bd34, time() + 3600 * 24 * 365);if (in_array($vc4e10f4477cadef194adfceb6031a35c, $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = $vb75604f619867058aa706f3a1dc5bd34;}}if ($v3952212ff477ba2f5b443a38a081fecb->get('skin_sel')) {if (in_array($v3952212ff477ba2f5b443a38a081fecb->get('skin_sel'), $vada1fd05db818d2ce8b75dcbcfbc5efd)) {return $vc4e10f4477cadef194adfceb6031a35c = $v3952212ff477ba2f5b443a38a081fecb->get('skin_sel');}}return $vc4e10f4477cadef194adfceb6031a35c = $v2245023265ae4cf87d02c8b6ba991139->get('system', 'default-skin');}function system_buildin_load($v52a43e48ec4649dee819dadabcab1bde) {static $vf603808d575c886cd1031b79ded8b4e8 = [];if (isset($vf603808d575c886cd1031b79ded8b4e8[$v52a43e48ec4649dee819dadabcab1bde])) {return $vf603808d575c886cd1031b79ded8b4e8[$v52a43e48ec4649dee819dadabcab1bde];}$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$vc22d45567638173f6f7c953f54077fbd = $v2245023265ae4cf87d02c8b6ba991139->includeParam('system.virtual-modules') . getCompatibleModulesPath() . $v52a43e48ec4649dee819dadabcab1bde . '.php';if (file_exists($vc22d45567638173f6f7c953f54077fbd)) {require $vc22d45567638173f6f7c953f54077fbd;if (class_exists($v52a43e48ec4649dee819dadabcab1bde)) {return $vf603808d575c886cd1031b79ded8b4e8[$v52a43e48ec4649dee819dadabcab1bde] = new $v52a43e48ec4649dee819dadabcab1bde;}}return false;}function truncStr($vb45cffe084dd3d20d928bee85e7b0f21, $v2fa47f7c65fec19cc163b195725e3844 = '50', $v8f90290043421717c493aefb52434324 = '...', $vf7b31eba2248ddfac50f5fd7e3821b1c = false) {$result = $vb45cffe084dd3d20d928bee85e7b0f21;if ($vf7b31eba2248ddfac50f5fd7e3821b1c) {$result = html_entity_decode(strip_tags($result), ENT_QUOTES, 'UTF-8');}if ($v2fa47f7c65fec19cc163b195725e3844 <= 0) {return '';}if (mb_strlen($vb45cffe084dd3d20d928bee85e7b0f21) > $v2fa47f7c65fec19cc163b195725e3844) {$v2fa47f7c65fec19cc163b195725e3844 -= mb_strlen($v8f90290043421717c493aefb52434324);$result = mb_substr($result, 0, $v2fa47f7c65fec19cc163b195725e3844 + 1);$result = preg_replace('/\s+([^\s]+)?$/i', '', $result) . $v8f90290043421717c493aefb52434324;}return $result;}function toTimeStamp($v5fc732311905cb27e82d67f4f6511f7f) {if (is_numeric($v5fc732311905cb27e82d67f4f6511f7f)) {return $v5fc732311905cb27e82d67f4f6511f7f;}$v628b7db04235f228d40adc671413a8c8 = '';$v7436f942d5ea836cb84f1bb2527d8286 = '';$v84cdc76cabf41bd7c961f6ab12f117d8 = '';$v73cdddd7730abfc13a55efb9f5685a3b = '';$v640fd0cc0ffa0316ae087652871f4486 = '';$v5fc732311905cb27e82d67f4f6511f7f = trim($v5fc732311905cb27e82d67f4f6511f7f);if ($v5fc732311905cb27e82d67f4f6511f7f == 'сейчас') {return time();}$v5fc732311905cb27e82d67f4f6511f7f = str_replace('-', ' ', $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = str_replace(',', ' ', $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = str_replace("\\'", ' ', $v5fc732311905cb27e82d67f4f6511f7f);$v5d94bb511211c0937083f5902484bb25 = "/\d{2}\:\d{2}/";if (preg_match($v5d94bb511211c0937083f5902484bb25, $v5fc732311905cb27e82d67f4f6511f7f, $v9c28d32df234037773be184dbdafc274)) {$v07cc694b9b3fc636710fa08b6922c42b = $v9c28d32df234037773be184dbdafc274[0];preg_replace($v5d94bb511211c0937083f5902484bb25, '', $v5fc732311905cb27e82d67f4f6511f7f);list($v73cdddd7730abfc13a55efb9f5685a3b, $v640fd0cc0ffa0316ae087652871f4486) = explode(':', $v07cc694b9b3fc636710fa08b6922c42b);}$vca92ff7bc605f8b9f032e31fe86d1fc2 = "[ \.\-\/\\\\]{1,10}";$v5fc732311905cb27e82d67f4f6511f7f = preg_replace("/(\d{4}){$vca92ff7bc605f8b9f032e31fe86d1fc2}(\d{2}){$vca92ff7bc605f8b9f032e31fe86d1fc2}(\d{2})/im", "^\\3^ !\\2! ?\\1?", $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = preg_replace("/(\d{1,2}){$vca92ff7bc605f8b9f032e31fe86d1fc2}(\d{1,2}){$vca92ff7bc605f8b9f032e31fe86d1fc2}(\d{2,4})/im", "^\\1^ !\\2! ?\\3?", $v5fc732311905cb27e82d67f4f6511f7f);$vda36cfaf48b9e19896e23e1207040d1e = [   'январь',   'февраль',   'март',   'апрель',   'май',   'июнь',   'июль',   'август',   'сентябрь',   'октябрь',   'ноябрь',   'декабрь'  ];$v2019628c3a184e1561d25e8c4303af6c = [   'января',   'февраля',   'марта',   'апреля',   'мая',   'июня',   'июля',   'августа',   'сентября',   'октября',   'ноября',   'декабря'  ];$v36d685abc3cc6c43d3a3a1864bc524d3 = [   'янв',   'фев',   'мар',   'апр',   'май',   'июн',   'июл',   'авг',   'сен',   'окт',   'ноя',   'дек'  ];$vaff06aa2b898df533f567dfa70cf503e = [   'jan',   'feb',   'mar',   'apr',   'may',   'jun',   'jul',   'aug',   'sep',   'oct',   'nov',   'dec'  ];$v3d80a6e6dc06dc55774665781f321608 = [   '01',   '02',   '03',   '04',   '05',   '06',   '07',   '08',   '09',   '10',   '11',   '12'  ];foreach ($vda36cfaf48b9e19896e23e1207040d1e as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$vda36cfaf48b9e19896e23e1207040d1e[$v8ce4b16b22b58894aa86c421e8759df3] = '/' . $v9e3669d19b675bd57058fd4664205d2a . '/i';}foreach ($v2019628c3a184e1561d25e8c4303af6c as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$v2019628c3a184e1561d25e8c4303af6c[$v8ce4b16b22b58894aa86c421e8759df3] = '/' . $v9e3669d19b675bd57058fd4664205d2a . '/i';}foreach ($v36d685abc3cc6c43d3a3a1864bc524d3 as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$v36d685abc3cc6c43d3a3a1864bc524d3[$v8ce4b16b22b58894aa86c421e8759df3] = '/' . $v9e3669d19b675bd57058fd4664205d2a . '/i';}foreach ($vaff06aa2b898df533f567dfa70cf503e as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$vaff06aa2b898df533f567dfa70cf503e[$v8ce4b16b22b58894aa86c421e8759df3] = '/' . $v9e3669d19b675bd57058fd4664205d2a . '/i';}foreach ($v3d80a6e6dc06dc55774665781f321608 as $v8ce4b16b22b58894aa86c421e8759df3 => $v9e3669d19b675bd57058fd4664205d2a) {$v3d80a6e6dc06dc55774665781f321608[$v8ce4b16b22b58894aa86c421e8759df3] = ' !' . $v9e3669d19b675bd57058fd4664205d2a . '! ';}$v5fc732311905cb27e82d67f4f6511f7f = preg_replace($vda36cfaf48b9e19896e23e1207040d1e, $v3d80a6e6dc06dc55774665781f321608, $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = preg_replace($v2019628c3a184e1561d25e8c4303af6c, $v3d80a6e6dc06dc55774665781f321608, $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = preg_replace($v36d685abc3cc6c43d3a3a1864bc524d3, $v3d80a6e6dc06dc55774665781f321608, $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = preg_replace($vaff06aa2b898df533f567dfa70cf503e, $v3d80a6e6dc06dc55774665781f321608, $v5fc732311905cb27e82d67f4f6511f7f);$v75aeb98e5241592ad6a6c2c4c78a16ef = [   '/(\d{2,4})[ ]*года/i',   '/(\d{2,4})[ ]*год/i',   '/(\d{2,4})[ ]*г/i',   '/(\d{4})/i',  ];$v5fc732311905cb27e82d67f4f6511f7f = preg_replace($v75aeb98e5241592ad6a6c2c4c78a16ef, "?\\1?", $v5fc732311905cb27e82d67f4f6511f7f);$v5fc732311905cb27e82d67f4f6511f7f = preg_replace("/[^!^\?^\d](\d{1,2})[^!^\?^\d]/i", "^\\1^", ' ' . $v5fc732311905cb27e82d67f4f6511f7f . ' ');if (preg_match("/\^(\d{1,2})\^/", $v5fc732311905cb27e82d67f4f6511f7f, $v9c28d32df234037773be184dbdafc274)) {$v628b7db04235f228d40adc671413a8c8 = $v9c28d32df234037773be184dbdafc274[1];if (mb_strlen($v628b7db04235f228d40adc671413a8c8) == 1) {$v628b7db04235f228d40adc671413a8c8 = '0' . $v628b7db04235f228d40adc671413a8c8;}}if (preg_match("/!(\d{1,2})!/", $v5fc732311905cb27e82d67f4f6511f7f, $v9c28d32df234037773be184dbdafc274)) {$v7436f942d5ea836cb84f1bb2527d8286 = $v9c28d32df234037773be184dbdafc274[1];if (mb_strlen($v7436f942d5ea836cb84f1bb2527d8286) == 1) {$v7436f942d5ea836cb84f1bb2527d8286 = '0' . $v7436f942d5ea836cb84f1bb2527d8286;}}if (preg_match("/\?(\d{2,4})\?/", $v5fc732311905cb27e82d67f4f6511f7f, $v9c28d32df234037773be184dbdafc274)) {$v84cdc76cabf41bd7c961f6ab12f117d8 = $v9c28d32df234037773be184dbdafc274[1];if (mb_strlen($v84cdc76cabf41bd7c961f6ab12f117d8) == 2) {$v898b7aff1c1c79f63fcdae2ba6b204ef = (int) mb_substr($v84cdc76cabf41bd7c961f6ab12f117d8, 0, 1);if ($v898b7aff1c1c79f63fcdae2ba6b204ef >= 0 && $v898b7aff1c1c79f63fcdae2ba6b204ef <= 4) {$v84cdc76cabf41bd7c961f6ab12f117d8 = '20' . $v84cdc76cabf41bd7c961f6ab12f117d8;}else {$v84cdc76cabf41bd7c961f6ab12f117d8 = '19' . $v84cdc76cabf41bd7c961f6ab12f117d8;}}}if ($v628b7db04235f228d40adc671413a8c8 > 31) {$v3d801aa532c1cec3ee82d87a99fdf63f = $v84cdc76cabf41bd7c961f6ab12f117d8;$v84cdc76cabf41bd7c961f6ab12f117d8 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = $v3d801aa532c1cec3ee82d87a99fdf63f;}if ($v7436f942d5ea836cb84f1bb2527d8286 > 12) {$v3d801aa532c1cec3ee82d87a99fdf63f = $v7436f942d5ea836cb84f1bb2527d8286;$v7436f942d5ea836cb84f1bb2527d8286 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = $v3d801aa532c1cec3ee82d87a99fdf63f;unset($v3d801aa532c1cec3ee82d87a99fdf63f);}$v3b84f8cfd144e7211160037ebacbf0e7 = trim(mb_strtolower($v5fc732311905cb27e82d67f4f6511f7f));switch ($v3b84f8cfd144e7211160037ebacbf0e7) {case 'сегодня':    $v4d682ec4eed27c53849758bc13b6e179 = time();$v84cdc76cabf41bd7c961f6ab12f117d8 = date('Y', $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date('m', $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date('d', $v4d682ec4eed27c53849758bc13b6e179);break;case 'завтра':    $v4d682ec4eed27c53849758bc13b6e179 = time() + (3600 * 24);$v84cdc76cabf41bd7c961f6ab12f117d8 = date('Y', $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date('m', $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date('d', $v4d682ec4eed27c53849758bc13b6e179);break;case 'вчера':    $v4d682ec4eed27c53849758bc13b6e179 = time() - (3600 * 24);$v84cdc76cabf41bd7c961f6ab12f117d8 = date('Y', $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date('m', $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date('d', $v4d682ec4eed27c53849758bc13b6e179);break;case 'послезавтра':    $v4d682ec4eed27c53849758bc13b6e179 = time() + (3600 * 48);$v84cdc76cabf41bd7c961f6ab12f117d8 = date('Y', $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date('m', $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date('d', $v4d682ec4eed27c53849758bc13b6e179);break;case 'позавчера':    $v4d682ec4eed27c53849758bc13b6e179 = time() - (3600 * 48);$v84cdc76cabf41bd7c961f6ab12f117d8 = date('Y', $v4d682ec4eed27c53849758bc13b6e179);$v7436f942d5ea836cb84f1bb2527d8286 = date('m', $v4d682ec4eed27c53849758bc13b6e179);$v628b7db04235f228d40adc671413a8c8 = date('d', $v4d682ec4eed27c53849758bc13b6e179);break;}if (!$v628b7db04235f228d40adc671413a8c8) {$v3b84f8cfd144e7211160037ebacbf0e7 = str_replace([$v84cdc76cabf41bd7c961f6ab12f117d8, $v7436f942d5ea836cb84f1bb2527d8286], '', $v5fc732311905cb27e82d67f4f6511f7f);preg_match("/(\d{1,2})/", $v3b84f8cfd144e7211160037ebacbf0e7, $v9c28d32df234037773be184dbdafc274);$v628b7db04235f228d40adc671413a8c8 = isset($v9c28d32df234037773be184dbdafc274[1]) ? $v9c28d32df234037773be184dbdafc274[1] : null;}if (!$v7436f942d5ea836cb84f1bb2527d8286 && !$v628b7db04235f228d40adc671413a8c8 && !$v84cdc76cabf41bd7c961f6ab12f117d8) {return 0;}if ($v628b7db04235f228d40adc671413a8c8 && !$v7436f942d5ea836cb84f1bb2527d8286) {$v7436f942d5ea836cb84f1bb2527d8286 = $v628b7db04235f228d40adc671413a8c8;$v628b7db04235f228d40adc671413a8c8 = 0;}return $vd7e6d55ba379a13d08c25d15faf2a23b = mktime((int) $v73cdddd7730abfc13a55efb9f5685a3b, (int) $v640fd0cc0ffa0316ae087652871f4486, 0, (int) $v7436f942d5ea836cb84f1bb2527d8286, (int) $v628b7db04235f228d40adc671413a8c8, (int) $v84cdc76cabf41bd7c961f6ab12f117d8);}function system_parse_short_calls($v9a0364b9e99bb480dd25e1f0284c8555, $v7552cd149af7495ee7d8225974e50f80 = false, $v16b2b26000987faccb260b9d39df1269 = false, $vf7c0b9f29873bcb1daa361baa7a89b38 = []) {if (!contains($v9a0364b9e99bb480dd25e1f0284c8555, '%')) {return $v9a0364b9e99bb480dd25e1f0284c8555;}$v8b1dc169bf460ee884fceef66c6607d6 = cmsController::getInstance();$v22df6b77ddb3d4a444fba472a24b327d = umiObjectsCollection::getInstance();$v7949589eb56e86e63a92bb63da1d129c = contains($v9a0364b9e99bb480dd25e1f0284c8555, '%scope%');$v8e2dcfd7e7e24b1ca76c1193f645902b = null;$va8cfde6331bd59eb2ac96f8911c4b666 = null;if ($v7552cd149af7495ee7d8225974e50f80 === false && $v16b2b26000987faccb260b9d39df1269 === false) {$v7552cd149af7495ee7d8225974e50f80 = $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId();}if (contains($v9a0364b9e99bb480dd25e1f0284c8555, 'id%')) {$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%id%', $v7552cd149af7495ee7d8225974e50f80, $v9a0364b9e99bb480dd25e1f0284c8555);$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%pid%', $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId(), $v9a0364b9e99bb480dd25e1f0284c8555);}if ($v7552cd149af7495ee7d8225974e50f80 !== false) {if (!($v8e2dcfd7e7e24b1ca76c1193f645902b = umiHierarchy::getInstance()->getElement($v7552cd149af7495ee7d8225974e50f80))) {return $v9a0364b9e99bb480dd25e1f0284c8555;}$va8cfde6331bd59eb2ac96f8911c4b666 = $v8e2dcfd7e7e24b1ca76c1193f645902b->getObject();}if ($v16b2b26000987faccb260b9d39df1269 !== false) {if (!($va8cfde6331bd59eb2ac96f8911c4b666 = $v22df6b77ddb3d4a444fba472a24b327d->getObject($v16b2b26000987faccb260b9d39df1269))) {return $v9a0364b9e99bb480dd25e1f0284c8555;}}if (!$va8cfde6331bd59eb2ac96f8911c4b666) {return $v9a0364b9e99bb480dd25e1f0284c8555;}$v6301cee35ea764a1e241978f93f01069 = $va8cfde6331bd59eb2ac96f8911c4b666->getTypeId();$v726e8e4809d4c1b28a6549d86436a124 = umiObjectTypesCollection::getInstance()->getType($v6301cee35ea764a1e241978f93f01069);if ($v7949589eb56e86e63a92bb63da1d129c) {$vd05b6ed7d2345020440df396d6da7f73 = $v726e8e4809d4c1b28a6549d86436a124->getAllFields();foreach ($vd05b6ed7d2345020440df396d6da7f73 as $v06e3d36fa30cea095545139854ad1fb9) {$vb068931cc450442b63f5b3d276ea4297 = $v06e3d36fa30cea095545139854ad1fb9->getName();$vf7c0b9f29873bcb1daa361baa7a89b38[$vb068931cc450442b63f5b3d276ea4297] = $va8cfde6331bd59eb2ac96f8911c4b666->getValue($vb068931cc450442b63f5b3d276ea4297);}$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%scope%', system_print_template_scope($vf7c0b9f29873bcb1daa361baa7a89b38), $v9a0364b9e99bb480dd25e1f0284c8555);}if (preg_match_all("/%([A-z0-9\-_]*)%/", $v9a0364b9e99bb480dd25e1f0284c8555, $v9c28d32df234037773be184dbdafc274)) {foreach ($v9c28d32df234037773be184dbdafc274[1] as $v1dd0f389833ad9a30002555c9e9b6d68) {if ($v726e8e4809d4c1b28a6549d86436a124->getFieldId($v1dd0f389833ad9a30002555c9e9b6d68)) {$v2063c1608d6e0baf80249c42e2be5804 = $va8cfde6331bd59eb2ac96f8911c4b666->getValue($v1dd0f389833ad9a30002555c9e9b6d68);if (is_object($v2063c1608d6e0baf80249c42e2be5804)) {if ($v2063c1608d6e0baf80249c42e2be5804 instanceof umiDate) {$v2063c1608d6e0baf80249c42e2be5804 = $v2063c1608d6e0baf80249c42e2be5804->getFormattedDate('U');}if ($v2063c1608d6e0baf80249c42e2be5804 instanceof umiFile) {$v2063c1608d6e0baf80249c42e2be5804 = $v2063c1608d6e0baf80249c42e2be5804->getFilePath(true);}if ($v2063c1608d6e0baf80249c42e2be5804 instanceof umiHierarchy) {$v2063c1608d6e0baf80249c42e2be5804 = $v2063c1608d6e0baf80249c42e2be5804->getName();}}if (is_array($v2063c1608d6e0baf80249c42e2be5804)) {$ve2942a04780e223b215eb8b663cf5353 = umiCount($v2063c1608d6e0baf80249c42e2be5804);$v5b57ab60c984eec4bc98143f6d1e8775 = '';for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $ve2942a04780e223b215eb8b663cf5353;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$v011b490bdf103c894382e6f6d1c48a30 = $v2063c1608d6e0baf80249c42e2be5804[$v865c0c0b4ab0e063e5caa3387c1a8741];if (is_numeric($v011b490bdf103c894382e6f6d1c48a30)) {$vbe8f80182e0c983916da7338c2c1c040 = $v22df6b77ddb3d4a444fba472a24b327d->getObject($v011b490bdf103c894382e6f6d1c48a30);if ($vbe8f80182e0c983916da7338c2c1c040) {$v011b490bdf103c894382e6f6d1c48a30 = $vbe8f80182e0c983916da7338c2c1c040->getName();unset($vbe8f80182e0c983916da7338c2c1c040);}else {continue;}}if ($v011b490bdf103c894382e6f6d1c48a30 instanceof iUmiHierarchyElement) {$v011b490bdf103c894382e6f6d1c48a30 = $v011b490bdf103c894382e6f6d1c48a30->getName();}$v5b57ab60c984eec4bc98143f6d1e8775 .= $v011b490bdf103c894382e6f6d1c48a30;if ($v865c0c0b4ab0e063e5caa3387c1a8741 < ($ve2942a04780e223b215eb8b663cf5353 - 1)) {$v5b57ab60c984eec4bc98143f6d1e8775 .= ', ';}}$v2063c1608d6e0baf80249c42e2be5804 = $v5b57ab60c984eec4bc98143f6d1e8775;}if (contains($v2063c1608d6e0baf80249c42e2be5804, '%')) {$v2063c1608d6e0baf80249c42e2be5804 = def_module::parseTPLMacroses($v2063c1608d6e0baf80249c42e2be5804);}$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%' . $v1dd0f389833ad9a30002555c9e9b6d68 . '%', $v2063c1608d6e0baf80249c42e2be5804, $v9a0364b9e99bb480dd25e1f0284c8555);}}}if (contains($v9a0364b9e99bb480dd25e1f0284c8555, 'id%')) {$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%id%', $v7552cd149af7495ee7d8225974e50f80, $v9a0364b9e99bb480dd25e1f0284c8555);$v9a0364b9e99bb480dd25e1f0284c8555 = str_replace('%pid%', $v8b1dc169bf460ee884fceef66c6607d6->getCurrentElementId(), $v9a0364b9e99bb480dd25e1f0284c8555);}return $v9a0364b9e99bb480dd25e1f0284c8555;}function system_print_template_scope($vf7c0b9f29873bcb1daa361baa7a89b38, $v77abb8285d9109fa3adaa962b1d8312f = false) {list($v14511f2f5564650d129ca7cabc333278, $v6f493ab3d3cafc90de6606e1d559cb97, $vae044de305b3ae44fc378dfe0e95b101) = def_module::loadTemplates(   'system/reflection',   'scope_dump_block',   'scope_dump_line_variable',   'scope_dump_line_macro'  );$v8c872b0c9f80fb4709c8e137d5d2191a = '';foreach ($vf7c0b9f29873bcb1daa361baa7a89b38 as $vb068931cc450442b63f5b3d276ea4297 => $v2063c1608d6e0baf80249c42e2be5804) {if ($vb068931cc450442b63f5b3d276ea4297 == '#meta') {continue;}if (is_array($v2063c1608d6e0baf80249c42e2be5804)) {$vfa816edb83e95bf0c8da580bdfd491ef = str_replace('%name%', $vb068931cc450442b63f5b3d276ea4297, $vae044de305b3ae44fc378dfe0e95b101);}else {$vfa816edb83e95bf0c8da580bdfd491ef = $v6f493ab3d3cafc90de6606e1d559cb97;$vfa816edb83e95bf0c8da580bdfd491ef = str_replace('%name%', $vb068931cc450442b63f5b3d276ea4297, $vfa816edb83e95bf0c8da580bdfd491ef);$vfa816edb83e95bf0c8da580bdfd491ef = str_replace('%type%', gettype($v2063c1608d6e0baf80249c42e2be5804), $vfa816edb83e95bf0c8da580bdfd491ef);$vfa816edb83e95bf0c8da580bdfd491ef = str_replace('%value%', htmlspecialchars($v2063c1608d6e0baf80249c42e2be5804), $vfa816edb83e95bf0c8da580bdfd491ef);}$v8c872b0c9f80fb4709c8e137d5d2191a .= $vfa816edb83e95bf0c8da580bdfd491ef;}if (isset($vf7c0b9f29873bcb1daa361baa7a89b38['#meta'])) {$v77abb8285d9109fa3adaa962b1d8312f = isset($vf7c0b9f29873bcb1daa361baa7a89b38['#meta']['name']) ? $vf7c0b9f29873bcb1daa361baa7a89b38['#meta']['name'] : '';$vf6b5fef6cb1ab808d349cc3bd4e14816 = isset($vf7c0b9f29873bcb1daa361baa7a89b38['#meta']['file']) ? $vf7c0b9f29873bcb1daa361baa7a89b38['#meta']['file'] : '';}else {$v77abb8285d9109fa3adaa962b1d8312f = '';$vf6b5fef6cb1ab808d349cc3bd4e14816 = '';}$v14511f2f5564650d129ca7cabc333278 = str_replace('%lines%', $v8c872b0c9f80fb4709c8e137d5d2191a, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = str_replace('%block_name%', $v77abb8285d9109fa3adaa962b1d8312f, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = str_replace('%block_file%', $vf6b5fef6cb1ab808d349cc3bd4e14816, $v14511f2f5564650d129ca7cabc333278);$v14511f2f5564650d129ca7cabc333278 = preg_replace('/%[A-z0-9_]+%/i', '', $v14511f2f5564650d129ca7cabc333278);return $v14511f2f5564650d129ca7cabc333278;}function isDemoMode() {$vc65f234fae60d823c1f1bf00566248a0 = mainConfiguration::getInstance()->get('system', 'version-line');$v66172920fd92553e31ce285b4336619f = $vc65f234fae60d823c1f1bf00566248a0 !== null;return ($v66172920fd92553e31ce285b4336619f && $vc65f234fae60d823c1f1bf00566248a0 === 'demo');}function isCronMode() {return defined(iConfiguration::CRON_MODE) && constant(iConfiguration::CRON_MODE);}function getCronMode() {if (!isCronMode()) {return false;}return constant(iConfiguration::CRON_MODE);}function isCronCliMode() {return getCronMode() == iConfiguration::CLI_MODE;}function isCronHttpMode() {return getCronMode() == iConfiguration::HTTP_MODE;}function is_demo() {return isDemoMode();}function detectCharset($vb45cffe084dd3d20d928bee85e7b0f21) {if (preg_match("/[\x{0000}-\x{FFFF}]+/u", $vb45cffe084dd3d20d928bee85e7b0f21)) {return 'UTF-8';}$v84bea1f0fd2ce16f7e562a9f06ef03d3 = 'CP1251';if (!function_exists('iconv')) {return $v84bea1f0fd2ce16f7e562a9f06ef03d3;}$vdcd69caaf3a0cba43436f452e1cbc8ce = [   'CP1251',   'ISO-8859-5',   'KOI8-R',   'UTF-8',   'CP866'  ];if (function_exists('mb_detect_encoding')) {return mb_detect_encoding($vb45cffe084dd3d20d928bee85e7b0f21, implode(', ', $vdcd69caaf3a0cba43436f452e1cbc8ce));}return 'UTF-8';}function checkAllowedDiskSize($v4b3a6218bb3e3a7303e8a171a60fcf92 = false) {$v985207554f733f00e7ec62dfb35653b8 = mainConfiguration::getInstance()->get('system', 'quota-files-and-images');return isAllowedToWriteBytes($v4b3a6218bb3e3a7303e8a171a60fcf92, getResourcesDirs(), $v985207554f733f00e7ec62dfb35653b8);}function getBusyDiskSize($v33030abc929f083da5f6c3f755b46034 = '__default__') {if ($v33030abc929f083da5f6c3f755b46034 === '__default__') {$v33030abc929f083da5f6c3f755b46034 = [USER_IMAGES_PATH, USER_FILES_PATH];}clearstatcache();$v1105d5ffdd5622b43f4a0b16afb0e886 = 0;if (!is_array($v33030abc929f083da5f6c3f755b46034)) {return 0;}foreach ($v33030abc929f083da5f6c3f755b46034 as $v736007832d2167baaae763fd3a3f3cf1) {if (!contains(CURRENT_WORKING_DIR, $v736007832d2167baaae763fd3a3f3cf1)) {$v1105d5ffdd5622b43f4a0b16afb0e886 += getDirSize($v736007832d2167baaae763fd3a3f3cf1);}else {$v1105d5ffdd5622b43f4a0b16afb0e886 += getDirSize(CURRENT_WORKING_DIR . $v736007832d2167baaae763fd3a3f3cf1);}}return $v1105d5ffdd5622b43f4a0b16afb0e886;}function getBusyDiskPercent($v33030abc929f083da5f6c3f755b46034 = '__default__') {$v985207554f733f00e7ec62dfb35653b8 = mainConfiguration::getInstance()->get('system', 'quota-files-and-images');return getOccupiedDiskPercent(getResourcesDirs(), $v985207554f733f00e7ec62dfb35653b8);}function isAllowedToWriteBytes($v4b3a6218bb3e3a7303e8a171a60fcf92, $v33030abc929f083da5f6c3f755b46034, $v4758eab57875cdf40fe7d21ca8afb18d = '0') {if (!$v4b3a6218bb3e3a7303e8a171a60fcf92) {return false;}if ($v4758eab57875cdf40fe7d21ca8afb18d == 0) {return true;}$v985207554f733f00e7ec62dfb35653b8 = getBytesFromString($v4758eab57875cdf40fe7d21ca8afb18d);$v1105d5ffdd5622b43f4a0b16afb0e886 = getBusyDiskSize($v33030abc929f083da5f6c3f755b46034);return $v985207554f733f00e7ec62dfb35653b8 >= $v1105d5ffdd5622b43f4a0b16afb0e886 + $v4b3a6218bb3e3a7303e8a171a60fcf92;}function getOccupiedDiskPercent($v33030abc929f083da5f6c3f755b46034, $v4758eab57875cdf40fe7d21ca8afb18d = '0') {if ($v4758eab57875cdf40fe7d21ca8afb18d == 0 || !is_array($v33030abc929f083da5f6c3f755b46034)) {return 0;}$v985207554f733f00e7ec62dfb35653b8 = getBytesFromString($v4758eab57875cdf40fe7d21ca8afb18d);$v1105d5ffdd5622b43f4a0b16afb0e886 = getBusyDiskSize($v33030abc929f083da5f6c3f755b46034);return ceil($v1105d5ffdd5622b43f4a0b16afb0e886 / $v985207554f733f00e7ec62dfb35653b8 * 100);}function getResourcesDirs() {return [USER_IMAGES_PATH, USER_FILES_PATH];}function getUploadsDir() {return [SYS_TEMP_PATH . '/uploads'];}function getBytesFromString($vb45cffe084dd3d20d928bee85e7b0f21) {if (empty($vb45cffe084dd3d20d928bee85e7b0f21)) {return 0;}$vb45cffe084dd3d20d928bee85e7b0f21 = str_replace(' ', '', mb_strtolower($vb45cffe084dd3d20d928bee85e7b0f21));$v4b3a6218bb3e3a7303e8a171a60fcf92 = $vb45cffe084dd3d20d928bee85e7b0f21;if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'kb')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('kb', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024;}if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'k')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('k', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024;}if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'mb')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('mb', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024 * 1024;}if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'm')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('m', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024 * 1024;}if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'gb')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('gb', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024 * 1024 * 1024;}if (mb_strpos($vb45cffe084dd3d20d928bee85e7b0f21, 'g')) {$v4b3a6218bb3e3a7303e8a171a60fcf92 = (int) str_replace('g', '', $vb45cffe084dd3d20d928bee85e7b0f21) * 1024 * 1024 * 1024;}return $v4b3a6218bb3e3a7303e8a171a60fcf92;}function getDirSizePhp($vd6fe1d0be6347b8ef2427fa629c04485, $v5b2a579f62087d17d79ce59f3de5f6d1 = 0) {$vf7bd60b75b29d79b660a2859395c1a24 = 0;$vfa40e0de4ea41fea162ba8959968eecd = (int) ini_get('max_execution_time');$vfa40e0de4ea41fea162ba8959968eecd = $vfa40e0de4ea41fea162ba8959968eecd > 0 ? $vfa40e0de4ea41fea162ba8959968eecd * 0.5 : 2;$v5b2a579f62087d17d79ce59f3de5f6d1 = $v5b2a579f62087d17d79ce59f3de5f6d1 === 0 ? microtime(true) : $v5b2a579f62087d17d79ce59f3de5f6d1;if (mb_substr($vd6fe1d0be6347b8ef2427fa629c04485, -1, 1) !== DIRECTORY_SEPARATOR) {$vd6fe1d0be6347b8ef2427fa629c04485 .= DIRECTORY_SEPARATOR;}if (is_file($vd6fe1d0be6347b8ef2427fa629c04485)) {return filesize($vd6fe1d0be6347b8ef2427fa629c04485);}if (!is_dir($vd6fe1d0be6347b8ef2427fa629c04485)) {return false;}$v45b963397aa40d4a0063e0d85e4fe7a1 = glob(rtrim($vd6fe1d0be6347b8ef2427fa629c04485, '/') . '/*', GLOB_NOSORT);$v45b963397aa40d4a0063e0d85e4fe7a1 = $v45b963397aa40d4a0063e0d85e4fe7a1 ?: [];foreach ($v45b963397aa40d4a0063e0d85e4fe7a1 as $v8c7dd922ad47494fc02c388e12c00eac) {if (microtime(true) - $v5b2a579f62087d17d79ce59f3de5f6d1 >= $vfa40e0de4ea41fea162ba8959968eecd) {return $vf7bd60b75b29d79b660a2859395c1a24;}$vf7bd60b75b29d79b660a2859395c1a24 += is_file($v8c7dd922ad47494fc02c388e12c00eac) ? filesize($v8c7dd922ad47494fc02c388e12c00eac) : getDirSizePhp($v8c7dd922ad47494fc02c388e12c00eac, $v5b2a579f62087d17d79ce59f3de5f6d1);}return $vf7bd60b75b29d79b660a2859395c1a24;}function getDirSizeConsole($vd6fe1d0be6347b8ef2427fa629c04485) {$vd6fe1d0be6347b8ef2427fa629c04485 = realpath($vd6fe1d0be6347b8ef2427fa629c04485);if (contains(mb_strtolower(PHP_OS), 'linux')) {$vf98ed07a4d5f50f7de1410d905f1477f = popen('/usr/bin/du -sk -b ' . $vd6fe1d0be6347b8ef2427fa629c04485, 'r');$vf7bd60b75b29d79b660a2859395c1a24 = fgets($vf98ed07a4d5f50f7de1410d905f1477f, 4096);$vf7bd60b75b29d79b660a2859395c1a24 = mb_substr($vf7bd60b75b29d79b660a2859395c1a24, 0, mb_strpos($vf7bd60b75b29d79b660a2859395c1a24, "\t"));pclose($vf98ed07a4d5f50f7de1410d905f1477f);}else {if (contains(mb_strtolower(PHP_OS), 'win') && class_exists('com')) {$vbe8f80182e0c983916da7338c2c1c040 = new COM ('scripting.filesystemobject');if (is_object($vbe8f80182e0c983916da7338c2c1c040)) {$v18389a4a9ad5795744699cff0ba66c15 = $vbe8f80182e0c983916da7338c2c1c040->getfolder($vd6fe1d0be6347b8ef2427fa629c04485);$vbe8f80182e0c983916da7338c2c1c040 = null;$vf7bd60b75b29d79b660a2859395c1a24 = $v18389a4a9ad5795744699cff0ba66c15->size;}else {$vf7bd60b75b29d79b660a2859395c1a24 = getDirSizePhp($vd6fe1d0be6347b8ef2427fa629c04485);}}else {$vf7bd60b75b29d79b660a2859395c1a24 = getDirSizePhp($vd6fe1d0be6347b8ef2427fa629c04485);}}return $vf7bd60b75b29d79b660a2859395c1a24;}function getDirSize($vd6fe1d0be6347b8ef2427fa629c04485) {$v1af60c2757c0314f995644b94ffb602e = ini_get('disable_functions');if (!contains($v1af60c2757c0314f995644b94ffb602e, 'popen')) {$vf7bd60b75b29d79b660a2859395c1a24 = getDirSizeConsole($vd6fe1d0be6347b8ef2427fa629c04485);}else {$vf7bd60b75b29d79b660a2859395c1a24 = getDirSizePhp($vd6fe1d0be6347b8ef2427fa629c04485);}return $vf7bd60b75b29d79b660a2859395c1a24;}function checkFileForReading($vd6fe1d0be6347b8ef2427fa629c04485, $v566bbee0f961ad71b54c3c2fd36db053 = []) {$vd6fe1d0be6347b8ef2427fa629c04485 = realpath($vd6fe1d0be6347b8ef2427fa629c04485);if (!file_exists($vd6fe1d0be6347b8ef2427fa629c04485)) {return false;}$vd6fe1d0be6347b8ef2427fa629c04485 = str_replace("\\", '/', $vd6fe1d0be6347b8ef2427fa629c04485);$ve9a95f404b4c843d111ee88f48b2d8d4 = pathinfo($vd6fe1d0be6347b8ef2427fa629c04485);if (isset($ve9a95f404b4c843d111ee88f48b2d8d4)) {if ($ve9a95f404b4c843d111ee88f48b2d8d4['filename'] == '.htaccess' || $ve9a95f404b4c843d111ee88f48b2d8d4['filename'] == '.htpasswd') {return false;}}return !(umiCount($v566bbee0f961ad71b54c3c2fd36db053) && !in_array($ve9a95f404b4c843d111ee88f48b2d8d4['extension'], $v566bbee0f961ad71b54c3c2fd36db053));}function system_is_mobile() {return Service::Request()->isMobile();}function translit($va43c1b0aa53a0c908810c06ab1ff3967, $v15d61712450a686a7f365adf4fef581f = 'R_TO_E') {$v3e396061ea36cab13a403292255e37d6 = [   'Э',   'Ч',   'Ш',   'Ё',   'Ё',   'Ж',   'Ю',   'Ю',   "\Я",   "\Я",   'А',   'Б',   'В',   'Г',   'Д',   'Е',   'З',   'И',   'Й',   'К',   'Л',   'М',   'Н',   'О',   'П',   'Р',   'С',   'Т',   'У',   'Ф',   'Х',   'Ц',   'Щ',   'Ъ',   'Ы',   'Ь'  ];$v91e9f0f521a498732fab5a0eeb8d79d1 = [   'э',   'ч',   'ш',   'ё',   'ё',   'ж',   'ю',   'ю',   'я',   'я',   'а',   'б',   'в',   'г',   'д',   'е',   'з',   'и',   'й',   'к',   'л',   'м',   'н',   'о',   'п',   'р',   'с',   'т',   'у',   'ф',   'х',   'ц',   'щ',   'ъ',   'ы',   'ь'  ];$v09b8f6492e17d9711ec6394f19b427d5 = [   "E\'",   'CH',   'SH',   'YO',   'JO',   'ZH',   'YU',   'JU',   'YA',   'JA',   'A',   'B',   'V',   'G',   'D',   'E',   'Z',   'I',   'J',   'K',   'L',   'M',   'N',   'O',   'P',   'R',   'S',   'T',   'U',   'F',   'H',   'C',   'W',   '~',   'Y',   "\'"  ];$v149cee0bb60980822dd1146be382d6eb = [   "e\'",   'ch',   'sh',   'yo',   'jo',   'zh',   'yu',   'ju',   'ya',   'ja',   'a',   'b',   'v',   'g',   'd',   'e',   'z',   'i',   'j',   'k',   'l',   'm',   'n',   'o',   'p',   'r',   's',   't',   'u',   'f',   'h',   'c',   'w',   '~',   'y',   "\'"  ];$v26918d22023967c71dc711b48689bcee = [   'Э',   'Ч',   'Ш',   'Ё',   'Ё',   'Ж',   'Ю',   'Ю',   'Я',   'Я',   'А',   'Б',   'В',   'Г',   'Д',   'Е',   'З',   'И',   'Й',   'К',   'Л',   'М',   'Н',   'О',   'П',   'Р',   'С',   'Т',   'У',   'Ф',   'Х',   'Ц',   'Щ',   'Ъ',   'Ы',   'Ь'  ];$vc2ed3225ce8d87037c449d861b2a9a72 = [   'э',   'ч',   'ш',   'ё',   'ё',   'ж',   'ю',   'ю',   'я',   'я',   'а',   'б',   'в',   'г',   'д',   'е',   'з',   'и',   'й',   'к',   'л',   'м',   'н',   'о',   'п',   'р',   'с',   'т',   'у',   'ф',   'х',   'ц',   'щ',   'ъ',   'ы',   'ь'  ];$v4805086766da260241b1809e47c4ae1b = [   "E'",   'CH',   'SH',   'YO',   'JO',   'ZH',   'YU',   'JU',   'YA',   'JA',   'A',   'B',   'V',   '',   'D',   'E',   'Z',   'I',   'J',   'K',   'L',   'M',   'N',   'O',   'P',   'R',   'S',   'T',   'U',   'F',   'H',   'C',   'W',   '~',   'Y',   "'"  ];$v70a71974615f1ab10ed02e2553a4dcf1 = [   "e'",   'ch',   'sh',   'yo',   'jo',   'zh',   'yu',   'ju',   'ya',   'ja',   'a',   'b',   'v',   '',   'd',   'e',   'z',   'i',   'j',   'k',   'l',   'm',   'n',   'o',   'p',   'r',   's',   't',   'u',   'f',   'h',   'c',   'w',   '~',   'y',   "'"  ];$va24b64420eae7ee592a5d87ce7c1c42a = $va43c1b0aa53a0c908810c06ab1ff3967;$v9b207167e5381c47682c6b4f58a623fb = $va43c1b0aa53a0c908810c06ab1ff3967;if ($v15d61712450a686a7f365adf4fef581f == 'E_TO_R') {if ($va24b64420eae7ee592a5d87ce7c1c42a) {for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < umiCount($v70a71974615f1ab10ed02e2553a4dcf1);$v865c0c0b4ab0e063e5caa3387c1a8741++) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v70a71974615f1ab10ed02e2553a4dcf1[$v865c0c0b4ab0e063e5caa3387c1a8741], $v91e9f0f521a498732fab5a0eeb8d79d1[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);}for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < umiCount($v4805086766da260241b1809e47c4ae1b);$v865c0c0b4ab0e063e5caa3387c1a8741++) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v4805086766da260241b1809e47c4ae1b[$v865c0c0b4ab0e063e5caa3387c1a8741], $v3e396061ea36cab13a403292255e37d6[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v4805086766da260241b1809e47c4ae1b[$v865c0c0b4ab0e063e5caa3387c1a8741], $v3e396061ea36cab13a403292255e37d6[$v865c0c0b4ab0e063e5caa3387c1a8741], $va24b64420eae7ee592a5d87ce7c1c42a);}$v9b207167e5381c47682c6b4f58a623fb = $va24b64420eae7ee592a5d87ce7c1c42a;}}if ($v15d61712450a686a7f365adf4fef581f == 'R_TO_E') {if ($va24b64420eae7ee592a5d87ce7c1c42a) {$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($vc2ed3225ce8d87037c449d861b2a9a72, $v149cee0bb60980822dd1146be382d6eb, $va24b64420eae7ee592a5d87ce7c1c42a);$va24b64420eae7ee592a5d87ce7c1c42a = str_replace($v26918d22023967c71dc711b48689bcee, $v149cee0bb60980822dd1146be382d6eb, $va24b64420eae7ee592a5d87ce7c1c42a);$v9b207167e5381c47682c6b4f58a623fb = mb_strtolower($va24b64420eae7ee592a5d87ce7c1c42a);}}$vd98a07f84921b24ee30f86fd8cd85c3c = ['/', "\\", "'", "\t", "\r\n", "\n", '"', ' ', '?', '.'];$v01b6e20344b68835c5ed1ddedf20d531 = ['', '', '', '', '', '', '', '_', '', ''];$v9b207167e5381c47682c6b4f58a623fb = str_replace($vd98a07f84921b24ee30f86fd8cd85c3c, $v01b6e20344b68835c5ed1ddedf20d531, $v9b207167e5381c47682c6b4f58a623fb);$v9b207167e5381c47682c6b4f58a623fb = preg_replace('/[ ]+/', '_', $v9b207167e5381c47682c6b4f58a623fb);return $v9b207167e5381c47682c6b4f58a623fb;}function system_get_tpl($v15d61712450a686a7f365adf4fef581f = 'default') {$v2245023265ae4cf87d02c8b6ba991139 = mainConfiguration::getInstance();$v594c103f2c6e04c3d8ab059f031e0c1a = cmsController::getInstance();$v74c17e3010c33af858d215cfc3552b04 = '';$v5b063e275d506f65ebf1b02d926f19a4 = '';$v47826cacc65c665212b821e6ff80b9b0 = '';if (Service::Request()->isAdmin() && $v15d61712450a686a7f365adf4fef581f == 'current') {$v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';$v6f66e878c62db60568a3487869695820 = 'xslAdminTemplater';$v5b063e275d506f65ebf1b02d926f19a4 = 'main.xsl';$v74c17e3010c33af858d215cfc3552b04 = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.skins', ['skin' => system_get_skinName()]);$permissions = permissionsCollection::getInstance();$vfa53b91ccc1b78668d5af58e1ed3a485 = Service::Auth();$v8e44f0089b076e18a718eb9ca3d94674 = $vfa53b91ccc1b78668d5af58e1ed3a485->getUserId();$vca02d1555c813b1b1ad637654c0fe111 = $permissions->isAllowedMethod(    $v8e44f0089b076e18a718eb9ca3d94674,    $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentModule(),    $v594c103f2c6e04c3d8ab059f031e0c1a->getCurrentMethod()   );if ((!$permissions->isAdmin() || !$vca02d1555c813b1b1ad637654c0fe111) && file_exists($v74c17e3010c33af858d215cfc3552b04 . 'main_login.xsl')) {if ($vfa53b91ccc1b78668d5af58e1ed3a485->isAuthorized()) {$v90f805bfcba6ab75df4ad6da8e6afd9b = "owner_id = {$v8e44f0089b076e18a718eb9ca3d94674}";$v8e59688c095c0b0bad04d8476df25db3 = umiObjectsCollection::getInstance()->getObject($v8e44f0089b076e18a718eb9ca3d94674)->getValue('groups');foreach ($v8e59688c095c0b0bad04d8476df25db3 as $vf2f5fbe4a9d4cc9a39e7a62a513580e9) {$v90f805bfcba6ab75df4ad6da8e6afd9b .= " or owner_id = {$vf2f5fbe4a9d4cc9a39e7a62a513580e9}";}$v4717d53ebfdfea8477f780ec66151dcb = ConnectionPool::getInstance()->getConnection();$vac5c74b64b4b8352ef2f181affb5ac2a = "SELECT `module` FROM cms_permissions WHERE ($v90f805bfcba6ab75df4ad6da8e6afd9b) AND (method = '' OR method IS NULL)";$result = $v4717d53ebfdfea8477f780ec66151dcb->queryResult($vac5c74b64b4b8352ef2f181affb5ac2a);$result->setFetchType(IQueryResult::FETCH_ARRAY);if ($result->length() !== 0) {$vb1444fb0c07653567ad325aa25d4e37a = Service::Registry();foreach ($result as $vf1965a857bc285d26fe22023aa5ab50d) {$v22884db148f0ffb0d830ba431102b0b5 = array_shift($vf1965a857bc285d26fe22023aa5ab50d);$vea9f6aca279138c58f705c8d4cb4b8ce = $vb1444fb0c07653567ad325aa25d4e37a->get("//modules/{$v22884db148f0ffb0d830ba431102b0b5}/default_method_admin");if ($permissions->isAllowedMethod($v8e44f0089b076e18a718eb9ca3d94674, $v22884db148f0ffb0d830ba431102b0b5, $vea9f6aca279138c58f705c8d4cb4b8ce)) {def_module::redirect(         'http://' . Service::DomainDetector()->detectHost() . '/admin/' . $v22884db148f0ffb0d830ba431102b0b5 . '/' . $vea9f6aca279138c58f705c8d4cb4b8ce        );break;}}}}$v5b063e275d506f65ebf1b02d926f19a4 = 'main_login.xsl';}$v47826cacc65c665212b821e6ff80b9b0 = $v74c17e3010c33af858d215cfc3552b04 . $v5b063e275d506f65ebf1b02d926f19a4;}else {$v4091345e6f9742cda418c2e209b8a18c = templatesCollection::getInstance();$v4f2afc9c4099ee1f39c9f551123e54bd = false;$v74f5356453a69e438e0f58ef93103cc0 = getRequest('template_id');if ($v74f5356453a69e438e0f58ef93103cc0) {$v4f2afc9c4099ee1f39c9f551123e54bd = $v4091345e6f9742cda418c2e209b8a18c->getTemplate($v74f5356453a69e438e0f58ef93103cc0);}if (!$v4f2afc9c4099ee1f39c9f551123e54bd instanceof iTemplate) {$v4f2afc9c4099ee1f39c9f551123e54bd = ($v15d61712450a686a7f365adf4fef581f == 'current') ? $v4091345e6f9742cda418c2e209b8a18c->getCurrentTemplate() : $v4091345e6f9742cda418c2e209b8a18c->getDefaultTemplate();}if ($v4f2afc9c4099ee1f39c9f551123e54bd instanceof iTemplate) {$v5b063e275d506f65ebf1b02d926f19a4 = $v4f2afc9c4099ee1f39c9f551123e54bd->getFilename();$v918d83c715c19dd93ff49f87e2fae0b3 = $v4f2afc9c4099ee1f39c9f551123e54bd->getName();$v599dcce2998a6b40b1e38e8c6006cb0a = $v4f2afc9c4099ee1f39c9f551123e54bd->getType();if (!$v599dcce2998a6b40b1e38e8c6006cb0a) {$va6d0361b4287608f60970b6fb009050e = explode('.', $v5b063e275d506f65ebf1b02d926f19a4);switch (array_pop($va6d0361b4287608f60970b6fb009050e)) {case 'xsl':       $v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';break;case 'tpl':       $v599dcce2998a6b40b1e38e8c6006cb0a = 'tpls';break;}}$v0e2d056dfa17731ff69524908f6ad7df = CURRENT_WORKING_DIR . '/templates/' . $v918d83c715c19dd93ff49f87e2fae0b3 . '/' . $v599dcce2998a6b40b1e38e8c6006cb0a . '/';switch ($v599dcce2998a6b40b1e38e8c6006cb0a) {case 'xslt':      $v74c17e3010c33af858d215cfc3552b04 = file_exists($v0e2d056dfa17731ff69524908f6ad7df . $v5b063e275d506f65ebf1b02d926f19a4)       ? $v0e2d056dfa17731ff69524908f6ad7df       : $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v6f66e878c62db60568a3487869695820 = 'xslTemplater';break;case 'tpls':      $v74c17e3010c33af858d215cfc3552b04 = file_exists($v0e2d056dfa17731ff69524908f6ad7df . 'content/' . $v5b063e275d506f65ebf1b02d926f19a4)       ? $v0e2d056dfa17731ff69524908f6ad7df       : $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.tpl');$v6f66e878c62db60568a3487869695820 = 'tplTemplater';break;default :      $v74c17e3010c33af858d215cfc3552b04 = file_exists($v0e2d056dfa17731ff69524908f6ad7df . $v5b063e275d506f65ebf1b02d926f19a4) ? $v0e2d056dfa17731ff69524908f6ad7df : '';$v6f66e878c62db60568a3487869695820 = file_exists(dirname(__FILE__) . '/' . $v599dcce2998a6b40b1e38e8c6006cb0a . '/' . $v599dcce2998a6b40b1e38e8c6006cb0a . 'Templater.php')       ? $v599dcce2998a6b40b1e38e8c6006cb0a . 'Templater'       : '';}if ($v15d61712450a686a7f365adf4fef581f == 'streams') {$v6f66e878c62db60568a3487869695820 = 'xslTemplater';$v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';$v74c17e3010c33af858d215cfc3552b04 = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v5b063e275d506f65ebf1b02d926f19a4 = 'sample.xsl';}if (Service::Request()->isMobile() && file_exists($v74c17e3010c33af858d215cfc3552b04 . 'mobile/' . $v5b063e275d506f65ebf1b02d926f19a4)) {$v74c17e3010c33af858d215cfc3552b04 = $v74c17e3010c33af858d215cfc3552b04 . 'mobile/';}$v47826cacc65c665212b821e6ff80b9b0 = $v74c17e3010c33af858d215cfc3552b04 . ($v599dcce2998a6b40b1e38e8c6006cb0a == 'tpls' ? 'content/' : '') . $v5b063e275d506f65ebf1b02d926f19a4;}else {if ($v15d61712450a686a7f365adf4fef581f == 'default' || $v15d61712450a686a7f365adf4fef581f == 'streams') {$v6f66e878c62db60568a3487869695820 = 'xslTemplater';$v599dcce2998a6b40b1e38e8c6006cb0a = 'xslt';$v74c17e3010c33af858d215cfc3552b04 = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl');$v47826cacc65c665212b821e6ff80b9b0 = $v2245023265ae4cf87d02c8b6ba991139->includeParam('templates.xsl') . 'sample.xsl';}else {$v7f2db423a49b305459147332fb01cf87 = Service::Response()      ->getCurrentBuffer();$v7f2db423a49b305459147332fb01cf87->clear();$v7f2db423a49b305459147332fb01cf87->status(500);$v7f2db423a49b305459147332fb01cf87->push(file_get_contents(SYS_ERRORS_PATH . 'no_design_template.html'));$v7f2db423a49b305459147332fb01cf87->end();}}}$v21ffce5b8a6cc8cc6a41448dd69623c9 = [   'class_name' => $v6f66e878c62db60568a3487869695820,   'type' => $v599dcce2998a6b40b1e38e8c6006cb0a,   'dir_path' => $v74c17e3010c33af858d215cfc3552b04,   'file_path' => $v47826cacc65c665212b821e6ff80b9b0  ];return $v21ffce5b8a6cc8cc6a41448dd69623c9;}function system_remove_cache($v34823136d0dd91d0f5d22db740f7679c) {$v7f6a05a4bb9b16a1f4b36e9000d1bc3c = ini_get('include_path') . 'cache';$v2b185f4da957c7d76b574a32e8b7d55e = md5($v34823136d0dd91d0f5d22db740f7679c);$v87a0860e170e57ac18a827962ccd6816 = $this->cacheFolder . '/' . $this->cacheFileName;if (file_exists($v87a0860e170e57ac18a827962ccd6816)) {return unlink(md5($v87a0860e170e57ac18a827962ccd6816));}return false;}function system_gen_password(  $v2fa47f7c65fec19cc163b195725e3844 = 12,  $ve600074f5086bdfc5c11f7728f7d67f0 = '$#@^&!1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM' ) {$vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7 = '';for ($v865c0c0b4ab0e063e5caa3387c1a8741 = 0;$v865c0c0b4ab0e063e5caa3387c1a8741 < $v2fa47f7c65fec19cc163b195725e3844;$v865c0c0b4ab0e063e5caa3387c1a8741++) {$vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7 .= $ve600074f5086bdfc5c11f7728f7d67f0[mt_rand(0, mb_strlen($ve600074f5086bdfc5c11f7728f7d67f0) - 1)];}return $vb5997cee0d1ef3e5f3f6dc7a8b3ad7d7;}function getPrintableTpl($_sTplName) {if (!isset($_GET['print'])) {return $_sTplName;}$vf604cb7936b847e102de8bf7396a80e2 = mb_substr($_sTplName, 0, mb_strrpos($_sTplName, '.')) . '.print.tpl';return file_exists('tpls/content/' . $vf604cb7936b847e102de8bf7396a80e2) ? $vf604cb7936b847e102de8bf7396a80e2 : $_sTplName;}function system_checkSession() {return null;}function system_setSession() {return null;}function system_removeSession() {return null;}function system_getSession() {return null;}function system_runSession() {return null;}function isLocalMode() {return Service::Request()->isLocal();}